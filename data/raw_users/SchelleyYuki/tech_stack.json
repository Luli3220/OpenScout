[
  {
    "name": "SchelleyYuki/m1-test",
    "stars": 162,
    "description": "Java编译速度对比测试: M1 MacBook Air vs Intel Core i9 MacBook Pro",
    "languages_breakdown": {},
    "files": {
      "README.md": "# 目录\n- [概述](#概述)\n- [先决条件](#先决条件)\n- [测试1: 使用JDK-x64, 运行缺省Maven命令](#测试1-使用JDK-x64-运行缺省Maven命令)\n- [测试2: 使用JDK-x64, 运行优化过的Maven命令](#测试2-使用JDK-x64-运行优化过的Maven命令)\n- [测试3: 使用JDK-aarch64, 运行缺省Maven命令](#测试3-使用JDK-aarch64-运行缺省Maven命令)\n- [测试4: 使用JDK-aarch64, 运行优化过的Maven命令](#测试4-使用JDK-aarch64-运行优化过的Maven命令)\n- [引用](#引用)\n- [关注我](#关注我)\n\n## 概述\n本文列出了我在[我的YouTube视频: M1性能测试](https://youtu.be/o6q8zPmfVLU)里跑过的测试命令，用于比较我的M1 Macbook Ai和我的Intel Core i9 Macbook Pro的编译速度。\n\n测试1和测试2使用的是JDK-x64, 在两台机器上都运行了。\n\n测试3和测试4使用的是JDK-aarch64, 只在M1 Macbook Air上运行。\n\n### Java学习资源\n对学习Java感兴趣的同学，可以参考以下学习资源:\n- [编程入门该学哪门语言? Java? Python? JavaScript? 如何加强编程基本功?](https://youtu.be/6B9Olpve4n0)\n- [分享Java学习经验和Java教程, 解密初学Java的常见误区](https://youtu.be/IFDjrK2y5s4)\n- [如何写出更优雅的Java代码?](https://youtu.be/x4z3K0BsrwM)\n- [Java学习资源精选](https://schelleyyuki.com/learn-java)\n\n## 先决条件\n在你运行这些测试之前，确保你的机器安装了JDK和Maven。\n\nZulu JDK-aarch64的下载地址在这个[页面](https://www.azul.com/downloads/zulu-community/?os=macos&architecture=arm-64-bit&package=jdk)。在我的M1 Macbook Air上, 该JDK被安装在了如下路径: \n```\n/Library/Java/JavaVirtualMachines/zulu-16.jdk\n```\n\n(2020年12月15日更新: 为了让对比测试更加地公平, 最好在i9 Macbook Pro上也使用Zulu JDK, 并且使用和在M1 Macbook Air上版本相同的Zulu JDK。在录制视频时, 我在i9 Macbook Pro上使用的JDK不是Zulu JDK。今天早些时候，我在两台机器上都安装了Zulu Java 8, 又做了一次对比测试。测试结果与我的YouTube视频里的最终结果高度吻合。）\n\n接下来, 下载一个Java repo，比如Apache Commons Lang。\n```\ncd\nmkdir -p src/apache\ncd src/apache\ngit clone https://github.com/apache/commons-lang.git\ncd commons-lang\n```\n## 测试1: 使用JDK-x64, 运行缺省Maven命令\n\n我在M1 Macbook Air和i9 Macbook Pro上都运行了该测试。\n\n此处我假设你的`$JAVA_HOME`指向的是JDK-x64。\n\n以下是编译命令。\n```\nmvn clean compile\n```\n\n如果遇到`Too many files with unapproved license`这个错误，加一个参数就能解决，像下面这样: \n```\nmvn clean -Drat.skip=true compile\n```\n\n该命令的输出会告诉你编译时长。\n\n## 测试2: 使用JDK-x64, 运行优化过的Maven命令\n\n我在M1 Macbook Air和i9 Macbook Pro上都运行了该测试。\n\n```\nMAVEN_OPTS=\"-XX:+TieredCompilation -XX:TieredStopAtLevel=1\" \\\nmvn clean -T 1C -Drat.skip=true compile -offline\n```\n\n解释:\n- `-XX:+TieredCompilation -XX:TieredStopAtLevel=1`: 加速JVM的启动速度。\n- `-T 1C`: 为CPU的每个核都分配一个线程。\n- `-offline`: 不要从远端repos下载, 以确保整个编译过程都在本地进行运算。\n\n## 测试3: 使用JDK-aarch64, 运行缺省Maven命令\n\n该测试只在M1 Macbook Air上运行。现在你需要把`$JAVA_HOME`指向JDK-aarch64。\n```\nJAVA_HOME=\"/Library/Java/JavaVirtualMachines/zulu-16.jdk/Contents/Home\" \\\nmvn clean -Drat.skip=true compile\n```\n\n## 测试4: 使用JDK-aarch64, 运行优化过的Maven命令\n\n该测试只在M1 Macbook Air上运行。现在你需要把`$JAVA_HOME`指向JDK-aarch64，并且在命令中加入优化参数。\n\n```\nJAVA_HOME=\"/Library/Java/JavaVirtualMachines/zulu-16.jdk/Contents/Home\" \\\nMAVEN_OPTS=\"-XX:+TieredCompilation -XX:TieredStopAtLevel=1\" \\\nmvn clean -T 1C -Drat.skip=true compile -offline\n```\n\n## 引用\n- [How to Speed up Your Maven Build](https://www.jrebel.com/blog/how-to-speed-up-your-maven-build)\n- [JEP 391: macOS/AArch64 Port](https://bugs.openjdk.java.net/browse/JDK-8251280)\n\n## 关注我\n- 官网: [SchelleyYuki.com](https://schelleyyuki.com)\n- 油管: [youtube.com/c/SchelleyYuki](https://www.youtube.com/c/SchelleyYuki)\n- Instagram: [instagram.com/schelleyyuki_/](https://www.instagram.com/schelleyyuki_/)\n"
    }
  },
  {
    "name": "SchelleyYuki/software-engineering-primer",
    "stars": 21,
    "description": "Schelley精选的编程学习资源和折扣福利，包括Udacity折扣，AlgoExpert折扣，AlgoMonster折扣，Educative折扣，Exponent折扣",
    "languages_breakdown": {},
    "files": {
      "README.md": "# 编程学习资源\n本文汇总了SchelleyYuki精选的优质学习资源以及独家折扣福利。\n\n## Java学习资源\n链接：<a href=\"https://schelleyyuki.com/learn-java\" target=\"_blank\">https://schelleyyuki.com/learn-java</a>\n\n## 算法学习资源\n从系统性地学习算法，到算法面试复习，到模拟面试\n\n链接：<a href=\"https://schelleyyuki.com/learn-algo\" target=\"_blank\">https://schelleyyuki.com/learn-algo</a>\n\n## 系统设计学习资源\n链接：<a href=\"https://schelleyyuki.com/learn-system-design\" target=\"_blank\">https://schelleyyuki.com/learn-system-design</a>\n\n## Udacity折扣\n链接：<a href=\"https://schelleyyuki.com/udacity-discount\" target=\"_blank\">https://schelleyyuki.com/udacity-discount</a>\n\n## 我的编程相关影片(YouTube)\n- [编程入门该学哪门语言? 如何加强编程基本功?](https://youtu.be/6B9Olpve4n0)\n- [为什么Python比C语言更适合入门?](https://youtu.be/2StGPegYHFM)\n- [程序员必须掌握哪些算法? 如何系统性地学习算法?](https://youtu.be/ZQhMW50wmwg)\n- [动态规划，分治法，贪心算法的联系是什么?](https://youtu.be/wy_8sINTogw)\n- [System Design入门指南：5个必须掌握的知识点](https://youtu.be/8TE2DvpKxvA)\n- [前端, 后端, 全栈分别是做什么的? ](https://youtu.be/5wP0KuBIrZo)\n- [解密初学Java的常见误区](https://youtu.be/IFDjrK2y5s4)\n- [在美国读CS如何找实习？如何备战才能拿到offer？](https://youtu.be/3ydAhAz7ZeI)\n- [如何写出更优雅的Java代码?](https://youtu.be/x4z3K0BsrwM)\n"
    }
  }
]