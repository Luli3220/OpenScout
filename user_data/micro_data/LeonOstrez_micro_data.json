{
  "username": "LeonOstrez",
  "repos": [
    {
      "name": "chat-app",
      "description": null,
      "language": "JavaScript",
      "commits": [
        {
          "sha": "0f81d383994ad94e4d29122bd784f7fd666aa451",
          "message": "Update .gitlab-ci.yml file",
          "author": "Leon Ostrež",
          "files": [
            {
              "filename": ".gitlab-ci.yml",
              "patch": "@@ -25,5 +25,5 @@ stages:          # List of stages for jobs, and their order of execution\n build-job:       # This job runs in the build stage, which runs first.\n   stage: build\n   script:\n-    - 'curl --request POST --header \"Content-Type: application/json\" --data \"{\\\"username\\\":\\\"admin\\\",\\\"password\\\":\\\"$RESPONSIVEYE_ADMIN_PASS\\\",\\\"url\\\":\\\"responsiveye.com\\\"}\" \"https://responsiveye.com/api/v1/processPage\"'\n+    - 'curl --request POST --header \"Content-Type: application/json\" --data \"{\\\"username\\\":\\\"admin\\\",\\\"password\\\":\\\"\\$2b\\$10\\$GZYE/6yCajqqnLoOmqSP.e5E3GrGgi2M3c3pS8Y83.2BVdgQOCS2C\\\",\\\"url\\\":\\\"responsiveye.com\\\"}\" \"https://responsiveye.com/api/v1/processPage\"'\n     - echo \"Compile complete.!\""
            }
          ]
        },
        {
          "sha": "fef3b0ef182eb47440c05050eebed0a9d88d4722",
          "message": "Update .gitlab-ci.yml file",
          "author": "Leon Ostrež",
          "files": [
            {
              "filename": ".gitlab-ci.yml",
              "patch": "@@ -25,5 +25,5 @@ stages:          # List of stages for jobs, and their order of execution\n build-job:       # This job runs in the build stage, which runs first.\n   stage: build\n   script:\n-    - 'curl --request POST --header \"Content-Type: application/json\" --data \"{\\\"username\\\":\\\"admin\\\",\\\"password\\\":\\\"$RESPONSIVEYE_ADMIN_PASS\\\",\\\"url\\\":\\\"responsiveye.com\\\"}\" \"http://0373-141-136-146-0.ngrok.io/api/v1/processPage\"'\n+    - 'curl --request POST --header \"Content-Type: application/json\" --data \"{\\\"username\\\":\\\"admin\\\",\\\"password\\\":\\\"$RESPONSIVEYE_ADMIN_PASS\\\",\\\"url\\\":\\\"responsiveye.com\\\"}\" \"https://responsiveye.com/api/v1/processPage\"'\n     - echo \"Compile complete.!\""
            }
          ]
        },
        {
          "sha": "d968db89b93dc92db71720f13433f5927dd44285",
          "message": "Update .gitlab-ci.yml file",
          "author": "Leon Ostrež",
          "files": [
            {
              "filename": ".gitlab-ci.yml",
              "patch": "@@ -25,5 +25,5 @@ stages:          # List of stages for jobs, and their order of execution\n build-job:       # This job runs in the build stage, which runs first.\n   stage: build\n   script:\n-    - 'curl --request POST --header \"Content-Type: application/json\" --data \"{\\\"username\\\":\\\"xyz\\\",\\\"password\\\":\\\"xyz\\\"}\" \"http://0373-141-136-146-0.ngrok.io/api/v1/processPage\"'\n+    - 'curl --request POST --header \"Content-Type: application/json\" --data \"{\\\"username\\\":\\\"admin\\\",\\\"password\\\":\\\"$RESPONSIVEYE_ADMIN_PASS\\\",\\\"url\\\":\\\"responsiveye.com\\\"}\" \"http://0373-141-136-146-0.ngrok.io/api/v1/processPage\"'\n     - echo \"Compile complete.!\""
            }
          ]
        },
        {
          "sha": "aa844b57799ae4a91dfb02b4f6c7a3cf934fcf4a",
          "message": "Update .gitlab-ci.yml file",
          "author": "Leon Ostrež",
          "files": [
            {
              "filename": ".gitlab-ci.yml",
              "patch": "@@ -25,5 +25,5 @@ stages:          # List of stages for jobs, and their order of execution\n build-job:       # This job runs in the build stage, which runs first.\n   stage: build\n   script:\n-    - 'curl --request POST --header \"Content-Type: application/json\" --data {\"username\":\"xyz\",\"password\":\"xyz\"} \"http://0373-141-136-146-0.ngrok.io/api/v1/processPage\"'\n+    - 'curl --request POST --header \"Content-Type: application/json\" --data \"{\\\"username\\\":\\\"xyz\\\",\\\"password\\\":\\\"xyz\\\"}\" \"http://0373-141-136-146-0.ngrok.io/api/v1/processPage\"'\n     - echo \"Compile complete.!\""
            }
          ]
        },
        {
          "sha": "640678b591cb1b1e862e6455ede12080961b1ea1",
          "message": "Update .gitlab-ci.yml file",
          "author": "Leon Ostrež",
          "files": [
            {
              "filename": ".gitlab-ci.yml",
              "patch": "@@ -25,34 +25,5 @@ stages:          # List of stages for jobs, and their order of execution\n build-job:       # This job runs in the build stage, which runs first.\n   stage: build\n   script:\n-    - echo \"Compiling the code...\"\n+    - 'curl --request POST --header \"Content-Type: application/json\" --data {\"username\":\"xyz\",\"password\":\"xyz\"} \"http://0373-141-136-146-0.ngrok.io/api/v1/processPage\"'\n     - echo \"Compile complete.!\"\n-\n-unit-test-job:   # This job runs in the test stage.\n-  stage: test    # It only starts when the job in the build stage completes successfully.\n-  script:\n-    - echo \"Running unit tests... This will take about 60 seconds.\"\n-    - echo \"Code coverage is 90%\"\n-\n-lint-test-job:   # This job also runs in the test stage.\n-  stage: test    # It can run at the same time as unit-test-job (in parallel).\n-  script:\n-    - echo \"Linting code... This will take about 10 seconds.\"\n-    - echo \"No lint issues found.\"\n-\n-deploy-job:      # This job runs in the deploy stage.\n-  stage: deploy  # It only runs when *both* jobs in the test stage complete successfully.\n-  environment: production\n-  before_script:\n-    - mkdir -p ~/.ssh\n-    - echo -e \"$PROD_SSH_PRIVATE_KEY\" > ~/.ssh/id_rsa\n-    - chmod 600 ~/.ssh/id_rsa\n-    - '[[ -f /.dockerenv ]] && echo -e \"Host *\\n\\tStrictHostKeyChecking no\\n\\n\" > ~/.ssh/config'\n-  script:\n-    - ssh ubuntu@$PROD_SERVER \"\n-        cd ~/chat-app &&\n-          git stash &&\n-          git checkout master &&\n-          git pull origin master &&\n-          npm install\"\n-    - echo \"test\""
            }
          ]
        },
        {
          "sha": "165f2601712bd288b75891e0957764caf5e0e3ad",
          "message": "Update .gitlab-ci.yml file",
          "author": "Leon Ostrež",
          "files": [
            {
              "filename": ".gitlab-ci.yml",
              "patch": "@@ -54,6 +54,5 @@ deploy-job:      # This job runs in the deploy stage.\n           git stash &&\n           git checkout master &&\n           git pull origin master &&\n-          npm i\n-          \"\n+          npm install\"\n     - echo \"test\""
            }
          ]
        },
        {
          "sha": "ae64202ee5cad174935b2689142b082978a56ed8",
          "message": "Update .gitlab-ci.yml file again",
          "author": "Leon Ostrež",
          "files": [
            {
              "filename": ".gitlab-ci.yml",
              "patch": "@@ -50,7 +50,7 @@ deploy-job:      # This job runs in the deploy stage.\n     - '[[ -f /.dockerenv ]] && echo -e \"Host *\\n\\tStrictHostKeyChecking no\\n\\n\" > ~/.ssh/config'\n   script:\n     - ssh ubuntu@$PROD_SERVER \"\n-        cd /chat-app/ &&\n+        cd ~/chat-app &&\n           git stash &&\n           git checkout master &&\n           git pull origin master &&"
            }
          ]
        },
        {
          "sha": "c0a0f96036e4cf01a2ecd515d08edafd3d85d975",
          "message": "Update .gitlab-ci.yml file test",
          "author": "Leon Ostrež",
          "files": [
            {
              "filename": ".gitlab-ci.yml",
              "patch": "@@ -56,3 +56,4 @@ deploy-job:      # This job runs in the deploy stage.\n           git pull origin master &&\n           npm i\n           \"\n+    - echo \"test\""
            }
          ]
        },
        {
          "sha": "e6f99a3776f3afea326603b32ec740a7288a982f",
          "message": "Update .gitlab-ci.yml file",
          "author": "Leon Ostrež",
          "files": [
            {
              "filename": ".gitlab-ci.yml",
              "patch": "@@ -43,7 +43,16 @@ lint-test-job:   # This job also runs in the test stage.\n deploy-job:      # This job runs in the deploy stage.\n   stage: deploy  # It only runs when *both* jobs in the test stage complete successfully.\n   environment: production\n+  before_script:\n+    - mkdir -p ~/.ssh\n+    - echo -e \"$PROD_SSH_PRIVATE_KEY\" > ~/.ssh/id_rsa\n+    - chmod 600 ~/.ssh/id_rsa\n+    - '[[ -f /.dockerenv ]] && echo -e \"Host *\\n\\tStrictHostKeyChecking no\\n\\n\" > ~/.ssh/config'\n   script:\n-    - echo \"Deploying application...\"\n-    - echo \"Application successfully deployed.\"\n-    - echo \"another change\"\n+    - ssh ubuntu@$PROD_SERVER \"\n+        cd /chat-app/ &&\n+          git stash &&\n+          git checkout master &&\n+          git pull origin master &&\n+          npm i\n+          \""
            }
          ]
        },
        {
          "sha": "7af4d11b94a5447a14710879d326f5b0e6488f1e",
          "message": "Update .gitlab-ci.yml file",
          "author": "Leon Ostrež",
          "files": [
            {
              "filename": ".gitlab-ci.yml",
              "patch": "@@ -32,14 +32,12 @@ unit-test-job:   # This job runs in the test stage.\n   stage: test    # It only starts when the job in the build stage completes successfully.\n   script:\n     - echo \"Running unit tests... This will take about 60 seconds.\"\n-    - sleep 60\n     - echo \"Code coverage is 90%\"\n \n lint-test-job:   # This job also runs in the test stage.\n   stage: test    # It can run at the same time as unit-test-job (in parallel).\n   script:\n     - echo \"Linting code... This will take about 10 seconds.\"\n-    - sleep 10\n     - echo \"No lint issues found.\"\n \n deploy-job:      # This job runs in the deploy stage."
            }
          ]
        },
        {
          "sha": "d094a81902814ca4094c8055178f4205484f9e47",
          "message": "Update .gitlab-ci.yml file",
          "author": "Leon Ostrež",
          "files": [
            {
              "filename": ".gitlab-ci.yml",
              "patch": "@@ -48,3 +48,4 @@ deploy-job:      # This job runs in the deploy stage.\n   script:\n     - echo \"Deploying application...\"\n     - echo \"Application successfully deployed.\"\n+    - echo \"another change\""
            }
          ]
        },
        {
          "sha": "d10b7e9b7c2bfaa2bff30f2fec671a55606f1750",
          "message": "test",
          "author": "LeonOstrez",
          "files": [
            {
              "filename": ".gitlab-ci.yml",
              "patch": "@@ -1,4 +1,4 @@\n-# This file is a template, and might need editing before it works on your project.\n+# !This file is a template, and might need editing before it works on your project.\n # This is a sample GitLab CI/CD configuration file that should run without any modifications.\n # It demonstrates a basic 3 stage CI/CD pipeline. Instead of real tests or scripts,\n # it uses echo commands to simulate the pipeline execution."
            }
          ]
        },
        {
          "sha": "6123f0dfeae9feccf6b966734add86b0ff24d44f",
          "message": "Update .gitlab-ci.yml file",
          "author": "Leon Ostrež",
          "files": [
            {
              "filename": ".gitlab-ci.yml",
              "patch": "@@ -26,7 +26,7 @@ build-job:       # This job runs in the build stage, which runs first.\n   stage: build\n   script:\n     - echo \"Compiling the code...\"\n-    - echo \"Compile complete.\"\n+    - echo \"Compile complete.!\"\n \n unit-test-job:   # This job runs in the test stage.\n   stage: test    # It only starts when the job in the build stage completes successfully."
            }
          ]
        },
        {
          "sha": "571cdb1c5eb20369ddaa9d5d4d5f83d7f237bfaa",
          "message": "Update .gitlab-ci.yml file",
          "author": "Leon Ostrež",
          "files": [
            {
              "filename": ".gitlab-ci.yml",
              "patch": "@@ -26,7 +26,6 @@ build-job:       # This job runs in the build stage, which runs first.\n   stage: build\n   script:\n     - echo \"Compiling the code...\"\n-    - npm i\n     - echo \"Compile complete.\"\n \n unit-test-job:   # This job runs in the test stage."
            }
          ]
        },
        {
          "sha": "490bfe0921ae281aadda165861b389e88a020be3",
          "message": "Update .gitlab-ci.yml file",
          "author": "Leon Ostrež",
          "files": [
            {
              "filename": ".gitlab-ci.yml",
              "patch": "@@ -15,7 +15,7 @@\n # https://docs.gitlab.com/ee/development/cicd/templates.html\n # This specific template is located at:\n # https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Getting-Started.gitlab-ci.yml\n-image: node: latest\n+image: node:latest\n \n stages:          # List of stages for jobs, and their order of execution\n   - build"
            }
          ]
        },
        {
          "sha": "7601cf97eae242aa25059feb5a700c24cece4717",
          "message": "Update .gitlab-ci.yml file",
          "author": "Leon Ostrež",
          "files": [
            {
              "filename": ".gitlab-ci.yml",
              "patch": "@@ -15,6 +15,7 @@\n # https://docs.gitlab.com/ee/development/cicd/templates.html\n # This specific template is located at:\n # https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Getting-Started.gitlab-ci.yml\n+image: node: latest\n \n stages:          # List of stages for jobs, and their order of execution\n   - build"
            }
          ]
        },
        {
          "sha": "52de80ec4225500d2fe62c6aa9f7c440e37eca4d",
          "message": "Update .gitlab-ci.yml file",
          "author": "Leon Ostrež",
          "files": [
            {
              "filename": ".gitlab-ci.yml",
              "patch": "@@ -0,0 +1,50 @@\n+# This file is a template, and might need editing before it works on your project.\n+# This is a sample GitLab CI/CD configuration file that should run without any modifications.\n+# It demonstrates a basic 3 stage CI/CD pipeline. Instead of real tests or scripts,\n+# it uses echo commands to simulate the pipeline execution.\n+#\n+# A pipeline is composed of independent jobs that run scripts, grouped into stages.\n+# Stages run in sequential order, but jobs within stages run in parallel.\n+#\n+# For more information, see: https://docs.gitlab.com/ee/ci/yaml/index.html#stages\n+#\n+# You can copy and paste this template into a new `.gitlab-ci.yml` file.\n+# You should not add this template to an existing `.gitlab-ci.yml` file by using the `include:` keyword.\n+#\n+# To contribute improvements to CI/CD templates, please follow the Development guide at:\n+# https://docs.gitlab.com/ee/development/cicd/templates.html\n+# This specific template is located at:\n+# https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Getting-Started.gitlab-ci.yml\n+\n+stages:          # List of stages for jobs, and their order of execution\n+  - build\n+  - test\n+  - deploy\n+\n+build-job:       # This job runs in the build stage, which runs first.\n+  stage: build\n+  script:\n+    - echo \"Compiling the code...\"\n+    - npm i\n+    - echo \"Compile complete.\"\n+\n+unit-test-job:   # This job runs in the test stage.\n+  stage: test    # It only starts when the job in the build stage completes successfully.\n+  script:\n+    - echo \"Running unit tests... This will take about 60 seconds.\"\n+    - sleep 60\n+    - echo \"Code coverage is 90%\"\n+\n+lint-test-job:   # This job also runs in the test stage.\n+  stage: test    # It can run at the same time as unit-test-job (in parallel).\n+  script:\n+    - echo \"Linting code... This will take about 10 seconds.\"\n+    - sleep 10\n+    - echo \"No lint issues found.\"\n+\n+deploy-job:      # This job runs in the deploy stage.\n+  stage: deploy  # It only runs when *both* jobs in the test stage complete successfully.\n+  environment: production\n+  script:\n+    - echo \"Deploying application...\"\n+    - echo \"Application successfully deployed.\""
            }
          ]
        },
        {
          "sha": "6bac300e1d14a45e88d432c7062210e7d06c537d",
          "message": "modified for guys",
          "author": "Leon",
          "files": [
            {
              "filename": "debug.log",
              "patch": "@@ -1 +1,2 @@\n [1021/131807.985:ERROR:crash_report_database_win.cc(428)] unexpected header\n+[1022/192210.593:ERROR:crash_report_database_win.cc(428)] unexpected header"
            },
            {
              "filename": "public/index.html",
              "patch": "@@ -16,10 +16,10 @@ <h3>Join a ChatApp</h3>\n                 <label>Display name</label>\n                 <input type=\"text\" name=\"name\" autofocus />\n             </div>\n-            <div class=\"form-field\">\n+            <!-- <div class=\"form-field\">\n                 <label>Room name</label>\n                 <input type=\"text\" name=\"room\" />               \n-            </div>\n+            </div> -->\n             <div class=\"form-field\">\n                 <button>Join</button>\n             </div>"
            },
            {
              "filename": "public/js/chat.js",
              "patch": "@@ -19,7 +19,7 @@ function scrollToBottom () {\n socket.on('connect', function () {\n     console.log('connected to server');\n     var params = jQuery.deparam(window.location.search);\n-\n+    params.room = \"SWINGERS\";\n     socket.emit('join', params, function (err) {\n         if (err) {\n             alert(err);"
            }
          ]
        },
        {
          "sha": "bd9d7f32e75a6cfb1b27510bf95b847a750c0fe7",
          "message": "send messages only to people in same room",
          "author": "Leon",
          "files": [
            {
              "filename": "public/js/chat.js",
              "patch": "@@ -84,7 +84,6 @@ jQuery('#message-form').on('submit', function (e) {\n     e.preventDefault();\n     var messageTextBox = jQuery('[name=message]');\n     socket.emit('createMessage', {\n-        from: \"User\",\n         text: messageTextBox.val()\n     }, function () {\n         messageTextBox.val('');"
            },
            {
              "filename": "server/server.js",
              "patch": "@@ -38,13 +38,18 @@ io.on('connection', (socket) => {\n     });\n \n     socket.on('createMessage', (message, callback) => {\n-        // console.log('create message', message);\n-        io.emit('newMessage', generateMessage(message.from, message.text));\n+        var user = users.getUser(socket.id);\n+        if (user && isRealString(message.text)) {\n+            io.to(user.room).emit('newMessage', generateMessage(user.name, message.text));\n+        }\n         callback();\n     });\n \n     socket.on('createLocationMessage', (coords) => {\n-        io.emit('newLocationMessage', generateLocationMessage('User', coords.latitude, coords.longitude));\n+        var user = users.getUser(socket.id);\n+        if (user) {\n+            io.to(user.room).emit('newLocationMessage', generateLocationMessage(user.name, coords.latitude, coords.longitude));\n+        }\n     });\n \n     socket.on('disconnect', () => {"
            }
          ]
        },
        {
          "sha": "956f287c7ead085dabd7bc21c2ae5499ca6baf99",
          "message": "Add Users class and update user list event",
          "author": "Leon",
          "files": [
            {
              "filename": "playground/moje.js",
              "patch": "@@ -0,0 +1,4 @@\n+var array = [];\n+if (array === undefined || array.length == 0) {\n+    console.log('nema');\n+}\n\\ No newline at end of file"
            },
            {
              "filename": "public/chat.html",
              "patch": "@@ -54,6 +54,7 @@ <h4>{{from}}</h4>\n     <script src=\"/js/libs/jquery-3.3.1.min.js\"></script>\n     <script src=\"/js/libs/moment.js\"></script>\n     <script src=\"/js/libs/mustache.js\"></script>\n+    <script src=\"/js/libs/deparam.js\"></script>\n     <script src=\"/js/chat.js\"></script>\n </body>\n "
            },
            {
              "filename": "public/js/chat.js",
              "patch": "@@ -18,12 +18,32 @@ function scrollToBottom () {\n \n socket.on('connect', function () {\n     console.log('connected to server');\n+    var params = jQuery.deparam(window.location.search);\n+\n+    socket.emit('join', params, function (err) {\n+        if (err) {\n+            alert(err);\n+            window.location.href = \"/\";\n+        } else {\n+            console.log('no error');\n+        }\n+    });\n });\n \n socket.on('disconnect', function () {\n     console.log('disconnected from server');\n });\n \n+socket.on('updateUserList', function (users) {\n+    var ol = jQuery('<ol></ol>');\n+\n+    users.forEach(function (user) {\n+        ol.append(jQuery('<li></li>').text(user));\n+    });\n+    \n+    jQuery('#users').html(ol);\n+});\n+\n socket.on('newMessage', function (message) {\n     var template = jQuery('#message-template').html();\n     var formatedTime = moment(message.createdAt).format('h:mm a');"
            },
            {
              "filename": "public/js/libs/deparam.js",
              "patch": "@@ -0,0 +1,22 @@\n+/**\n+ * jQuery.deparam - The oposite of jQuery param. Creates an object of query string parameters.\n+ *\n+ * Credits for the idea and Regex:\n+ * http://stevenbenner.com/2010/03/javascript-regex-trick-parse-a-query-string-into-an-object/\n+*/\n+(function($){\n+  $.deparam = $.deparam || function(uri){\n+    if(uri === undefined){\n+      uri = window.location.search;\n+    }\n+    var queryString = {};\n+    uri.replace(\n+      new RegExp(\n+        \"([^?=&]+)(=([^&#]*))?\", \"g\"),\n+        function($0, $1, $2, $3) {\n+        \tqueryString[$1] = decodeURIComponent($3.replace(/\\+/g, '%20'));\n+        }\n+      );\n+      return queryString;\n+    };\n+})(jQuery);"
            },
            {
              "filename": "server/server.js",
              "patch": "@@ -5,21 +5,37 @@ const socketIO = require('socket.io');\n const http = require('http');\n \n const {generateMessage, generateLocationMessage} = require('./utils/message');\n+const {isRealString} = require('./utils/validation');\n+const{Users} = require('./utils/users');\n const publicPath = path.join(__dirname, '../public');\n const port = process.env.PORT;\n \n var app = express();\n var server = http.createServer(app);\n var io = socketIO(server);\n+var users = new Users();\n \n app.use(express.static(publicPath));\n \n io.on('connection', (socket) => {\n-    console.log('new user connected');\n \n-    socket.emit('newMessage', generateMessage(\"ADMIN\", \"Welcome to the chat\"));\n+    socket.on('join', (params, callback) => {\n+        if (!isRealString(params.name) || !isRealString(params.room)) {\n+            return callback('Name and room required');\n+        }\n \n-    socket.broadcast.emit('newMessage', generateMessage(\"ADMIN\", \"New user joined chat\"));\n+        socket.join(params.room);\n+        users.removeUser(socket.id);\n+        users.addUser(socket.id, params.name, params.room);\n+\n+        io.to(params.room).emit('updateUserList', users.getUserList(params.room));\n+\n+        socket.emit('newMessage', generateMessage(\"ADMIN\", \"Welcome to the chat\"));\n+\n+        socket.broadcast.to(params.room).emit('newMessage', generateMessage(\"ADMIN\", `${params.name} joined the chat`));\n+\n+        callback();\n+    });\n \n     socket.on('createMessage', (message, callback) => {\n         // console.log('create message', message);\n@@ -32,7 +48,12 @@ io.on('connection', (socket) => {\n     });\n \n     socket.on('disconnect', () => {\n-        console.log('user was disconnected');\n+        var user = users.removeUser(socket.id);\n+\n+        if (user) {\n+            io.to(user.room).emit('updateUserList', users.getUserList(user.room));\n+            io.to(user.room).emit('newMessage', generateMessage('ADMIN', `${user.name} has left`));\n+        }\n     });\n });\n "
            },
            {
              "filename": "server/utils/users.js",
              "patch": "@@ -0,0 +1,28 @@\n+class Users {\n+    constructor () {\n+        this.users = [];\n+    }\n+    addUser (id, name, room) {\n+        var user = {id, name, room};\n+        this.users.push(user);\n+        return user;\n+    }\n+    removeUser (id) {\n+        var user = this.getUser(id);\n+        if(user) {\n+            this.users = this.users.filter((user) => user.id !== id); \n+        }\n+        return user;\n+    }\n+    getUser (id) {\n+        var user = this.users.filter((user) => user.id === id)[0];\n+        return user;\n+    }\n+    getUserList (room) {\n+        var users = this.users.filter((user) => user.room === room);\n+        var namesArray = users.map((user) => user.name);\n+        return namesArray;\n+    }\n+}\n+\n+module.exports = {Users};\n\\ No newline at end of file"
            },
            {
              "filename": "server/utils/users.test.js",
              "patch": "@@ -0,0 +1,74 @@\n+const expect = require('expect');\n+\n+const{Users} = require('./users');\n+\n+describe('Users', () => {\n+    var users;\n+\n+    beforeEach(() => {\n+        users = new Users();\n+        users.users = [{\n+            id: \"1\",\n+            name: \"Mike\",\n+            room: \"Node Course\"\n+        }, {\n+            id: \"2\",\n+            name: \"Jen\",\n+            room: \"React Course\"\n+        }, {\n+            id: \"3\",\n+            name: \"Julie\",\n+            room: \"Node Course\"\n+        }]\n+    });\n+\n+    it ('should add new user', () => {\n+        var users = new Users();\n+        var user = {\n+            id: 123,\n+            name: \"Andrew\",\n+            room: \"office\"\n+        };\n+        var resUser = users.addUser(user.id, user.name, user.room);\n+\n+        expect(users.users).toMatchObject([user]);\n+    });\n+\n+    it ('should remove a user', () => {\n+        expect(users.removeUser(\"3\")).toMatchObject({\n+            id: \"3\",\n+            name: \"Julie\",\n+            room: \"Node Course\"\n+        });\n+        expect(users.users.length).toBe(2);\n+    });\n+\n+    it ('should not remove a user', () => {\n+        expect(users.removeUser(\"111\")).toBeFalsy();\n+        expect(users.users.length).toBe(3);\n+    });\n+\n+    it ('should find user', () => {\n+        expect(users.getUser(\"1\")).toMatchObject({\n+            id: \"1\",\n+            name: \"Mike\",\n+            room: \"Node Course\"\n+        });\n+    });\n+\n+    it ('should not find user', () => {\n+        expect(users.getUser(\"111\")).toBeFalsy();\n+    });\n+\n+    it ('should return names in Node Course', () => {\n+        var userList = users.getUserList('Node Course');\n+\n+        expect(userList).toMatchObject(['Mike', 'Julie']);\n+    });\n+\n+    it ('should return names in React Course', () => {\n+        var userList = users.getUserList('React Course');\n+\n+        expect(userList).toMatchObject(['Jen']);\n+    });\n+});\n\\ No newline at end of file"
            },
            {
              "filename": "server/utils/validation.js",
              "patch": "@@ -0,0 +1,5 @@\n+var isRealString = (str) => {\n+    return typeof(str) === \"string\" && str.trim().length > 0;\n+};\n+\n+module.exports = {isRealString};\n\\ No newline at end of file"
            },
            {
              "filename": "server/utils/validation.test.js",
              "patch": "@@ -0,0 +1,26 @@\n+const expect = require('expect');\n+\n+var {isRealString} = require('./validation');\n+\n+describe('/isRealString', () => {\n+    it('should reject non-string value', () => {\n+        var name = 20;\n+        var room = true;\n+        expect(isRealString(name)).toBe(false);\n+        expect(isRealString(room)).toBe(false);\n+    });\n+\n+    it('should reject string with only spaces', () => {\n+        var name = \"    \";\n+        var room = \"      \";\n+        expect(isRealString(name)).toBe(false);\n+        expect(isRealString(room)).toBe(false);\n+    });\n+\n+    it('should allow string with non space string', () => {\n+        var name = \"name\";\n+        var room = \"room\";\n+        expect(isRealString(name)).toBe(true);\n+        expect(isRealString(room)).toBe(true);\n+    });\n+});\n\\ No newline at end of file"
            }
          ]
        },
        {
          "sha": "76e4c2bbaaa17ceddc900bdeea037cac2ae54c1f",
          "message": "add join page",
          "author": "Leon",
          "files": [
            {
              "filename": "public/chat.html",
              "patch": "@@ -0,0 +1,60 @@\n+<!DOCTYPE html>\n+<html>\n+\n+<head>\n+    <meta charset=\"utf-8\">\n+    <title>ChatApp</title>\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, user-scalable=no\">\n+    <link rel=\"stylesheet\" href=\"/css/styles.css\">\n+</head>\n+\n+<body class=\"chat\">\n+\n+    <div class=\"chat__sidebar\">\n+        <h3>People</h3>\n+        <div id=\"users\"></div>\n+    </div>\n+\n+    <div class=\"chat__main\">\n+        <ol id=\"messages\" class=\"chat__messages\"></ol>\n+        <div class=\"chat__footer\">\n+            <form id=\"message-form\">\n+                <input name=\"message\" type=\"text\" placeholder=\"Message\" autofocus autocomplete=\"off\" />\n+                <button>Send</button>\n+            </form>\n+            <button id=\"send-location\">Send location</button>\n+        </div>\n+    </div>\n+\n+    <script id=\"message-template\" type=\"text/template\">\n+        <li class=\"message\">\n+            <div class=\"message__title\">\n+                <h4>{{from}}</h4>\n+                <span>{{createdAt}}</span>\n+            </div>\n+            <div class=\"message__body\">\n+                <p>{{text}}</p>\n+            </div>\n+        </li>\n+    </script>\n+\n+    <script id=\"location-message-template\" type=\"text/template\">\n+        <li class=\"message\">\n+            <div class=\"message__title\">\n+                <h4>{{from}}</h4>\n+                <span>{{createdAt}}</span>\n+            </div>\n+            <div class=\"message__body\">\n+                <p><a href=\"{{url}}\" target=\"_blank\">My current location</a></p>\n+            </div>\n+        </li>\n+    </script>\n+\n+    <script src=\"/socket.io/socket.io.js\"></script>\n+    <script src=\"/js/libs/jquery-3.3.1.min.js\"></script>\n+    <script src=\"/js/libs/moment.js\"></script>\n+    <script src=\"/js/libs/mustache.js\"></script>\n+    <script src=\"/js/chat.js\"></script>\n+</body>\n+\n+</html>\n\\ No newline at end of file"
            },
            {
              "filename": "public/index.html",
              "patch": "@@ -1,58 +1,29 @@\n <!DOCTYPE html>\n <html>\n-\n <head>\n     <meta charset=\"utf-8\">\n+    <title>Join ChatApp</title>\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, user-scalable=no\">\n     <link rel=\"stylesheet\" href=\"/css/styles.css\">\n </head>\n-\n-<body class=\"chat\">\n-\n-    <div class=\"chat__sidebar\">\n-        <h3>People</h3>\n-        <div id=\"users\"></div>\n-    </div>\n-\n-    <div class=\"chat__main\">\n-        <ol id=\"messages\" class=\"chat__messages\"></ol>\n-        <div class=\"chat__footer\">\n-            <form id=\"message-form\">\n-                <input name=\"message\" type=\"text\" placeholder=\"Message\" autofocus autocomplete=\"off\" />\n-                <button>Send</button>\n-            </form>\n-            <button id=\"send-location\">Send location</button>\n-        </div>\n-    </div>\n-\n-    <script id=\"message-template\" type=\"text/template\">\n-        <li class=\"message\">\n-            <div class=\"message__title\">\n-                <h4>{{from}}</h4>\n-                <span>{{createdAt}}</span>\n+<body class=\"centered-form\">\n+    <div class=\"centered-form__form\">\n+        <form action=\"/chat.html\"> \n+            <div class=\"form-field\">\n+                <h3>Join a ChatApp</h3>\n             </div>\n-            <div class=\"message__body\">\n-                <p>{{text}}</p>\n+            <div class=\"form-field\">\n+                <label>Display name</label>\n+                <input type=\"text\" name=\"name\" autofocus />\n             </div>\n-        </li>\n-    </script>\n-\n-    <script id=\"location-message-template\" type=\"text/template\">\n-        <li class=\"message\">\n-            <div class=\"message__title\">\n-                <h4>{{from}}</h4>\n-                <span>{{createdAt}}</span>\n+            <div class=\"form-field\">\n+                <label>Room name</label>\n+                <input type=\"text\" name=\"room\" />               \n             </div>\n-            <div class=\"message__body\">\n-                <p><a href=\"{{url}}\" target=\"_blank\">My current location</a></p>\n+            <div class=\"form-field\">\n+                <button>Join</button>\n             </div>\n-        </li>\n-    </script>\n-\n-    <script src=\"/socket.io/socket.io.js\"></script>\n-    <script src=\"/js/libs/jquery-3.3.1.min.js\"></script>\n-    <script src=\"/js/libs/moment.js\"></script>\n-    <script src=\"/js/libs/mustache.js\"></script>\n-    <script src=\"/js/index.js\"></script>\n+        </form>\n+    </div>\n </body>\n-\n </html>\n\\ No newline at end of file"
            },
            {
              "filename": "public/js/chat.js",
              "patch": "No diff"
            }
          ]
        },
        {
          "sha": "92d3fb50486245d52791e9f086012bd07b4076ad",
          "message": "added autoscroll",
          "author": "Leon",
          "files": [
            {
              "filename": "public/js/index.js",
              "patch": "@@ -1,5 +1,21 @@\n var socket = io();\n \n+function scrollToBottom () {\n+    //selectors\n+    var messages = jQuery('#messages');\n+    var newMessage =  messages.children('li:last-child');\n+    //heights\n+    var clientHeight = messages.prop('clientHeight');\n+    var scrollTop = messages.prop('scrollTop');\n+    var scrollHeight = messages.prop('scrollHeight');\n+    var newMessageHeight = newMessage.innerHeight();\n+    var lastMessageHeight = newMessage.prev().innerHeight();\n+\n+    if (clientHeight + scrollTop + newMessageHeight + lastMessageHeight >= scrollHeight) {\n+        messages.scrollTop(scrollHeight);\n+    };\n+};\n+\n socket.on('connect', function () {\n     console.log('connected to server');\n });\n@@ -18,6 +34,7 @@ socket.on('newMessage', function (message) {\n     });\n \n     jQuery('#messages').append(html);\n+    scrollToBottom();\n \n     // var li = jQuery('<li></li>');\n     // li.text(`${message.from} ${formatedTime}: ${message.text}`);\n@@ -35,6 +52,7 @@ socket.on('newLocationMessage', function (message) {\n     });\n \n     jQuery('#messages').append(html);\n+    scrollToBottom();\n \n     // var li = jQuery('<li></li>');\n     // li.text(`${message.from} ${formatedTime}: `).append(`<a href=\"${message.url}\" target=\"_blank\">Location</a>`);"
            }
          ]
        },
        {
          "sha": "6a6cb9edd5b8aa0a5f610354b0040a4295b23416",
          "message": "add mustache.js for message template",
          "author": "Leon",
          "files": [
            {
              "filename": "public/index.html",
              "patch": "@@ -23,11 +23,35 @@ <h3>People</h3>\n             <button id=\"send-location\">Send location</button>\n         </div>\n     </div>\n-    \n+\n+    <script id=\"message-template\" type=\"text/template\">\n+        <li class=\"message\">\n+            <div class=\"message__title\">\n+                <h4>{{from}}</h4>\n+                <span>{{createdAt}}</span>\n+            </div>\n+            <div class=\"message__body\">\n+                <p>{{text}}</p>\n+            </div>\n+        </li>\n+    </script>\n+\n+    <script id=\"location-message-template\" type=\"text/template\">\n+        <li class=\"message\">\n+            <div class=\"message__title\">\n+                <h4>{{from}}</h4>\n+                <span>{{createdAt}}</span>\n+            </div>\n+            <div class=\"message__body\">\n+                <p><a href=\"{{url}}\" target=\"_blank\">My current location</a></p>\n+            </div>\n+        </li>\n+    </script>\n \n     <script src=\"/socket.io/socket.io.js\"></script>\n     <script src=\"/js/libs/jquery-3.3.1.min.js\"></script>\n     <script src=\"/js/libs/moment.js\"></script>\n+    <script src=\"/js/libs/mustache.js\"></script>\n     <script src=\"/js/index.js\"></script>\n </body>\n "
            },
            {
              "filename": "public/js/index.js",
              "patch": "@@ -9,26 +9,38 @@ socket.on('disconnect', function () {\n });\n \n socket.on('newMessage', function (message) {\n+    var template = jQuery('#message-template').html();\n     var formatedTime = moment(message.createdAt).format('h:mm a');\n-    var li = jQuery('<li></li>');\n-    li.text(`${message.from} ${formatedTime}: ${message.text}`);\n+    var html = Mustache.render(template, {\n+        text: message.text,\n+        from: message.from,\n+        createdAt: formatedTime\n+    });\n+\n+    jQuery('#messages').append(html);\n \n-    jQuery('#messages').append(li);\n+    // var li = jQuery('<li></li>');\n+    // li.text(`${message.from} ${formatedTime}: ${message.text}`);\n+\n+    // jQuery('#messages').append(li);\n });\n \n socket.on('newLocationMessage', function (message) {\n-    var li = jQuery('<li></li>');\n-    li.text(`${message.from} ${formatedTime}: `).append(`<a href=\"${message.url}\" target=\"_blank\">Location</a>`);\n+    var template = jQuery('#location-message-template').html();\n+    var formatedTime = moment(message.createdAt).format('h:mm a');\n+    var html = Mustache.render(template, {\n+        url: message.url,\n+        from: message.from,\n+        createdAt: formatedTime\n+    });\n \n-    jQuery('#messages').append(li);\n-});\n+    jQuery('#messages').append(html);\n \n-// socket.emit('createMessage', {\n-//     from: \"Frank\",\n-//     text: \"hola\"\n-// }, function (data) {\n-//     console.log('got it');\n-// });\n+    // var li = jQuery('<li></li>');\n+    // li.text(`${message.from} ${formatedTime}: `).append(`<a href=\"${message.url}\" target=\"_blank\">Location</a>`);\n+\n+    // jQuery('#messages').append(li);\n+});\n \n jQuery('#message-form').on('submit', function (e) {\n     e.preventDefault();"
            },
            {
              "filename": "public/js/libs/mustache.js",
              "patch": "@@ -0,0 +1,682 @@\n+/*!\n+ * mustache.js - Logic-less {{mustache}} templates with JavaScript\n+ * http://github.com/janl/mustache.js\n+ */\n+\n+/*global define: false Mustache: true*/\n+\n+(function defineMustache (global, factory) {\n+  if (typeof exports === 'object' && exports && typeof exports.nodeName !== 'string') {\n+    factory(exports); // CommonJS\n+  } else if (typeof define === 'function' && define.amd) {\n+    define(['exports'], factory); // AMD\n+  } else {\n+    global.Mustache = {};\n+    factory(global.Mustache); // script, wsh, asp\n+  }\n+}(this, function mustacheFactory (mustache) {\n+\n+  var objectToString = Object.prototype.toString;\n+  var isArray = Array.isArray || function isArrayPolyfill (object) {\n+    return objectToString.call(object) === '[object Array]';\n+  };\n+\n+  function isFunction (object) {\n+    return typeof object === 'function';\n+  }\n+\n+  /**\n+   * More correct typeof string handling array\n+   * which normally returns typeof 'object'\n+   */\n+  function typeStr (obj) {\n+    return isArray(obj) ? 'array' : typeof obj;\n+  }\n+\n+  function escapeRegExp (string) {\n+    return string.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, '\\\\$&');\n+  }\n+\n+  /**\n+   * Null safe way of checking whether or not an object,\n+   * including its prototype, has a given property\n+   */\n+  function hasProperty (obj, propName) {\n+    return obj != null && typeof obj === 'object' && (propName in obj);\n+  }\n+\n+  /**\n+   * Safe way of detecting whether or not the given thing is a primitive and\n+   * whether it has the given property\n+   */\n+  function primitiveHasOwnProperty (primitive, propName) {  \n+    return (\n+      primitive != null\n+      && typeof primitive !== 'object'\n+      && primitive.hasOwnProperty\n+      && primitive.hasOwnProperty(propName)\n+    );\n+  }\n+\n+  // Workaround for https://issues.apache.org/jira/browse/COUCHDB-577\n+  // See https://github.com/janl/mustache.js/issues/189\n+  var regExpTest = RegExp.prototype.test;\n+  function testRegExp (re, string) {\n+    return regExpTest.call(re, string);\n+  }\n+\n+  var nonSpaceRe = /\\S/;\n+  function isWhitespace (string) {\n+    return !testRegExp(nonSpaceRe, string);\n+  }\n+\n+  var entityMap = {\n+    '&': '&amp;',\n+    '<': '&lt;',\n+    '>': '&gt;',\n+    '\"': '&quot;',\n+    \"'\": '&#39;',\n+    '/': '&#x2F;',\n+    '`': '&#x60;',\n+    '=': '&#x3D;'\n+  };\n+\n+  function escapeHtml (string) {\n+    return String(string).replace(/[&<>\"'`=\\/]/g, function fromEntityMap (s) {\n+      return entityMap[s];\n+    });\n+  }\n+\n+  var whiteRe = /\\s*/;\n+  var spaceRe = /\\s+/;\n+  var equalsRe = /\\s*=/;\n+  var curlyRe = /\\s*\\}/;\n+  var tagRe = /#|\\^|\\/|>|\\{|&|=|!/;\n+\n+  /**\n+   * Breaks up the given `template` string into a tree of tokens. If the `tags`\n+   * argument is given here it must be an array with two string values: the\n+   * opening and closing tags used in the template (e.g. [ \"<%\", \"%>\" ]). Of\n+   * course, the default is to use mustaches (i.e. mustache.tags).\n+   *\n+   * A token is an array with at least 4 elements. The first element is the\n+   * mustache symbol that was used inside the tag, e.g. \"#\" or \"&\". If the tag\n+   * did not contain a symbol (i.e. {{myValue}}) this element is \"name\". For\n+   * all text that appears outside a symbol this element is \"text\".\n+   *\n+   * The second element of a token is its \"value\". For mustache tags this is\n+   * whatever else was inside the tag besides the opening symbol. For text tokens\n+   * this is the text itself.\n+   *\n+   * The third and fourth elements of the token are the start and end indices,\n+   * respectively, of the token in the original template.\n+   *\n+   * Tokens that are the root node of a subtree contain two more elements: 1) an\n+   * array of tokens in the subtree and 2) the index in the original template at\n+   * which the closing tag for that section begins.\n+   */\n+  function parseTemplate (template, tags) {\n+    if (!template)\n+      return [];\n+\n+    var sections = [];     // Stack to hold section tokens\n+    var tokens = [];       // Buffer to hold the tokens\n+    var spaces = [];       // Indices of whitespace tokens on the current line\n+    var hasTag = false;    // Is there a {{tag}} on the current line?\n+    var nonSpace = false;  // Is there a non-space char on the current line?\n+\n+    // Strips all whitespace tokens array for the current line\n+    // if there was a {{#tag}} on it and otherwise only space.\n+    function stripSpace () {\n+      if (hasTag && !nonSpace) {\n+        while (spaces.length)\n+          delete tokens[spaces.pop()];\n+      } else {\n+        spaces = [];\n+      }\n+\n+      hasTag = false;\n+      nonSpace = false;\n+    }\n+\n+    var openingTagRe, closingTagRe, closingCurlyRe;\n+    function compileTags (tagsToCompile) {\n+      if (typeof tagsToCompile === 'string')\n+        tagsToCompile = tagsToCompile.split(spaceRe, 2);\n+\n+      if (!isArray(tagsToCompile) || tagsToCompile.length !== 2)\n+        throw new Error('Invalid tags: ' + tagsToCompile);\n+\n+      openingTagRe = new RegExp(escapeRegExp(tagsToCompile[0]) + '\\\\s*');\n+      closingTagRe = new RegExp('\\\\s*' + escapeRegExp(tagsToCompile[1]));\n+      closingCurlyRe = new RegExp('\\\\s*' + escapeRegExp('}' + tagsToCompile[1]));\n+    }\n+\n+    compileTags(tags || mustache.tags);\n+\n+    var scanner = new Scanner(template);\n+\n+    var start, type, value, chr, token, openSection;\n+    while (!scanner.eos()) {\n+      start = scanner.pos;\n+\n+      // Match any text between tags.\n+      value = scanner.scanUntil(openingTagRe);\n+\n+      if (value) {\n+        for (var i = 0, valueLength = value.length; i < valueLength; ++i) {\n+          chr = value.charAt(i);\n+\n+          if (isWhitespace(chr)) {\n+            spaces.push(tokens.length);\n+          } else {\n+            nonSpace = true;\n+          }\n+\n+          tokens.push([ 'text', chr, start, start + 1 ]);\n+          start += 1;\n+\n+          // Check for whitespace on the current line.\n+          if (chr === '\\n')\n+            stripSpace();\n+        }\n+      }\n+\n+      // Match the opening tag.\n+      if (!scanner.scan(openingTagRe))\n+        break;\n+\n+      hasTag = true;\n+\n+      // Get the tag type.\n+      type = scanner.scan(tagRe) || 'name';\n+      scanner.scan(whiteRe);\n+\n+      // Get the tag value.\n+      if (type === '=') {\n+        value = scanner.scanUntil(equalsRe);\n+        scanner.scan(equalsRe);\n+        scanner.scanUntil(closingTagRe);\n+      } else if (type === '{') {\n+        value = scanner.scanUntil(closingCurlyRe);\n+        scanner.scan(curlyRe);\n+        scanner.scanUntil(closingTagRe);\n+        type = '&';\n+      } else {\n+        value = scanner.scanUntil(closingTagRe);\n+      }\n+\n+      // Match the closing tag.\n+      if (!scanner.scan(closingTagRe))\n+        throw new Error('Unclosed tag at ' + scanner.pos);\n+\n+      token = [ type, value, start, scanner.pos ];\n+      tokens.push(token);\n+\n+      if (type === '#' || type === '^') {\n+        sections.push(token);\n+      } else if (type === '/') {\n+        // Check section nesting.\n+        openSection = sections.pop();\n+\n+        if (!openSection)\n+          throw new Error('Unopened section \"' + value + '\" at ' + start);\n+\n+        if (openSection[1] !== value)\n+          throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + start);\n+      } else if (type === 'name' || type === '{' || type === '&') {\n+        nonSpace = true;\n+      } else if (type === '=') {\n+        // Set the tags for the next time around.\n+        compileTags(value);\n+      }\n+    }\n+\n+    // Make sure there are no open sections when we're done.\n+    openSection = sections.pop();\n+\n+    if (openSection)\n+      throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + scanner.pos);\n+\n+    return nestTokens(squashTokens(tokens));\n+  }\n+\n+  /**\n+   * Combines the values of consecutive text tokens in the given `tokens` array\n+   * to a single token.\n+   */\n+  function squashTokens (tokens) {\n+    var squashedTokens = [];\n+\n+    var token, lastToken;\n+    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n+      token = tokens[i];\n+\n+      if (token) {\n+        if (token[0] === 'text' && lastToken && lastToken[0] === 'text') {\n+          lastToken[1] += token[1];\n+          lastToken[3] = token[3];\n+        } else {\n+          squashedTokens.push(token);\n+          lastToken = token;\n+        }\n+      }\n+    }\n+\n+    return squashedTokens;\n+  }\n+\n+  /**\n+   * Forms the given array of `tokens` into a nested tree structure where\n+   * tokens that represent a section have two additional items: 1) an array of\n+   * all tokens that appear in that section and 2) the index in the original\n+   * template that represents the end of that section.\n+   */\n+  function nestTokens (tokens) {\n+    var nestedTokens = [];\n+    var collector = nestedTokens;\n+    var sections = [];\n+\n+    var token, section;\n+    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n+      token = tokens[i];\n+\n+      switch (token[0]) {\n+        case '#':\n+        case '^':\n+          collector.push(token);\n+          sections.push(token);\n+          collector = token[4] = [];\n+          break;\n+        case '/':\n+          section = sections.pop();\n+          section[5] = token[2];\n+          collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;\n+          break;\n+        default:\n+          collector.push(token);\n+      }\n+    }\n+\n+    return nestedTokens;\n+  }\n+\n+  /**\n+   * A simple string scanner that is used by the template parser to find\n+   * tokens in template strings.\n+   */\n+  function Scanner (string) {\n+    this.string = string;\n+    this.tail = string;\n+    this.pos = 0;\n+  }\n+\n+  /**\n+   * Returns `true` if the tail is empty (end of string).\n+   */\n+  Scanner.prototype.eos = function eos () {\n+    return this.tail === '';\n+  };\n+\n+  /**\n+   * Tries to match the given regular expression at the current position.\n+   * Returns the matched text if it can match, the empty string otherwise.\n+   */\n+  Scanner.prototype.scan = function scan (re) {\n+    var match = this.tail.match(re);\n+\n+    if (!match || match.index !== 0)\n+      return '';\n+\n+    var string = match[0];\n+\n+    this.tail = this.tail.substring(string.length);\n+    this.pos += string.length;\n+\n+    return string;\n+  };\n+\n+  /**\n+   * Skips all text until the given regular expression can be matched. Returns\n+   * the skipped string, which is the entire tail if no match can be made.\n+   */\n+  Scanner.prototype.scanUntil = function scanUntil (re) {\n+    var index = this.tail.search(re), match;\n+\n+    switch (index) {\n+      case -1:\n+        match = this.tail;\n+        this.tail = '';\n+        break;\n+      case 0:\n+        match = '';\n+        break;\n+      default:\n+        match = this.tail.substring(0, index);\n+        this.tail = this.tail.substring(index);\n+    }\n+\n+    this.pos += match.length;\n+\n+    return match;\n+  };\n+\n+  /**\n+   * Represents a rendering context by wrapping a view object and\n+   * maintaining a reference to the parent context.\n+   */\n+  function Context (view, parentContext) {\n+    this.view = view;\n+    this.cache = { '.': this.view };\n+    this.parent = parentContext;\n+  }\n+\n+  /**\n+   * Creates a new context using the given view with this context\n+   * as the parent.\n+   */\n+  Context.prototype.push = function push (view) {\n+    return new Context(view, this);\n+  };\n+\n+  /**\n+   * Returns the value of the given name in this context, traversing\n+   * up the context hierarchy if the value is absent in this context's view.\n+   */\n+  Context.prototype.lookup = function lookup (name) {\n+    var cache = this.cache;\n+\n+    var value;\n+    if (cache.hasOwnProperty(name)) {\n+      value = cache[name];\n+    } else {\n+      var context = this, intermediateValue, names, index, lookupHit = false;\n+\n+      while (context) {\n+        if (name.indexOf('.') > 0) {\n+          intermediateValue = context.view;\n+          names = name.split('.');\n+          index = 0;\n+\n+          /**\n+           * Using the dot notion path in `name`, we descend through the\n+           * nested objects.\n+           *\n+           * To be certain that the lookup has been successful, we have to\n+           * check if the last object in the path actually has the property\n+           * we are looking for. We store the result in `lookupHit`.\n+           *\n+           * This is specially necessary for when the value has been set to\n+           * `undefined` and we want to avoid looking up parent contexts.\n+           *\n+           * In the case where dot notation is used, we consider the lookup\n+           * to be successful even if the last \"object\" in the path is\n+           * not actually an object but a primitive (e.g., a string, or an\n+           * integer), because it is sometimes useful to access a property\n+           * of an autoboxed primitive, such as the length of a string.\n+           **/\n+          while (intermediateValue != null && index < names.length) {\n+            if (index === names.length - 1)\n+              lookupHit = (\n+                hasProperty(intermediateValue, names[index]) \n+                || primitiveHasOwnProperty(intermediateValue, names[index])\n+              );\n+\n+            intermediateValue = intermediateValue[names[index++]];\n+          }\n+        } else {\n+          intermediateValue = context.view[name];\n+\n+          /**\n+           * Only checking against `hasProperty`, which always returns `false` if\n+           * `context.view` is not an object. Deliberately omitting the check\n+           * against `primitiveHasOwnProperty` if dot notation is not used.\n+           *\n+           * Consider this example:\n+           * ```\n+           * Mustache.render(\"The length of a football field is {{#length}}{{length}}{{/length}}.\", {length: \"100 yards\"})\n+           * ```\n+           *\n+           * If we were to check also against `primitiveHasOwnProperty`, as we do\n+           * in the dot notation case, then render call would return:\n+           *\n+           * \"The length of a football field is 9.\"\n+           *\n+           * rather than the expected:\n+           *\n+           * \"The length of a football field is 100 yards.\"\n+           **/\n+          lookupHit = hasProperty(context.view, name);\n+        }\n+\n+        if (lookupHit) {\n+          value = intermediateValue;\n+          break;\n+        }\n+\n+        context = context.parent;\n+      }\n+\n+      cache[name] = value;\n+    }\n+\n+    if (isFunction(value))\n+      value = value.call(this.view);\n+\n+    return value;\n+  };\n+\n+  /**\n+   * A Writer knows how to take a stream of tokens and render them to a\n+   * string, given a context. It also maintains a cache of templates to\n+   * avoid the need to parse the same template twice.\n+   */\n+  function Writer () {\n+    this.cache = {};\n+  }\n+\n+  /**\n+   * Clears all cached templates in this writer.\n+   */\n+  Writer.prototype.clearCache = function clearCache () {\n+    this.cache = {};\n+  };\n+\n+  /**\n+   * Parses and caches the given `template` according to the given `tags` or\n+   * `mustache.tags` if `tags` is omitted,  and returns the array of tokens\n+   * that is generated from the parse.\n+   */\n+  Writer.prototype.parse = function parse (template, tags) {\n+    var cache = this.cache;\n+    var cacheKey = template + ':' + (tags || mustache.tags).join(':');\n+    var tokens = cache[cacheKey];\n+\n+    if (tokens == null)\n+      tokens = cache[cacheKey] = parseTemplate(template, tags);\n+\n+    return tokens;\n+  };\n+\n+  /**\n+   * High-level method that is used to render the given `template` with\n+   * the given `view`.\n+   *\n+   * The optional `partials` argument may be an object that contains the\n+   * names and templates of partials that are used in the template. It may\n+   * also be a function that is used to load partial templates on the fly\n+   * that takes a single argument: the name of the partial.\n+   *\n+   * If the optional `tags` argument is given here it must be an array with two\n+   * string values: the opening and closing tags used in the template (e.g.\n+   * [ \"<%\", \"%>\" ]). The default is to mustache.tags.\n+   */\n+  Writer.prototype.render = function render (template, view, partials, tags) {\n+    var tokens = this.parse(template, tags);\n+    var context = (view instanceof Context) ? view : new Context(view);\n+    return this.renderTokens(tokens, context, partials, template);\n+  };\n+\n+  /**\n+   * Low-level method that renders the given array of `tokens` using\n+   * the given `context` and `partials`.\n+   *\n+   * Note: The `originalTemplate` is only ever used to extract the portion\n+   * of the original template that was contained in a higher-order section.\n+   * If the template doesn't use higher-order sections, this argument may\n+   * be omitted.\n+   */\n+  Writer.prototype.renderTokens = function renderTokens (tokens, context, partials, originalTemplate) {\n+    var buffer = '';\n+\n+    var token, symbol, value;\n+    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n+      value = undefined;\n+      token = tokens[i];\n+      symbol = token[0];\n+\n+      if (symbol === '#') value = this.renderSection(token, context, partials, originalTemplate);\n+      else if (symbol === '^') value = this.renderInverted(token, context, partials, originalTemplate);\n+      else if (symbol === '>') value = this.renderPartial(token, context, partials, originalTemplate);\n+      else if (symbol === '&') value = this.unescapedValue(token, context);\n+      else if (symbol === 'name') value = this.escapedValue(token, context);\n+      else if (symbol === 'text') value = this.rawValue(token);\n+\n+      if (value !== undefined)\n+        buffer += value;\n+    }\n+\n+    return buffer;\n+  };\n+\n+  Writer.prototype.renderSection = function renderSection (token, context, partials, originalTemplate) {\n+    var self = this;\n+    var buffer = '';\n+    var value = context.lookup(token[1]);\n+\n+    // This function is used to render an arbitrary template\n+    // in the current context by higher-order sections.\n+    function subRender (template) {\n+      return self.render(template, context, partials);\n+    }\n+\n+    if (!value) return;\n+\n+    if (isArray(value)) {\n+      for (var j = 0, valueLength = value.length; j < valueLength; ++j) {\n+        buffer += this.renderTokens(token[4], context.push(value[j]), partials, originalTemplate);\n+      }\n+    } else if (typeof value === 'object' || typeof value === 'string' || typeof value === 'number') {\n+      buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate);\n+    } else if (isFunction(value)) {\n+      if (typeof originalTemplate !== 'string')\n+        throw new Error('Cannot use higher-order sections without the original template');\n+\n+      // Extract the portion of the original template that the section contains.\n+      value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);\n+\n+      if (value != null)\n+        buffer += value;\n+    } else {\n+      buffer += this.renderTokens(token[4], context, partials, originalTemplate);\n+    }\n+    return buffer;\n+  };\n+\n+  Writer.prototype.renderInverted = function renderInverted (token, context, partials, originalTemplate) {\n+    var value = context.lookup(token[1]);\n+\n+    // Use JavaScript's definition of falsy. Include empty arrays.\n+    // See https://github.com/janl/mustache.js/issues/186\n+    if (!value || (isArray(value) && value.length === 0))\n+      return this.renderTokens(token[4], context, partials, originalTemplate);\n+  };\n+\n+  Writer.prototype.renderPartial = function renderPartial (token, context, partials) {\n+    if (!partials) return;\n+\n+    var value = isFunction(partials) ? partials(token[1]) : partials[token[1]];\n+    if (value != null)\n+      return this.renderTokens(this.parse(value), context, partials, value);\n+  };\n+\n+  Writer.prototype.unescapedValue = function unescapedValue (token, context) {\n+    var value = context.lookup(token[1]);\n+    if (value != null)\n+      return value;\n+  };\n+\n+  Writer.prototype.escapedValue = function escapedValue (token, context) {\n+    var value = context.lookup(token[1]);\n+    if (value != null)\n+      return mustache.escape(value);\n+  };\n+\n+  Writer.prototype.rawValue = function rawValue (token) {\n+    return token[1];\n+  };\n+\n+  mustache.name = 'mustache.js';\n+  mustache.version = '3.0.0';\n+  mustache.tags = [ '{{', '}}' ];\n+\n+  // All high-level mustache.* functions use this writer.\n+  var defaultWriter = new Writer();\n+\n+  /**\n+   * Clears all cached templates in the default writer.\n+   */\n+  mustache.clearCache = function clearCache () {\n+    return defaultWriter.clearCache();\n+  };\n+\n+  /**\n+   * Parses and caches the given template in the default writer and returns the\n+   * array of tokens it contains. Doing this ahead of time avoids the need to\n+   * parse templates on the fly as they are rendered.\n+   */\n+  mustache.parse = function parse (template, tags) {\n+    return defaultWriter.parse(template, tags);\n+  };\n+\n+  /**\n+   * Renders the `template` with the given `view` and `partials` using the\n+   * default writer. If the optional `tags` argument is given here it must be an\n+   * array with two string values: the opening and closing tags used in the\n+   * template (e.g. [ \"<%\", \"%>\" ]). The default is to mustache.tags.\n+   */\n+  mustache.render = function render (template, view, partials, tags) {\n+    if (typeof template !== 'string') {\n+      throw new TypeError('Invalid template! Template should be a \"string\" ' +\n+                          'but \"' + typeStr(template) + '\" was given as the first ' +\n+                          'argument for mustache#render(template, view, partials)');\n+    }\n+\n+    return defaultWriter.render(template, view, partials, tags);\n+  };\n+\n+  // This is here for backwards compatibility with 0.4.x.,\n+  /*eslint-disable */ // eslint wants camel cased function name\n+  mustache.to_html = function to_html (template, view, partials, send) {\n+    /*eslint-enable*/\n+\n+    var result = mustache.render(template, view, partials);\n+\n+    if (isFunction(send)) {\n+      send(result);\n+    } else {\n+      return result;\n+    }\n+  };\n+\n+  // Export the escaping function so that the user may override it.\n+  // See https://github.com/janl/mustache.js/issues/244\n+  mustache.escape = escapeHtml;\n+\n+  // Export these mainly for testing, but also for advanced usage.\n+  mustache.Scanner = Scanner;\n+  mustache.Context = Context;\n+  mustache.Writer = Writer;\n+\n+  return mustache;\n+}));"
            }
          ]
        },
        {
          "sha": "717269d853eddf75b403110415abc0b510ab6df1",
          "message": "Format timestamps using momentjs",
          "author": "Leon",
          "files": [
            {
              "filename": "package-lock.json",
              "patch": "@@ -2601,6 +2601,11 @@\n         }\n       }\n     },\n+    \"moment\": {\n+      \"version\": \"2.22.2\",\n+      \"resolved\": \"https://registry.npmjs.org/moment/-/moment-2.22.2.tgz\",\n+      \"integrity\": \"sha1-PCV/mDn8DpP/UxSWMiOeuQeD/2Y=\"\n+    },\n     \"ms\": {\n       \"version\": \"2.0.0\",\n       \"resolved\": \"https://registry.npmjs.org/ms/-/ms-2.0.0.tgz\","
            },
            {
              "filename": "package.json",
              "patch": "@@ -15,6 +15,7 @@\n   \"license\": \"ISC\",\n   \"dependencies\": {\n     \"express\": \"^4.16.4\",\n+    \"moment\": \"^2.22.2\",\n     \"socket.io\": \"^2.1.1\"\n   },\n   \"devDependencies\": {"
            },
            {
              "filename": "playground/time.js",
              "patch": "@@ -0,0 +1,6 @@\n+const moment = require('moment');\n+\n+var date = moment();\n+\n+console.log(date.format('HH:mm:ss'));\n+"
            },
            {
              "filename": "public/index.html",
              "patch": "@@ -27,6 +27,7 @@ <h3>People</h3>\n \n     <script src=\"/socket.io/socket.io.js\"></script>\n     <script src=\"/js/libs/jquery-3.3.1.min.js\"></script>\n+    <script src=\"/js/libs/moment.js\"></script>\n     <script src=\"/js/index.js\"></script>\n </body>\n "
            },
            {
              "filename": "public/js/index.js",
              "patch": "@@ -9,15 +9,16 @@ socket.on('disconnect', function () {\n });\n \n socket.on('newMessage', function (message) {\n+    var formatedTime = moment(message.createdAt).format('h:mm a');\n     var li = jQuery('<li></li>');\n-    li.text(`${message.from}: ${message.text}`);\n+    li.text(`${message.from} ${formatedTime}: ${message.text}`);\n \n     jQuery('#messages').append(li);\n });\n \n socket.on('newLocationMessage', function (message) {\n     var li = jQuery('<li></li>');\n-    li.text(`${message.from}: `).append(`<a href=\"${message.url}\" target=\"_blank\">Location</a>`);\n+    li.text(`${message.from} ${formatedTime}: `).append(`<a href=\"${message.url}\" target=\"_blank\">Location</a>`);\n \n     jQuery('#messages').append(li);\n });"
            },
            {
              "filename": "public/js/libs/moment.js",
              "patch": "No diff"
            },
            {
              "filename": "server/utils/message.js",
              "patch": "@@ -1,17 +1,18 @@\n+const moment = require('moment');\n \n var generateMessage = (from, text) => {\n     return {\n         from,\n         text,\n-        createdAt: new Date().getTime()\n+        createdAt: moment().valueOf()\n     };\n };\n \n var generateLocationMessage = (from, latitude, longitude) => {\n     return {\n         from,\n         url: `https://www.google.com/maps?q=${latitude},${longitude}`,\n-        createdAt: new Date().getTime()\n+        createdAt: moment().valueOf()\n     };\n };\n "
            }
          ]
        },
        {
          "sha": "5f022547f69901c49e2d33240591aeae7bbe720d",
          "message": "add css for chat",
          "author": "Leon",
          "files": [
            {
              "filename": "debug.log",
              "patch": "@@ -0,0 +1 @@\n+[1021/131807.985:ERROR:crash_report_database_win.cc(428)] unexpected header"
            },
            {
              "filename": "public/css/styles.css",
              "patch": "@@ -0,0 +1,195 @@\n+* {\n+  box-sizing: border-box;\n+  margin: 0;\n+  padding: 0;\n+  font-family: \"HelveticaNeue-Light\", \"Helvetica Neue Light\", \"Helvetica Neue\", Helvetica, Arial, \"Lucida Grande\", sans-serif;\n+  font-weight: 300;\n+  font-size: .95rem;\n+}\n+\n+ul, li {\n+  list-style-position: inside;\n+}\n+\n+h3 {\n+  font-weight: 600;\n+  text-align: center;\n+  font-size: 1.5rem;\n+}\n+\n+button {\n+  border: none;\n+  background: #265f82;\n+  color: white;\n+  cursor: pointer;\n+  padding: 10px;\n+  transition: background .3s ease;\n+}\n+\n+button:hover {\n+  border: none;\n+  background: #1F4C69;\n+  color: white;\n+  padding: 10px;\n+}\n+\n+button:disabled {\n+  cursor: default;\n+  background: #698ea5;\n+}\n+\n+.centered-form {\n+  display: flex;\n+  align-items: center;\n+  height: 100vh;\n+  width: 100vw;\n+  justify-content: center;\n+  background: -moz-linear-gradient(125deg, rgba(39,107,130,1) 0%, rgba(49,84,129,1) 100%); /* ff3.6+ */\n+  background: -webkit-gradient(linear, left top, right bottom, color-stop(0%, rgba(49,84,129,1)), color-stop(100%, rgba(39,107,130,1))); /* safari4+,chrome */\n+  background: -webkit-linear-gradient(125deg, rgba(39,107,130,1) 0%, rgba(49,84,129,1) 100%); /* safari5.1+,chrome10+ */\n+  background: -o-linear-gradient(125deg, rgba(39,107,130,1) 0%, rgba(49,84,129,1) 100%); /* opera 11.10+ */\n+  background: -ms-linear-gradient(125deg, rgba(39,107,130,1) 0%, rgba(49,84,129,1) 100%); /* ie10+ */\n+  background: linear-gradient(325deg, rgba(39,107,130,1) 0%, rgba(49,84,129,1) 100%); /* w3c */\n+}\n+\n+.centered-form__form {\n+  background: rgba(250, 250, 250, 0.9);\n+  border: 1px solid #e1e1e1;\n+  border-radius: 5px;\n+  padding: 0px 20px;\n+  margin: 20px;\n+  width: 230px;\n+}\n+\n+.form-field {\n+  margin: 20px 0;\n+}\n+\n+.form-field > * {\n+  width: 100%;\n+}\n+\n+.form-field label {\n+  display: block;\n+  margin-bottom: 7px;\n+}\n+\n+.form-field input, .form-field select {\n+  border: 1px solid #e1e1e1;\n+  padding: 10px;\n+}\n+\n+.chat {\n+  display: flex;\n+}\n+\n+.chat__sidebar {\n+  overflow-y: scroll;\n+  width: 260px;\n+  height: 100vh;\n+  background: -moz-linear-gradient(125deg, rgba(39,107,130,1) 0%, rgba(49,84,129,1) 100%); /* ff3.6+ */\n+  background: -webkit-gradient(linear, left top, right bottom, color-stop(0%, rgba(49,84,129,1)), color-stop(100%, rgba(39,107,130,1))); /* safari4+,chrome */\n+  background: -webkit-linear-gradient(125deg, rgba(39,107,130,1) 0%, rgba(49,84,129,1) 100%); /* safari5.1+,chrome10+ */\n+  background: -o-linear-gradient(125deg, rgba(39,107,130,1) 0%, rgba(49,84,129,1) 100%); /* opera 11.10+ */\n+  background: -ms-linear-gradient(125deg, rgba(39,107,130,1) 0%, rgba(49,84,129,1) 100%); /* ie10+ */\n+  background: linear-gradient(325deg, rgba(39,107,130,1) 0%, rgba(49,84,129,1) 100%); /* w3c */\n+}\n+\n+.chat__sidebar h3 {\n+  color: #e6eaee;\n+  margin: 10px 20px;\n+  text-align: left;\n+}\n+\n+.chat__sidebar ul {\n+  list-style-type: none;\n+}\n+\n+.chat__sidebar li {\n+  background: #e6eaee;\n+  border: 1px solid #e1e1e1;\n+  border-radius: 5px;\n+  padding: 10px;\n+  margin: 10px;\n+}\n+\n+.chat__main {\n+  display: flex;\n+  flex-direction: column;\n+  height: 100vh;\n+  width: 100%;\n+}\n+\n+.chat__messages {\n+  flex-grow: 1;\n+  overflow-y: scroll;\n+  -webkit-overflow-scrolling: touch;\n+}\n+\n+.chat__footer {\n+  background: #e6eaee;\n+  display: flex;\n+  padding: 10px;\n+  /*height: 60px;*/\n+  flex-shrink: 0;\n+}\n+\n+.chat__footer form {\n+  flex-grow: 1;\n+  display: flex;\n+}\n+\n+.chat__footer form * {\n+  margin-right: 10px;\n+}\n+\n+.chat__footer input {\n+  border: none;\n+  padding: 10px;\n+  flex-grow: 1;\n+}\n+\n+.chat__messages {\n+  list-style-type: none;\n+  padding: 10px;\n+}\n+\n+.message {\n+  padding: 10px;\n+}\n+\n+.message__title {\n+  display: flex;\n+  margin-bottom: 5px;\n+}\n+\n+.message__title h4 {\n+  font-weight: 600;\n+  margin-right: 10px;\n+}\n+\n+.message__title span {\n+  color: #999;\n+}\n+\n+@media (max-width: 600px) {\n+  * {\n+    font-size: 1rem;\n+  }\n+\n+  .chat__sidebar {\n+    display: none;\n+  }\n+\n+  .chat__footer {\n+    flex-direction: column;\n+  }\n+\n+  .chat__footer form {\n+    margin-bottom: 10px;\n+  }\n+\n+  .chat__footer button {\n+    margin-right: 0px;\n+  }\n+}"
            },
            {
              "filename": "public/index.html",
              "patch": "@@ -3,20 +3,27 @@\n \n <head>\n     <meta charset=\"utf-8\">\n-\n+    <link rel=\"stylesheet\" href=\"/css/styles.css\">\n </head>\n \n-<body>\n-    <p>welcome to chat app</p>\n-\n-    <ol id=\"messages\"></ol>\n-\n-    <form id=\"message-form\">\n-        <input name=\"message\" type=\"text\" placeholder=\"Message\" />\n-        <button>Send</button>\n-    </form>\n-\n-    <button id=\"send-location\">Send location</button>\n+<body class=\"chat\">\n+\n+    <div class=\"chat__sidebar\">\n+        <h3>People</h3>\n+        <div id=\"users\"></div>\n+    </div>\n+\n+    <div class=\"chat__main\">\n+        <ol id=\"messages\" class=\"chat__messages\"></ol>\n+        <div class=\"chat__footer\">\n+            <form id=\"message-form\">\n+                <input name=\"message\" type=\"text\" placeholder=\"Message\" autofocus autocomplete=\"off\" />\n+                <button>Send</button>\n+            </form>\n+            <button id=\"send-location\">Send location</button>\n+        </div>\n+    </div>\n+    \n \n     <script src=\"/socket.io/socket.io.js\"></script>\n     <script src=\"/js/libs/jquery-3.3.1.min.js\"></script>"
            },
            {
              "filename": "public/js/index.js",
              "patch": "@@ -31,11 +31,12 @@ socket.on('newLocationMessage', function (message) {\n \n jQuery('#message-form').on('submit', function (e) {\n     e.preventDefault();\n+    var messageTextBox = jQuery('[name=message]');\n     socket.emit('createMessage', {\n         from: \"User\",\n-        text: jQuery('[name=message]').val()\n+        text: messageTextBox.val()\n     }, function () {\n-\n+        messageTextBox.val('');\n     });\n });\n \n@@ -47,12 +48,16 @@ locationButton.on('click', function () {\n         return alert('Geolocation not supported by your browser.');\n     }\n \n+    locationButton.attr('disabled', 'disabled').text('Sending location...');\n+\n     navigator.geolocation.getCurrentPosition(function (position) {\n+        locationButton.removeAttr('disabled').text('Send location'); \n         socket.emit('createLocationMessage', {\n             latitude: position.coords.latitude,\n             longitude: position.coords.longitude\n         });\n     }, function () {\n+        locationButton.removeAttr('disabled').text('Send location'); \n         alert('Unable to fetch location');\n     });\n });\n\\ No newline at end of file"
            },
            {
              "filename": "server/server.js",
              "patch": "@@ -21,10 +21,10 @@ io.on('connection', (socket) => {\n \n     socket.broadcast.emit('newMessage', generateMessage(\"ADMIN\", \"New user joined chat\"));\n \n-    socket.on('createMessage', (message/*, callback*/) => {\n-        console.log('create message', message);\n+    socket.on('createMessage', (message, callback) => {\n+        // console.log('create message', message);\n         io.emit('newMessage', generateMessage(message.from, message.text));\n-        // callback(data);\n+        callback();\n     });\n \n     socket.on('createLocationMessage', (coords) => {"
            }
          ]
        },
        {
          "sha": "156ce42576e67f73e4d767ef0d9c6defe11b031d",
          "message": "add geolocation support",
          "author": "Leon",
          "files": [
            {
              "filename": "public/index.html",
              "patch": "@@ -16,6 +16,8 @@\n         <button>Send</button>\n     </form>\n \n+    <button id=\"send-location\">Send location</button>\n+\n     <script src=\"/socket.io/socket.io.js\"></script>\n     <script src=\"/js/libs/jquery-3.3.1.min.js\"></script>\n     <script src=\"/js/index.js\"></script>"
            },
            {
              "filename": "public/js/index.js",
              "patch": "@@ -9,13 +9,19 @@ socket.on('disconnect', function () {\n });\n \n socket.on('newMessage', function (message) {\n-    console.log('new message', message);\n     var li = jQuery('<li></li>');\n     li.text(`${message.from}: ${message.text}`);\n \n     jQuery('#messages').append(li);\n });\n \n+socket.on('newLocationMessage', function (message) {\n+    var li = jQuery('<li></li>');\n+    li.text(`${message.from}: `).append(`<a href=\"${message.url}\" target=\"_blank\">Location</a>`);\n+\n+    jQuery('#messages').append(li);\n+});\n+\n // socket.emit('createMessage', {\n //     from: \"Frank\",\n //     text: \"hola\"\n@@ -31,4 +37,22 @@ jQuery('#message-form').on('submit', function (e) {\n     }, function () {\n \n     });\n+});\n+\n+\n+var locationButton = jQuery('#send-location');\n+\n+locationButton.on('click', function () {\n+    if (!navigator.geolocation) {\n+        return alert('Geolocation not supported by your browser.');\n+    }\n+\n+    navigator.geolocation.getCurrentPosition(function (position) {\n+        socket.emit('createLocationMessage', {\n+            latitude: position.coords.latitude,\n+            longitude: position.coords.longitude\n+        });\n+    }, function () {\n+        alert('Unable to fetch location');\n+    });\n });\n\\ No newline at end of file"
            },
            {
              "filename": "server/server.js",
              "patch": "@@ -4,7 +4,7 @@ const express = require('express');\n const socketIO = require('socket.io');\n const http = require('http');\n \n-const {generateMessage} = require('./utils/message');\n+const {generateMessage, generateLocationMessage} = require('./utils/message');\n const publicPath = path.join(__dirname, '../public');\n const port = process.env.PORT;\n \n@@ -24,10 +24,13 @@ io.on('connection', (socket) => {\n     socket.on('createMessage', (message/*, callback*/) => {\n         console.log('create message', message);\n         io.emit('newMessage', generateMessage(message.from, message.text));\n-\n         // callback(data);\n     });\n \n+    socket.on('createLocationMessage', (coords) => {\n+        io.emit('newLocationMessage', generateLocationMessage('User', coords.latitude, coords.longitude));\n+    });\n+\n     socket.on('disconnect', () => {\n         console.log('user was disconnected');\n     });"
            },
            {
              "filename": "server/utils/message.js",
              "patch": "@@ -7,4 +7,15 @@ var generateMessage = (from, text) => {\n     };\n };\n \n-module.exports = {generateMessage};\n\\ No newline at end of file\n+var generateLocationMessage = (from, latitude, longitude) => {\n+    return {\n+        from,\n+        url: `https://www.google.com/maps?q=${latitude},${longitude}`,\n+        createdAt: new Date().getTime()\n+    };\n+};\n+\n+module.exports = {\n+    generateMessage,\n+    generateLocationMessage\n+};\n\\ No newline at end of file"
            },
            {
              "filename": "server/utils/message.test.js",
              "patch": "@@ -1,7 +1,7 @@\n const expect = require('expect');\n \n \n-var {generateMessage} = require('./message');\n+var {generateMessage,generateLocationMessage} = require('./message');\n \n describe('generateMessage', () => {\n     it('should generate correct message object', () => {\n@@ -12,4 +12,17 @@ describe('generateMessage', () => {\n         expect(typeof(message.createdAt)).toBe('number');\n         expect(message).toMatchObject({from,text});\n     });\n+});\n+\n+describe('generateLocationMessage', () => {\n+    it('should generate correct location object', () => {\n+        var from = 'Arthur';\n+        var latitude = 50;\n+        var longitude = 20;\n+        var url = \"https://www.google.com/maps?q=50,20\";\n+        var message = generateLocationMessage(from, latitude, longitude);\n+5\n+        expect(typeof(message.createdAt)).toBe('number');\n+        expect(message).toMatchObject({from,url});\n+    });\n });\n\\ No newline at end of file"
            }
          ]
        },
        {
          "sha": "cf18c471455395d8419fa25c5ae0d532d350ef85",
          "message": "add form for messages and shoe incoming messages",
          "author": "Leon",
          "files": [
            {
              "filename": "public/index.html",
              "patch": "@@ -9,7 +9,15 @@\n <body>\n     <p>welcome to chat app</p>\n \n+    <ol id=\"messages\"></ol>\n+\n+    <form id=\"message-form\">\n+        <input name=\"message\" type=\"text\" placeholder=\"Message\" />\n+        <button>Send</button>\n+    </form>\n+\n     <script src=\"/socket.io/socket.io.js\"></script>\n+    <script src=\"/js/libs/jquery-3.3.1.min.js\"></script>\n     <script src=\"/js/index.js\"></script>\n </body>\n "
            },
            {
              "filename": "public/js/index.js",
              "patch": "@@ -2,11 +2,6 @@ var socket = io();\n \n socket.on('connect', function () {\n     console.log('connected to server');\n-\n-    // socket.emit('createMessage', {\n-    //     from: \"Jen\",\n-    //     text: \"hello there\"\n-    // });\n });\n \n socket.on('disconnect', function () {\n@@ -15,4 +10,25 @@ socket.on('disconnect', function () {\n \n socket.on('newMessage', function (message) {\n     console.log('new message', message);\n+    var li = jQuery('<li></li>');\n+    li.text(`${message.from}: ${message.text}`);\n+\n+    jQuery('#messages').append(li);\n+});\n+\n+// socket.emit('createMessage', {\n+//     from: \"Frank\",\n+//     text: \"hola\"\n+// }, function (data) {\n+//     console.log('got it');\n+// });\n+\n+jQuery('#message-form').on('submit', function (e) {\n+    e.preventDefault();\n+    socket.emit('createMessage', {\n+        from: \"User\",\n+        text: jQuery('[name=message]').val()\n+    }, function () {\n+\n+    });\n });\n\\ No newline at end of file"
            },
            {
              "filename": "public/js/libs/jquery-3.3.1.min.js",
              "patch": "@@ -0,0 +1,2 @@\n+/*! jQuery v3.3.1 | (c) JS Foundation and other contributors | jquery.org/license */\n+!function(e,t){\"use strict\";\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error(\"jQuery requires a window with a document\");return t(e)}:t(e)}(\"undefined\"!=typeof window?window:this,function(e,t){\"use strict\";var n=[],r=e.document,i=Object.getPrototypeOf,o=n.slice,a=n.concat,s=n.push,u=n.indexOf,l={},c=l.toString,f=l.hasOwnProperty,p=f.toString,d=p.call(Object),h={},g=function e(t){return\"function\"==typeof t&&\"number\"!=typeof t.nodeType},y=function e(t){return null!=t&&t===t.window},v={type:!0,src:!0,noModule:!0};function m(e,t,n){var i,o=(t=t||r).createElement(\"script\");if(o.text=e,n)for(i in v)n[i]&&(o[i]=n[i]);t.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+\"\":\"object\"==typeof e||\"function\"==typeof e?l[c.call(e)]||\"object\":typeof e}var b=\"3.3.1\",w=function(e,t){return new w.fn.init(e,t)},T=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;w.fn=w.prototype={jquery:\"3.3.1\",constructor:w,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for(\"boolean\"==typeof a&&(l=a,a=arguments[s]||{},s++),\"object\"==typeof a||g(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(l&&r&&(w.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&w.isPlainObject(n)?n:{},a[t]=w.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},w.extend({expando:\"jQuery\"+(\"3.3.1\"+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||\"[object Object]\"!==c.call(e))&&(!(t=i(e))||\"function\"==typeof(n=f.call(t,\"constructor\")&&t.constructor)&&p.call(n)===d)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){m(e)},each:function(e,t){var n,r=0;if(C(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?\"\":(e+\"\").replace(T,\"\")},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?w.merge(n,\"string\"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)(r=!t(e[o],o))!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,i,o=0,s=[];if(C(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return a.apply([],s)},guid:1,support:h}),\"function\"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),function(e,t){l[\"[object \"+t+\"]\"]=t.toLowerCase()});function C(e){var t=!!e&&\"length\"in e&&e.length,n=x(e);return!g(e)&&!y(e)&&(\"array\"===n||0===t||\"number\"==typeof t&&t>0&&t-1 in e)}var E=function(e){var t,n,r,i,o,a,s,u,l,c,f,p,d,h,g,y,v,m,x,b=\"sizzle\"+1*new Date,w=e.document,T=0,C=0,E=ae(),k=ae(),S=ae(),D=function(e,t){return e===t&&(f=!0),0},N={}.hasOwnProperty,A=[],j=A.pop,q=A.push,L=A.push,H=A.slice,O=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},P=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",M=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",R=\"(?:\\\\\\\\.|[\\\\w-]|[^\\0-\\\\xa0])+\",I=\"\\\\[\"+M+\"*(\"+R+\")(?:\"+M+\"*([*^$|!~]?=)\"+M+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+R+\"))|)\"+M+\"*\\\\]\",W=\":(\"+R+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+I+\")*)|.*)\\\\)|)\",$=new RegExp(M+\"+\",\"g\"),B=new RegExp(\"^\"+M+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+M+\"+$\",\"g\"),F=new RegExp(\"^\"+M+\"*,\"+M+\"*\"),_=new RegExp(\"^\"+M+\"*([>+~]|\"+M+\")\"+M+\"*\"),z=new RegExp(\"=\"+M+\"*([^\\\\]'\\\"]*?)\"+M+\"*\\\\]\",\"g\"),X=new RegExp(W),U=new RegExp(\"^\"+R+\"$\"),V={ID:new RegExp(\"^#(\"+R+\")\"),CLASS:new RegExp(\"^\\\\.(\"+R+\")\"),TAG:new RegExp(\"^(\"+R+\"|[*])\"),ATTR:new RegExp(\"^\"+I),PSEUDO:new RegExp(\"^\"+W),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+M+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+M+\"*(?:([+-]|)\"+M+\"*(\\\\d+)|))\"+M+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+P+\")$\",\"i\"),needsContext:new RegExp(\"^\"+M+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+M+\"*((?:-\\\\d)?\\\\d*)\"+M+\"*\\\\)|)(?=[^-]|$)\",\"i\")},G=/^(?:input|select|textarea|button)$/i,Y=/^h\\d$/i,Q=/^[^{]+\\{\\s*\\[native \\w/,J=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,K=/[+~]/,Z=new RegExp(\"\\\\\\\\([\\\\da-f]{1,6}\"+M+\"?|(\"+M+\")|.)\",\"ig\"),ee=function(e,t,n){var r=\"0x\"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,ne=function(e,t){return t?\"\\0\"===e?\"\\ufffd\":e.slice(0,-1)+\"\\\\\"+e.charCodeAt(e.length-1).toString(16)+\" \":\"\\\\\"+e},re=function(){p()},ie=me(function(e){return!0===e.disabled&&(\"form\"in e||\"label\"in e)},{dir:\"parentNode\",next:\"legend\"});try{L.apply(A=H.call(w.childNodes),w.childNodes),A[w.childNodes.length].nodeType}catch(e){L={apply:A.length?function(e,t){q.apply(e,H.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function oe(e,t,r,i){var o,s,l,c,f,h,v,m=t&&t.ownerDocument,T=t?t.nodeType:9;if(r=r||[],\"string\"!=typeof e||!e||1!==T&&9!==T&&11!==T)return r;if(!i&&((t?t.ownerDocument||t:w)!==d&&p(t),t=t||d,g)){if(11!==T&&(f=J.exec(e)))if(o=f[1]){if(9===T){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(m&&(l=m.getElementById(o))&&x(t,l)&&l.id===o)return r.push(l),r}else{if(f[2])return L.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!S[e+\" \"]&&(!y||!y.test(e))){if(1!==T)m=t,v=e;else if(\"object\"!==t.nodeName.toLowerCase()){(c=t.getAttribute(\"id\"))?c=c.replace(te,ne):t.setAttribute(\"id\",c=b),s=(h=a(e)).length;while(s--)h[s]=\"#\"+c+\" \"+ve(h[s]);v=h.join(\",\"),m=K.test(e)&&ge(t.parentNode)||t}if(v)try{return L.apply(r,m.querySelectorAll(v)),r}catch(e){}finally{c===b&&t.removeAttribute(\"id\")}}}return u(e.replace(B,\"$1\"),t,r,i)}function ae(){var e=[];function t(n,i){return e.push(n+\" \")>r.cacheLength&&delete t[e.shift()],t[n+\" \"]=i}return t}function se(e){return e[b]=!0,e}function ue(e){var t=d.createElement(\"fieldset\");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){var n=e.split(\"|\"),i=n.length;while(i--)r.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return\"input\"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return(\"input\"===n||\"button\"===n)&&t.type===e}}function de(e){return function(t){return\"form\"in t?t.parentNode&&!1===t.disabled?\"label\"in t?\"label\"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:\"label\"in t&&t.disabled===e}}function he(e){return se(function(t){return t=+t,se(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function ge(e){return e&&\"undefined\"!=typeof e.getElementsByTagName&&e}n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&\"HTML\"!==t.nodeName},p=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==d&&9===a.nodeType&&a.documentElement?(d=a,h=d.documentElement,g=!o(d),w!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener(\"unload\",re,!1):i.attachEvent&&i.attachEvent(\"onunload\",re)),n.attributes=ue(function(e){return e.className=\"i\",!e.getAttribute(\"className\")}),n.getElementsByTagName=ue(function(e){return e.appendChild(d.createComment(\"\")),!e.getElementsByTagName(\"*\").length}),n.getElementsByClassName=Q.test(d.getElementsByClassName),n.getById=ue(function(e){return h.appendChild(e).id=b,!d.getElementsByName||!d.getElementsByName(b).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute(\"id\")===t}},r.find.ID=function(e,t){if(\"undefined\"!=typeof t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n=\"undefined\"!=typeof e.getAttributeNode&&e.getAttributeNode(\"id\");return n&&n.value===t}},r.find.ID=function(e,t){if(\"undefined\"!=typeof t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode(\"id\"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode(\"id\"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return\"undefined\"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if(\"*\"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(\"undefined\"!=typeof t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],y=[],(n.qsa=Q.test(d.querySelectorAll))&&(ue(function(e){h.appendChild(e).innerHTML=\"<a id='\"+b+\"'></a><select id='\"+b+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",e.querySelectorAll(\"[msallowcapture^='']\").length&&y.push(\"[*^$]=\"+M+\"*(?:''|\\\"\\\")\"),e.querySelectorAll(\"[selected]\").length||y.push(\"\\\\[\"+M+\"*(?:value|\"+P+\")\"),e.querySelectorAll(\"[id~=\"+b+\"-]\").length||y.push(\"~=\"),e.querySelectorAll(\":checked\").length||y.push(\":checked\"),e.querySelectorAll(\"a#\"+b+\"+*\").length||y.push(\".#.+[+~]\")}),ue(function(e){e.innerHTML=\"<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>\";var t=d.createElement(\"input\");t.setAttribute(\"type\",\"hidden\"),e.appendChild(t).setAttribute(\"name\",\"D\"),e.querySelectorAll(\"[name=d]\").length&&y.push(\"name\"+M+\"*[*^$|!~]?=\"),2!==e.querySelectorAll(\":enabled\").length&&y.push(\":enabled\",\":disabled\"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(\":disabled\").length&&y.push(\":enabled\",\":disabled\"),e.querySelectorAll(\"*,:x\"),y.push(\",.*:\")})),(n.matchesSelector=Q.test(m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ue(function(e){n.disconnectedMatch=m.call(e,\"*\"),m.call(e,\"[s!='']:x\"),v.push(\"!=\",W)}),y=y.length&&new RegExp(y.join(\"|\")),v=v.length&&new RegExp(v.join(\"|\")),t=Q.test(h.compareDocumentPosition),x=t||Q.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===d||e.ownerDocument===w&&x(w,e)?-1:t===d||t.ownerDocument===w&&x(w,t)?1:c?O(c,e)-O(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===d?-1:t===d?1:i?-1:o?1:c?O(c,e)-O(c,t):0;if(i===o)return ce(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?ce(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0},d):d},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&p(e),t=t.replace(z,\"='$1']\"),n.matchesSelector&&g&&!S[t+\" \"]&&(!v||!v.test(t))&&(!y||!y.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,d,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==d&&p(e),x(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==d&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&N.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+\"\").replace(te,ne)},oe.error=function(e){throw new Error(\"Syntax error, unrecognized expression: \"+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(D),f){while(t=e[o++])t===e[o]&&(i=r.push(o));while(i--)e.splice(r[i],1)}return c=null,e},i=oe.getText=function(e){var t,n=\"\",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if(\"string\"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:se,match:V,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||\"\").replace(Z,ee),\"~=\"===e[2]&&(e[3]=\" \"+e[3]+\" \"),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),\"nth\"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(\"even\"===e[3]||\"odd\"===e[3])),e[5]=+(e[7]+e[8]||\"odd\"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||\"\":n&&X.test(n)&&(t=a(n,!0))&&(t=n.indexOf(\")\",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return\"*\"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+\" \"];return t||(t=new RegExp(\"(^|\"+M+\")\"+e+\"(\"+M+\"|$)\"))&&E(e,function(e){return t.test(\"string\"==typeof e.className&&e.className||\"undefined\"!=typeof e.getAttribute&&e.getAttribute(\"class\")||\"\")})},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?\"!=\"===t:!t||(i+=\"\",\"=\"===t?i===n:\"!=\"===t?i!==n:\"^=\"===t?n&&0===i.indexOf(n):\"*=\"===t?n&&i.indexOf(n)>-1:\"$=\"===t?n&&i.slice(-n.length)===n:\"~=\"===t?(\" \"+i.replace($,\" \")+\" \").indexOf(n)>-1:\"|=\"===t&&(i===n||i.slice(0,n.length+1)===n+\"-\"))}},CHILD:function(e,t,n,r,i){var o=\"nth\"!==e.slice(0,3),a=\"last\"!==e.slice(-4),s=\"of-type\"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?\"nextSibling\":\"previousSibling\",y=t.parentNode,v=s&&t.nodeName.toLowerCase(),m=!u&&!s,x=!1;if(y){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=g=\"only\"===e&&!h&&\"nextSibling\"}return!0}if(h=[a?y.firstChild:y.lastChild],a&&m){x=(d=(l=(c=(f=(p=y)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1])&&l[2],p=d&&y.childNodes[d];while(p=++d&&p&&p[g]||(x=d=0)||h.pop())if(1===p.nodeType&&++x&&p===t){c[e]=[T,d,x];break}}else if(m&&(x=d=(l=(c=(f=(p=t)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1]),!1===x)while(p=++d&&p&&p[g]||(x=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===v:1===p.nodeType)&&++x&&(m&&((c=(f=p[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]=[T,x]),p===t))break;return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error(\"unsupported pseudo: \"+e);return i[b]?i(t):i.length>1?(n=[e,e,\"\",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){var r,o=i(e,t),a=o.length;while(a--)e[r=O(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=s(e.replace(B,\"$1\"));return r[b]?se(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return oe(e,t).length>0}}),contains:se(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return U.test(e||\"\")||oe.error(\"unsupported lang: \"+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute(\"xml:lang\")||t.getAttribute(\"lang\"))return(n=n.toLowerCase())===e||0===n.indexOf(e+\"-\")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&!!e.checked||\"option\"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&\"button\"===e.type||\"button\"===t},text:function(e){var t;return\"input\"===e.nodeName.toLowerCase()&&\"text\"===e.type&&(null==(t=e.getAttribute(\"type\"))||\"text\"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ye(){}ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=oe.tokenize=function(e,t){var n,i,o,a,s,u,l,c=k[e+\" \"];if(c)return t?0:c.slice(0);s=e,u=[],l=r.preFilter;while(s){n&&!(i=F.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=_.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(B,\" \")}),s=s.slice(n.length));for(a in r.filter)!(i=V[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):k(e,u).slice(0)};function ve(e){for(var t=0,n=e.length,r=\"\";t<n;t++)r+=e[t].value;return r}function me(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&\"parentNode\"===o,s=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[T,s];if(u){while(t=t[r])if((1===t.nodeType||a)&&e(t,n,u))return!0}else while(t=t[r])if(1===t.nodeType||a)if(f=t[b]||(t[b]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===T&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function xe(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function be(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}function we(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Te(e,t,n,r,i,o){return r&&!r[b]&&(r=Te(r)),i&&!i[b]&&(i=Te(i,o)),se(function(o,a,s,u){var l,c,f,p=[],d=[],h=a.length,g=o||be(t||\"*\",s.nodeType?[s]:s,[]),y=!e||!o&&t?g:we(g,p,e,s,u),v=n?i||(o?e:h||r)?[]:a:y;if(n&&n(y,v,s,u),r){l=we(v,d),r(l,[],s,u),c=l.length;while(c--)(f=l[c])&&(v[d[c]]=!(y[d[c]]=f))}if(o){if(i||e){if(i){l=[],c=v.length;while(c--)(f=v[c])&&l.push(y[c]=f);i(null,v=[],l,u)}c=v.length;while(c--)(f=v[c])&&(l=i?O(o,f):p[c])>-1&&(o[l]=!(a[l]=f))}}else v=we(v===a?v.splice(h,v.length):v),i?i(null,a,v,u):L.apply(a,v)})}function Ce(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[\" \"],u=a?1:0,c=me(function(e){return e===t},s,!0),f=me(function(e){return O(t,e)>-1},s,!0),p=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])p=[me(xe(p),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[b]){for(i=++u;i<o;i++)if(r.relative[e[i].type])break;return Te(u>1&&xe(p),u>1&&ve(e.slice(0,u-1).concat({value:\" \"===e[u-2].type?\"*\":\"\"})).replace(B,\"$1\"),n,u<i&&Ce(e.slice(u,i)),i<o&&Ce(e=e.slice(i)),i<o&&ve(e))}p.push(n)}return xe(p)}function Ee(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,c){var f,h,y,v=0,m=\"0\",x=o&&[],b=[],w=l,C=o||i&&r.find.TAG(\"*\",c),E=T+=null==w?1:Math.random()||.1,k=C.length;for(c&&(l=a===d||a||c);m!==k&&null!=(f=C[m]);m++){if(i&&f){h=0,a||f.ownerDocument===d||(p(f),s=!g);while(y=e[h++])if(y(f,a||d,s)){u.push(f);break}c&&(T=E)}n&&((f=!y&&f)&&v--,o&&x.push(f))}if(v+=m,n&&m!==v){h=0;while(y=t[h++])y(x,b,a,s);if(o){if(v>0)while(m--)x[m]||b[m]||(b[m]=j.call(u));b=we(b)}L.apply(u,b),c&&!o&&b.length>0&&v+t.length>1&&oe.uniqueSort(u)}return c&&(T=E,l=w),x};return n?se(o):o}return s=oe.compile=function(e,t){var n,r=[],i=[],o=S[e+\" \"];if(!o){t||(t=a(e)),n=t.length;while(n--)(o=Ce(t[n]))[b]?r.push(o):i.push(o);(o=S(e,Ee(i,r))).selector=e}return o},u=oe.select=function(e,t,n,i){var o,u,l,c,f,p=\"function\"==typeof e&&e,d=!i&&a(e=p.selector||e);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&\"ID\"===(l=u[0]).type&&9===t.nodeType&&g&&r.relative[u[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(Z,ee),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(u.shift().value.length)}o=V.needsContext.test(e)?0:u.length;while(o--){if(l=u[o],r.relative[c=l.type])break;if((f=r.find[c])&&(i=f(l.matches[0].replace(Z,ee),K.test(u[0].type)&&ge(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&ve(u)))return L.apply(n,i),n;break}}}return(p||s(e,d))(i,t,!g,n,!t||K.test(e)&&ge(t.parentNode)||t),n},n.sortStable=b.split(\"\").sort(D).join(\"\")===b,n.detectDuplicates=!!f,p(),n.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(d.createElement(\"fieldset\"))}),ue(function(e){return e.innerHTML=\"<a href='#'></a>\",\"#\"===e.firstChild.getAttribute(\"href\")})||le(\"type|href|height|width\",function(e,t,n){if(!n)return e.getAttribute(t,\"type\"===t.toLowerCase()?1:2)}),n.attributes&&ue(function(e){return e.innerHTML=\"<input/>\",e.firstChild.setAttribute(\"value\",\"\"),\"\"===e.firstChild.getAttribute(\"value\")})||le(\"value\",function(e,t,n){if(!n&&\"input\"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute(\"disabled\")})||le(P,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(e);w.find=E,w.expr=E.selectors,w.expr[\":\"]=w.expr.pseudos,w.uniqueSort=w.unique=E.uniqueSort,w.text=E.getText,w.isXMLDoc=E.isXML,w.contains=E.contains,w.escapeSelector=E.escape;var k=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&w(e).is(n))break;r.push(e)}return r},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},D=w.expr.match.needsContext;function N(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function j(e,t,n){return g(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):\"string\"!=typeof t?w.grep(e,function(e){return u.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=\":not(\"+e+\")\"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,i=this;if(\"string\"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,i[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,\"string\"==typeof e&&D.test(e)?w(e):e||[],!1).length}});var q,L=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(w.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||q,\"string\"==typeof e){if(!(i=\"<\"===e[0]&&\">\"===e[e.length-1]&&e.length>=3?[null,e,null]:L.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),A.test(i[1])&&w.isPlainObject(t))for(i in t)g(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=r.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,q=w(r);var H=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a=\"string\"!=typeof e&&w(e);if(!D.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(e){return e?\"string\"==typeof e?u.call(w(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function P(e,t){while((e=e[t])&&1!==e.nodeType);return e}w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,\"parentNode\")},parentsUntil:function(e,t,n){return k(e,\"parentNode\",n)},next:function(e){return P(e,\"nextSibling\")},prev:function(e){return P(e,\"previousSibling\")},nextAll:function(e){return k(e,\"nextSibling\")},prevAll:function(e){return k(e,\"previousSibling\")},nextUntil:function(e,t,n){return k(e,\"nextSibling\",n)},prevUntil:function(e,t,n){return k(e,\"previousSibling\",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return N(e,\"iframe\")?e.contentDocument:(N(e,\"template\")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return\"Until\"!==e.slice(-5)&&(r=n),r&&\"string\"==typeof r&&(i=w.filter(r,i)),this.length>1&&(O[e]||w.uniqueSort(i),H.test(e)&&i.reverse()),this.pushStack(i)}});var M=/[^\\x20\\t\\r\\n\\f]+/g;function R(e){var t={};return w.each(e.match(M)||[],function(e,n){t[n]=!0}),t}w.Callbacks=function(e){e=\"string\"==typeof e?R(e):w.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1){n=a.shift();while(++s<o.length)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1)}e.memory||(n=!1),t=!1,i&&(o=n?[]:\"\")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){w.each(n,function(n,r){g(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&\"string\"!==x(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return w.each(arguments,function(e,t){var n;while((n=w.inArray(t,o,n))>-1)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?w.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n=\"\",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=\"\"),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l};function I(e){return e}function W(e){throw e}function $(e,t,n,r){var i;try{e&&g(i=e.promise)?i.call(e).done(t).fail(n):e&&g(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.extend({Deferred:function(t){var n=[[\"notify\",\"progress\",w.Callbacks(\"memory\"),w.Callbacks(\"memory\"),2],[\"resolve\",\"done\",w.Callbacks(\"once memory\"),w.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",w.Callbacks(\"once memory\"),w.Callbacks(\"once memory\"),1,\"rejected\"]],r=\"pending\",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},\"catch\":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(n,function(n,r){var i=g(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+\"With\"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var s=this,u=arguments,l=function(){var e,l;if(!(t<o)){if((e=r.apply(s,u))===n.promise())throw new TypeError(\"Thenable self-resolution\");l=e&&(\"object\"==typeof e||\"function\"==typeof e)&&e.then,g(l)?i?l.call(e,a(o,n,I,i),a(o,n,W,i)):(o++,l.call(e,a(o,n,I,i),a(o,n,W,i),a(o,n,I,n.notifyWith))):(r!==I&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,c.stackTrace),t+1>=o&&(r!==W&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),e.setTimeout(c))}}return w.Deferred(function(e){n[0][3].add(a(0,e,g(i)?i:I,e.notifyWith)),n[1][3].add(a(0,e,g(t)?t:I)),n[2][3].add(a(0,e,g(r)?r:W))}).promise()},promise:function(e){return null!=e?w.extend(e,i):i}},o={};return w.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+\"With\"](this===o?void 0:this,arguments),this},o[t[0]+\"With\"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=w.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&($(e,a.done(s(n)).resolve,a.reject,!t),\"pending\"===a.state()||g(i[n]&&i[n].then)))return a.then();while(n--)$(i[n],s(n),a.reject);return a.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&B.test(t.name)&&e.console.warn(\"jQuery.Deferred exception: \"+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout(function(){throw t})};var F=w.Deferred();w.fn.ready=function(e){return F.then(e)[\"catch\"](function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||F.resolveWith(r,[w]))}}),w.ready.then=F.then;function _(){r.removeEventListener(\"DOMContentLoaded\",_),e.removeEventListener(\"load\",_),w.ready()}\"complete\"===r.readyState||\"loading\"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(w.ready):(r.addEventListener(\"DOMContentLoaded\",_),e.addEventListener(\"load\",_));var z=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if(\"object\"===x(n)){i=!0;for(s in n)z(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,g(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(w(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},X=/^-ms-/,U=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function G(e){return e.replace(X,\"ms-\").replace(U,V)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=w.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if(\"string\"==typeof t)i[G(t)]=n;else for(r in t)i[G(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,n){return void 0===t||t&&\"string\"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(G):(t=G(t))in r?[t]:t.match(M)||[]).length;while(n--)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var J=new Q,K=new Q,Z=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,ee=/[A-Z]/g;function te(e){return\"true\"===e||\"false\"!==e&&(\"null\"===e?null:e===+e+\"\"?+e:Z.test(e)?JSON.parse(e):e)}function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r=\"data-\"+t.replace(ee,\"-$&\").toLowerCase(),\"string\"==typeof(n=e.getAttribute(r))){try{n=te(n)}catch(e){}K.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return K.hasData(e)||J.hasData(e)},data:function(e,t,n){return K.access(e,t,n)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=K.get(o),1===o.nodeType&&!J.get(o,\"hasDataAttrs\"))){n=a.length;while(n--)a[n]&&0===(r=a[n].name).indexOf(\"data-\")&&(r=G(r.slice(5)),ne(o,r,i[r]));J.set(o,\"hasDataAttrs\",!0)}return i}return\"object\"==typeof e?this.each(function(){K.set(this,e)}):z(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=K.get(o,e)))return n;if(void 0!==(n=ne(o,e)))return n}else this.each(function(){K.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){K.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||\"fx\")+\"queue\",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||\"fx\";var n=w.queue(e,t),r=n.length,i=n.shift(),o=w._queueHooks(e,t),a=function(){w.dequeue(e,t)};\"inprogress\"===i&&(i=n.shift(),r--),i&&(\"fx\"===t&&n.unshift(\"inprogress\"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+\"queueHooks\";return J.get(e,n)||J.access(e,n,{empty:w.Callbacks(\"once memory\").add(function(){J.remove(e,[t+\"queue\",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return\"string\"!=typeof e&&(t=e,e=\"fx\",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),\"fx\"===e&&\"inprogress\"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||\"fx\",[])},promise:function(e,t){var n,r=1,i=w.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};\"string\"!=typeof e&&(t=e,e=void 0),e=e||\"fx\";while(a--)(n=J.get(o[a],e+\"queueHooks\"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var re=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,ie=new RegExp(\"^(?:([+-])=|)(\"+re+\")([a-z%]*)$\",\"i\"),oe=[\"Top\",\"Right\",\"Bottom\",\"Left\"],ae=function(e,t){return\"none\"===(e=t||e).style.display||\"\"===e.style.display&&w.contains(e.ownerDocument,e)&&\"none\"===w.css(e,\"display\")},se=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};function ue(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return w.css(e,t,\"\")},u=s(),l=n&&n[3]||(w.cssNumber[t]?\"\":\"px\"),c=(w.cssNumber[t]||\"px\"!==l&&+u)&&ie.exec(w.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)w.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,w.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var le={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,i=le[r];return i||(t=n.body.appendChild(n.createElement(r)),i=w.css(t,\"display\"),t.parentNode.removeChild(t),\"none\"===i&&(i=\"block\"),le[r]=i,i)}function fe(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?(\"none\"===n&&(i[o]=J.get(r,\"display\")||null,i[o]||(r.style.display=\"\")),\"\"===r.style.display&&ae(r)&&(i[o]=ce(r))):\"none\"!==n&&(i[o]=\"none\",J.set(r,\"display\",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}w.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return\"boolean\"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?w(this).show():w(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]+)/i,he=/^$|^module$|\\/(?:java|ecma)script/i,ge={option:[1,\"<select multiple='multiple'>\",\"</select>\"],thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;function ye(e,t){var n;return n=\"undefined\"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||\"*\"):\"undefined\"!=typeof e.querySelectorAll?e.querySelectorAll(t||\"*\"):[],void 0===t||t&&N(e,t)?w.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],\"globalEval\",!t||J.get(t[n],\"globalEval\"))}var me=/<|&#?\\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if(\"object\"===x(o))w.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement(\"div\")),s=(de.exec(o)||[\"\",\"\"])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+w.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;w.merge(p,a.childNodes),(a=f.firstChild).textContent=\"\"}else p.push(t.createTextNode(o));f.textContent=\"\",d=0;while(o=p[d++])if(r&&w.inArray(o,r)>-1)i&&i.push(o);else if(l=w.contains(o.ownerDocument,o),a=ye(f.appendChild(o),\"script\"),l&&ve(a),n){c=0;while(o=a[c++])he.test(o.type||\"\")&&n.push(o)}return f}!function(){var e=r.createDocumentFragment().appendChild(r.createElement(\"div\")),t=r.createElement(\"input\");t.setAttribute(\"type\",\"radio\"),t.setAttribute(\"checked\",\"checked\"),t.setAttribute(\"name\",\"t\"),e.appendChild(t),h.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML=\"<textarea>x</textarea>\",h.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var be=r.documentElement,we=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ce=/^([^.]*)(?:\\.(.+)|)/;function Ee(){return!0}function ke(){return!1}function Se(){try{return r.activeElement}catch(e){}}function De(e,t,n,r,i,o){var a,s;if(\"object\"==typeof t){\"string\"!=typeof n&&(r=r||n,n=void 0);for(s in t)De(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&(\"string\"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ke;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return w().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),e.each(function(){w.event.add(this,t,i,r,n)})}w.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=J.get(e);if(y){n.handler&&(n=(o=n).handler,i=o.selector),i&&w.find.matchesSelector(be,i),n.guid||(n.guid=w.guid++),(u=y.events)||(u=y.events={}),(a=y.handle)||(a=y.handle=function(t){return\"undefined\"!=typeof w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||\"\").match(M)||[\"\"]).length;while(l--)d=g=(s=Ce.exec(t[l])||[])[1],h=(s[2]||\"\").split(\".\").sort(),d&&(f=w.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=w.event.special[d]||{},c=w.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:h.join(\".\")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),w.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=J.hasData(e)&&J.get(e);if(y&&(u=y.events)){l=(t=(t||\"\").match(M)||[\"\"]).length;while(l--)if(s=Ce.exec(t[l])||[],d=g=s[1],h=(s[2]||\"\").split(\".\").sort(),d){f=w.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp(\"(^|\\\\.)\"+h.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&(\"**\"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,y.handle)||w.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)w.event.remove(e,d+t[l],n,r,!0);w.isEmptyObject(u)&&J.remove(e,\"handle events\")}},dispatch:function(e){var t=w.event.fix(e),n,r,i,o,a,s,u=new Array(arguments.length),l=(J.get(this,\"events\")||{})[t.type]||[],c=w.event.special[t.type]||{};for(u[0]=t,n=1;n<arguments.length;n++)u[n]=arguments[n];if(t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){s=w.event.handlers.call(this,t,l),n=0;while((o=s[n++])&&!t.isPropagationStopped()){t.currentTarget=o.elem,r=0;while((a=o.handlers[r++])&&!t.isImmediatePropagationStopped())t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(i=((w.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,u))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!(\"click\"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(\"click\"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+\" \"]&&(a[i]=r.needsContext?w(i,this).index(l)>-1:w.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Se()&&this.focus)return this.focus(),!1},delegateType:\"focusin\"},blur:{trigger:function(){if(this===Se()&&this.blur)return this.blur(),!1},delegateType:\"focusout\"},click:{trigger:function(){if(\"checkbox\"===this.type&&this.click&&N(this,\"input\"))return this.click(),!1},_default:function(e){return N(e.target,\"a\")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,\"char\":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Te.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||w.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return De(this,e,t,n,r)},one:function(e,t,n,r){return De(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+\".\"+r.namespace:r.origType,r.selector,r.handler),this;if(\"object\"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&\"function\"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each(function(){w.event.remove(this,e,n,t)})}});var Ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)[^>]*)\\/>/gi,Ae=/<script|<style|<link/i,je=/checked\\s*(?:[^=]|=\\s*.checked.)/i,qe=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function Le(e,t){return N(e,\"table\")&&N(11!==t.nodeType?t:t.firstChild,\"tr\")?w(e).children(\"tbody\")[0]||e:e}function He(e){return e.type=(null!==e.getAttribute(\"type\"))+\"/\"+e.type,e}function Oe(e){return\"true/\"===(e.type||\"\").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute(\"type\"),e}function Pe(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(J.hasData(e)&&(o=J.access(e),a=J.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)w.event.add(t,i,l[i][n])}K.hasData(e)&&(s=K.access(e),u=w.extend({},s),K.set(t,u))}}function Me(e,t){var n=t.nodeName.toLowerCase();\"input\"===n&&pe.test(e.type)?t.checked=e.checked:\"input\"!==n&&\"textarea\"!==n||(t.defaultValue=e.defaultValue)}function Re(e,t,n,r){t=a.apply([],t);var i,o,s,u,l,c,f=0,p=e.length,d=p-1,y=t[0],v=g(y);if(v||p>1&&\"string\"==typeof y&&!h.checkClone&&je.test(y))return e.each(function(i){var o=e.eq(i);v&&(t[0]=y.call(this,i,o.html())),Re(o,t,n,r)});if(p&&(i=xe(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(u=(s=w.map(ye(i,\"script\"),He)).length;f<p;f++)l=i,f!==d&&(l=w.clone(l,!0,!0),u&&w.merge(s,ye(l,\"script\"))),n.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,w.map(s,Oe),f=0;f<u;f++)l=s[f],he.test(l.type||\"\")&&!J.access(l,\"globalEval\")&&w.contains(c,l)&&(l.src&&\"module\"!==(l.type||\"\").toLowerCase()?w._evalUrl&&w._evalUrl(l.src):m(l.textContent.replace(qe,\"\"),c,l))}return e}function Ie(e,t,n){for(var r,i=t?w.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||w.cleanData(ye(r)),r.parentNode&&(n&&w.contains(r.ownerDocument,r)&&ve(ye(r,\"script\")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e.replace(Ne,\"<$1></$2>\")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=w.contains(e.ownerDocument,e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=ye(s),r=0,i=(o=ye(e)).length;r<i;r++)Me(o[r],a[r]);if(t)if(n)for(o=o||ye(e),a=a||ye(s),r=0,i=o.length;r<i;r++)Pe(o[r],a[r]);else Pe(e,s);return(a=ye(s,\"script\")).length>0&&ve(a,!u&&ye(e,\"script\")),s},cleanData:function(e){for(var t,n,r,i=w.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Ie(this,e,!0)},remove:function(e){return Ie(this,e)},text:function(e){return z(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Re(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)})},prepend:function(){return Re(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Le(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ye(e,!1)),e.textContent=\"\");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return z(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if(\"string\"==typeof e&&!Ae.test(e)&&!ge[(de.exec(e)||[\"\",\"\"])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Re(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ye(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(e,t){w.fn[e]=function(e){for(var n,r=[],i=w(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(i[a])[t](n),s.apply(r,n.get());return this.pushStack(r)}});var We=new RegExp(\"^(\"+re+\")(?!px)[a-z%]+$\",\"i\"),$e=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Be=new RegExp(oe.join(\"|\"),\"i\");!function(){function t(){if(c){l.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",c.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",be.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);i=\"1%\"!==t.top,u=12===n(t.marginLeft),c.style.right=\"60%\",s=36===n(t.right),o=36===n(t.width),c.style.position=\"absolute\",a=36===c.offsetWidth||\"absolute\",be.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var i,o,a,s,u,l=r.createElement(\"div\"),c=r.createElement(\"div\");c.style&&(c.style.backgroundClip=\"content-box\",c.cloneNode(!0).style.backgroundClip=\"\",h.clearCloneStyle=\"content-box\"===c.style.backgroundClip,w.extend(h,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),a}}))}();function Fe(e,t,n){var r,i,o,a,s=e.style;return(n=n||$e(e))&&(\"\"!==(a=n.getPropertyValue(t)||n[t])||w.contains(e.ownerDocument,e)||(a=w.style(e,t)),!h.pixelBoxStyles()&&We.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+\"\":a}function _e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}var ze=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ue={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Ve={letterSpacing:\"0\",fontWeight:\"400\"},Ge=[\"Webkit\",\"Moz\",\"ms\"],Ye=r.createElement(\"div\").style;function Qe(e){if(e in Ye)return e;var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;while(n--)if((e=Ge[n]+t)in Ye)return e}function Je(e){var t=w.cssProps[e];return t||(t=w.cssProps[e]=Qe(e)||e),t}function Ke(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||\"px\"):t}function Ze(e,t,n,r,i,o){var a=\"width\"===t?1:0,s=0,u=0;if(n===(r?\"border\":\"content\"))return 0;for(;a<4;a+=2)\"margin\"===n&&(u+=w.css(e,n+oe[a],!0,i)),r?(\"content\"===n&&(u-=w.css(e,\"padding\"+oe[a],!0,i)),\"margin\"!==n&&(u-=w.css(e,\"border\"+oe[a]+\"Width\",!0,i))):(u+=w.css(e,\"padding\"+oe[a],!0,i),\"padding\"!==n?u+=w.css(e,\"border\"+oe[a]+\"Width\",!0,i):s+=w.css(e,\"border\"+oe[a]+\"Width\",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e[\"offset\"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function et(e,t,n){var r=$e(e),i=Fe(e,t,r),o=\"border-box\"===w.css(e,\"boxSizing\",!1,r),a=o;if(We.test(i)){if(!n)return i;i=\"auto\"}return a=a&&(h.boxSizingReliable()||i===e.style[t]),(\"auto\"===i||!parseFloat(i)&&\"inline\"===w.css(e,\"display\",!1,r))&&(i=e[\"offset\"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+Ze(e,t,n||(o?\"border\":\"content\"),a,r,i)+\"px\"}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Fe(e,\"opacity\");return\"\"===n?\"1\":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=G(t),u=Xe.test(t),l=e.style;if(u||(t=Je(s)),a=w.cssHooks[t]||w.cssHooks[s],void 0===n)return a&&\"get\"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];\"string\"==(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=ue(e,t,i),o=\"number\"),null!=n&&n===n&&(\"number\"===o&&(n+=i&&i[3]||(w.cssNumber[s]?\"\":\"px\")),h.clearCloneStyle||\"\"!==n||0!==t.indexOf(\"background\")||(l[t]=\"inherit\"),a&&\"set\"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=G(t);return Xe.test(t)||(t=Je(s)),(a=w.cssHooks[t]||w.cssHooks[s])&&\"get\"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Fe(e,t,r)),\"normal\"===i&&t in Ve&&(i=Ve[t]),\"\"===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),w.each([\"height\",\"width\"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!ze.test(w.css(e,\"display\"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,r):se(e,Ue,function(){return et(e,t,r)})},set:function(e,n,r){var i,o=$e(e),a=\"border-box\"===w.css(e,\"boxSizing\",!1,o),s=r&&Ze(e,t,r,a,o);return a&&h.scrollboxSize()===o.position&&(s-=Math.ceil(e[\"offset\"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Ze(e,t,\"border\",!1,o)-.5)),s&&(i=ie.exec(n))&&\"px\"!==(i[3]||\"px\")&&(e.style[t]=n,n=w.css(e,t)),Ke(e,n,s)}}}),w.cssHooks.marginLeft=_e(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Fe(e,\"marginLeft\"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+\"px\"}),w.each({margin:\"\",padding:\"\",border:\"Width\"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o=\"string\"==typeof n?n.split(\" \"):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},\"margin\"!==e&&(w.cssHooks[e+t].set=Ke)}),w.fn.extend({css:function(e,t){return z(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=$e(e),i=t.length;a<i;a++)o[t[a]]=w.css(e,t[a],!1,r);return o}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}});function tt(e,t,n,r,i){return new tt.prototype.init(e,t,n,r,i)}w.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(w.cssNumber[n]?\"\":\"px\")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,\"\"))&&\"auto\"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[w.cssProps[e.prop]]&&!w.cssHooks[e.prop]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:\"swing\"},w.fx=tt.prototype.init,w.fx.step={};var nt,rt,it=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function at(){rt&&(!1===r.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(at):e.setTimeout(at,w.fx.interval),w.fx.tick())}function st(){return e.setTimeout(function(){nt=void 0}),nt=Date.now()}function ut(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i[\"margin\"+(n=oe[r])]=i[\"padding\"+n]=e;return t&&(i.opacity=i.width=e),i}function lt(e,t,n){for(var r,i=(pt.tweeners[t]||[]).concat(pt.tweeners[\"*\"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ct(e,t,n){var r,i,o,a,s,u,l,c,f=\"width\"in t||\"height\"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),y=J.get(e,\"fxshow\");n.queue||(null==(a=w._queueHooks(e,\"fx\")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,w.queue(e,\"fx\").length||a.empty.fire()})}));for(r in t)if(i=t[r],it.test(i)){if(delete t[r],o=o||\"toggle\"===i,i===(g?\"hide\":\"show\")){if(\"show\"!==i||!y||void 0===y[r])continue;g=!0}d[r]=y&&y[r]||w.style(e,r)}if((u=!w.isEmptyObject(t))||!w.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=y&&y.display)&&(l=J.get(e,\"display\")),\"none\"===(c=w.css(e,\"display\"))&&(l?c=l:(fe([e],!0),l=e.style.display||l,c=w.css(e,\"display\"),fe([e]))),(\"inline\"===c||\"inline-block\"===c&&null!=l)&&\"none\"===w.css(e,\"float\")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l=\"none\"===c?\"\":c)),h.display=\"inline-block\")),n.overflow&&(h.overflow=\"hidden\",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(y?\"hidden\"in y&&(g=y.hidden):y=J.access(e,\"fxshow\",{display:l}),o&&(y.hidden=!g),g&&fe([e],!0),p.done(function(){g||fe([e]),J.remove(e,\"fxshow\");for(r in d)w.style(e,r,d[r])})),u=lt(g?y[r]:0,r,p),r in y||(y[r]=u.start,g&&(u.end=u.start,u.start=0))}}function ft(e,t){var n,r,i,o,a;for(n in e)if(r=G(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=w.cssHooks[r])&&\"expand\"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function pt(e,t,n){var r,i,o=0,a=pt.prefilters.length,s=w.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=nt||st(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||st(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(ft(c,l.opts.specialEasing);o<a;o++)if(r=pt.prefilters[o].call(l,e,c,l.opts))return g(r.stop)&&(w._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return w.map(c,lt,l),g(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),w.fx.timer(w.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}w.Animation=w.extend(pt,{tweeners:{\"*\":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=[\"*\"]):e=e.match(M);for(var n,r=0,i=e.length;r<i;r++)n=e[r],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[ct],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),w.speed=function(e,t,n){var r=e&&\"object\"==typeof e?w.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return w.fx.off?r.duration=0:\"number\"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue=\"fx\"),r.old=r.complete,r.complete=function(){g(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css(\"opacity\",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=w.isEmptyObject(e),o=w.speed(t,n,r),a=function(){var t=pt(this,w.extend({},e),o);(i||J.get(this,\"finish\"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return\"string\"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||\"fx\",[]),this.each(function(){var t=!0,i=null!=e&&e+\"queueHooks\",o=w.timers,a=J.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ot.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||\"fx\"),this.each(function(){var t,n=J.get(this),r=n[e+\"queue\"],i=n[e+\"queueHooks\"],o=w.timers,a=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each([\"toggle\",\"show\",\"hide\"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,i){return null==e||\"boolean\"==typeof e?n.apply(this,arguments):this.animate(ut(t,!0),e,r,i)}}),w.each({slideDown:ut(\"show\"),slideUp:ut(\"hide\"),slideToggle:ut(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),nt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){rt||(rt=!0,at())},w.fx.stop=function(){rt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return t=w.fx?w.fx.speeds[t]||t:t,n=n||\"fx\",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=r.createElement(\"input\"),t=r.createElement(\"select\").appendChild(r.createElement(\"option\"));e.type=\"checkbox\",h.checkOn=\"\"!==e.value,h.optSelected=t.selected,(e=r.createElement(\"input\")).value=\"t\",e.type=\"radio\",h.radioValue=\"t\"===e.value}();var dt,ht=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return z(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return\"undefined\"==typeof e.getAttribute?w.prop(e,t,n):(1===o&&w.isXMLDoc(e)||(i=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):i&&\"set\"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+\"\"),n):i&&\"get\"in i&&null!==(r=i.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&\"radio\"===t&&N(e,\"input\")){var n=e.value;return e.setAttribute(\"type\",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(M);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\\w+/g),function(e,t){var n=ht[t]||w.find.attr;ht[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=ht[a],ht[a]=i,i=null!=n(e,t,r)?a:null,ht[a]=o),i}});var gt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;w.fn.extend({prop:function(e,t){return z(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,i=w.propHooks[t]),void 0!==n?i&&\"set\"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&\"get\"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,\"tabindex\");return t?parseInt(t,10):gt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{\"for\":\"htmlFor\",\"class\":\"className\"}}),h.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],function(){w.propFix[this.toLowerCase()]=this});function vt(e){return(e.match(M)||[]).join(\" \")}function mt(e){return e.getAttribute&&e.getAttribute(\"class\")||\"\"}function xt(e){return Array.isArray(e)?e:\"string\"==typeof e?e.match(M)||[]:[]}w.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).addClass(e.call(this,t,mt(this)))});if((t=xt(e)).length)while(n=this[u++])if(i=mt(n),r=1===n.nodeType&&\" \"+vt(i)+\" \"){a=0;while(o=t[a++])r.indexOf(\" \"+o+\" \")<0&&(r+=o+\" \");i!==(s=vt(r))&&n.setAttribute(\"class\",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr(\"class\",\"\");if((t=xt(e)).length)while(n=this[u++])if(i=mt(n),r=1===n.nodeType&&\" \"+vt(i)+\" \"){a=0;while(o=t[a++])while(r.indexOf(\" \"+o+\" \")>-1)r=r.replace(\" \"+o+\" \",\" \");i!==(s=vt(r))&&n.setAttribute(\"class\",s)}return this},toggleClass:function(e,t){var n=typeof e,r=\"string\"===n||Array.isArray(e);return\"boolean\"==typeof t&&r?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,mt(this),t),t)}):this.each(function(){var t,i,o,a;if(r){i=0,o=w(this),a=xt(e);while(t=a[i++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else void 0!==e&&\"boolean\"!==n||((t=mt(this))&&J.set(this,\"__className__\",t),this.setAttribute&&this.setAttribute(\"class\",t||!1===e?\"\":J.get(this,\"__className__\")||\"\"))})},hasClass:function(e){var t,n,r=0;t=\" \"+e+\" \";while(n=this[r++])if(1===n.nodeType&&(\" \"+vt(mt(n))+\" \").indexOf(t)>-1)return!0;return!1}});var bt=/\\r/g;w.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=g(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,w(this).val()):e)?i=\"\":\"number\"==typeof i?i+=\"\":Array.isArray(i)&&(i=w.map(i,function(e){return null==e?\"\":e+\"\"})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&\"set\"in t&&void 0!==t.set(this,i,\"value\")||(this.value=i))});if(i)return(t=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&\"get\"in t&&void 0!==(n=t.get(i,\"value\"))?n:\"string\"==typeof(n=i.value)?n.replace(bt,\"\"):null==n?\"\":n}}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,\"value\");return null!=t?t:vt(w.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a=\"select-one\"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,\"optgroup\"))){if(t=w(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=w.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=w.inArray(w.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),w.each([\"radio\",\"checkbox\"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},h.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute(\"value\")?\"on\":e.value})}),h.focusin=\"onfocusin\"in e;var wt=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,i,o){var a,s,u,l,c,p,d,h,v=[i||r],m=f.call(t,\"type\")?t.type:t,x=f.call(t,\"namespace\")?t.namespace.split(\".\"):[];if(s=h=u=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!wt.test(m+w.event.triggered)&&(m.indexOf(\".\")>-1&&(m=(x=m.split(\".\")).shift(),x.sort()),c=m.indexOf(\":\")<0&&\"on\"+m,t=t[w.expando]?t:new w.Event(m,\"object\"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=x.join(\".\"),t.rnamespace=t.namespace?new RegExp(\"(^|\\\\.)\"+x.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:w.makeArray(n,[t]),d=w.event.special[m]||{},o||!d.trigger||!1!==d.trigger.apply(i,n))){if(!o&&!d.noBubble&&!y(i)){for(l=d.delegateType||m,wt.test(l+m)||(s=s.parentNode);s;s=s.parentNode)v.push(s),u=s;u===(i.ownerDocument||r)&&v.push(u.defaultView||u.parentWindow||e)}a=0;while((s=v[a++])&&!t.isPropagationStopped())h=s,t.type=a>1?l:d.bindType||m,(p=(J.get(s,\"events\")||{})[t.type]&&J.get(s,\"handle\"))&&p.apply(s,n),(p=c&&s[c])&&p.apply&&Y(s)&&(t.result=p.apply(s,n),!1===t.result&&t.preventDefault());return t.type=m,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(v.pop(),n)||!Y(i)||c&&g(i[m])&&!y(i)&&((u=i[c])&&(i[c]=null),w.event.triggered=m,t.isPropagationStopped()&&h.addEventListener(m,Tt),i[m](),t.isPropagationStopped()&&h.removeEventListener(m,Tt),w.event.triggered=void 0,u&&(i[c]=u)),t.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),h.focusin||w.each({focus:\"focusin\",blur:\"focusout\"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=J.access(r,t);i||r.addEventListener(e,n,!0),J.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=J.access(r,t)-1;i?J.access(r,t,i):(r.removeEventListener(e,n,!0),J.remove(r,t))}}});var Ct=e.location,Et=Date.now(),kt=/\\?/;w.parseXML=function(t){var n;if(!t||\"string\"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,\"text/xml\")}catch(e){n=void 0}return n&&!n.getElementsByTagName(\"parsererror\").length||w.error(\"Invalid XML: \"+t),n};var St=/\\[\\]$/,Dt=/\\r?\\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function jt(e,t,n,r){var i;if(Array.isArray(t))w.each(t,function(t,i){n||St.test(e)?r(e,i):jt(e+\"[\"+(\"object\"==typeof i&&null!=i?t:\"\")+\"]\",i,n,r)});else if(n||\"object\"!==x(t))r(e,t);else for(i in t)jt(e+\"[\"+i+\"]\",t[i],n,r)}w.param=function(e,t){var n,r=[],i=function(e,t){var n=g(t)?t():t;r[r.length]=encodeURIComponent(e)+\"=\"+encodeURIComponent(null==n?\"\":n)};if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){i(this.name,this.value)});else for(n in e)jt(n,e[n],t,i);return r.join(\"&\")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,\"elements\");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(\":disabled\")&&At.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(Dt,\"\\r\\n\")}}):{name:t.name,value:n.replace(Dt,\"\\r\\n\")}}).get()}});var qt=/%20/g,Lt=/#.*$/,Ht=/([?&])_=[^&]*/,Ot=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mt=/^(?:GET|HEAD)$/,Rt=/^\\/\\//,It={},Wt={},$t=\"*/\".concat(\"*\"),Bt=r.createElement(\"a\");Bt.href=Ct.href;function Ft(e){return function(t,n){\"string\"!=typeof t&&(n=t,t=\"*\");var r,i=0,o=t.toLowerCase().match(M)||[];if(g(n))while(r=o[i++])\"+\"===r[0]?(r=r.slice(1)||\"*\",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function _t(e,t,n,r){var i={},o=e===Wt;function a(s){var u;return i[s]=!0,w.each(e[s]||[],function(e,s){var l=s(t,n,r);return\"string\"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),u}return a(t.dataTypes[0])||!i[\"*\"]&&a(\"*\")}function zt(e,t){var n,r,i=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&w.extend(!0,e,r),e}function Xt(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while(\"*\"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader(\"Content-Type\"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+\" \"+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Ut(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if(\"*\"===o)o=u;else if(\"*\"!==u&&u!==o){if(!(a=l[u+\" \"+o]||l[\"* \"+o]))for(i in l)if((s=i.split(\" \"))[1]===o&&(a=l[u+\" \"+s[0]]||l[\"* \"+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e[\"throws\"])t=a(t);else try{t=a(t)}catch(e){return{state:\"parsererror\",error:a?e:\"No conversion from \"+u+\" to \"+o}}}return{state:\"success\",data:t}}w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:\"GET\",isLocal:Pt.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":$t,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,w.ajaxSettings),t):zt(w.ajaxSettings,e)},ajaxPrefilter:Ft(It),ajaxTransport:Ft(Wt),ajax:function(t,n){\"object\"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,d,h=w.ajaxSetup({},n),g=h.context||h,y=h.context&&(g.nodeType||g.jquery)?w(g):w.event,v=w.Deferred(),m=w.Callbacks(\"once memory\"),x=h.statusCode||{},b={},T={},C=\"canceled\",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s){s={};while(t=Ot.exec(a))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=T[e.toLowerCase()]=T[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||C;return i&&i.abort(t),k(0,t),this}};if(v.promise(E),h.url=((t||h.url||Ct.href)+\"\").replace(Rt,Ct.protocol+\"//\"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||\"*\").toLowerCase().match(M)||[\"\"],null==h.crossDomain){l=r.createElement(\"a\");try{l.href=h.url,l.href=l.href,h.crossDomain=Bt.protocol+\"//\"+Bt.host!=l.protocol+\"//\"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&\"string\"!=typeof h.data&&(h.data=w.param(h.data,h.traditional)),_t(It,h,n,E),c)return E;(f=w.event&&h.global)&&0==w.active++&&w.event.trigger(\"ajaxStart\"),h.type=h.type.toUpperCase(),h.hasContent=!Mt.test(h.type),o=h.url.replace(Lt,\"\"),h.hasContent?h.data&&h.processData&&0===(h.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(h.data=h.data.replace(qt,\"+\")):(d=h.url.slice(o.length),h.data&&(h.processData||\"string\"==typeof h.data)&&(o+=(kt.test(o)?\"&\":\"?\")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Ht,\"$1\"),d=(kt.test(o)?\"&\":\"?\")+\"_=\"+Et+++d),h.url=o+d),h.ifModified&&(w.lastModified[o]&&E.setRequestHeader(\"If-Modified-Since\",w.lastModified[o]),w.etag[o]&&E.setRequestHeader(\"If-None-Match\",w.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&E.setRequestHeader(\"Content-Type\",h.contentType),E.setRequestHeader(\"Accept\",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+(\"*\"!==h.dataTypes[0]?\", \"+$t+\"; q=0.01\":\"\"):h.accepts[\"*\"]);for(p in h.headers)E.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(g,E,h)||c))return E.abort();if(C=\"abort\",m.add(h.complete),E.done(h.success),E.fail(h.error),i=_t(Wt,h,n,E)){if(E.readyState=1,f&&y.trigger(\"ajaxSend\",[E,h]),c)return E;h.async&&h.timeout>0&&(u=e.setTimeout(function(){E.abort(\"timeout\")},h.timeout));try{c=!1,i.send(b,k)}catch(e){if(c)throw e;k(-1,e)}}else k(-1,\"No Transport\");function k(t,n,r,s){var l,p,d,b,T,C=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||\"\",E.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=Xt(h,E,r)),b=Ut(h,b,E,l),l?(h.ifModified&&((T=E.getResponseHeader(\"Last-Modified\"))&&(w.lastModified[o]=T),(T=E.getResponseHeader(\"etag\"))&&(w.etag[o]=T)),204===t||\"HEAD\"===h.type?C=\"nocontent\":304===t?C=\"notmodified\":(C=b.state,p=b.data,l=!(d=b.error))):(d=C,!t&&C||(C=\"error\",t<0&&(t=0))),E.status=t,E.statusText=(n||C)+\"\",l?v.resolveWith(g,[p,C,E]):v.rejectWith(g,[E,C,d]),E.statusCode(x),x=void 0,f&&y.trigger(l?\"ajaxSuccess\":\"ajaxError\",[E,h,l?p:d]),m.fireWith(g,[E,C]),f&&(y.trigger(\"ajaxComplete\",[E,h]),--w.active||w.event.trigger(\"ajaxStop\")))}return E},getJSON:function(e,t,n){return w.get(e,t,n,\"json\")},getScript:function(e,t){return w.get(e,void 0,t,\"script\")}}),w.each([\"get\",\"post\"],function(e,t){w[t]=function(e,n,r,i){return g(n)&&(i=i||r,r=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:i,data:n,success:r},w.isPlainObject(e)&&e))}}),w._evalUrl=function(e){return w.ajax({url:e,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,\"throws\":!0})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not(\"body\").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Vt={0:200,1223:204},Gt=w.ajaxSettings.xhr();h.cors=!!Gt&&\"withCredentials\"in Gt,h.ajax=Gt=!!Gt,w.ajaxTransport(function(t){var n,r;if(h.cors||Gt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i[\"X-Requested-With\"]||(i[\"X-Requested-With\"]=\"XMLHttpRequest\");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,\"abort\"===e?s.abort():\"error\"===e?\"number\"!=typeof s.status?o(0,\"error\"):o(s.status,s.statusText):o(Vt[s.status]||s.status,s.statusText,\"text\"!==(s.responseType||\"text\")||\"string\"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n(\"error\"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n(\"abort\");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter(\"script\",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type=\"GET\")}),w.ajaxTransport(\"script\",function(e){if(e.crossDomain){var t,n;return{send:function(i,o){t=w(\"<script>\").prop({charset:e.scriptCharset,src:e.url}).on(\"load error\",n=function(e){t.remove(),n=null,e&&o(\"error\"===e.type?404:200,e.type)}),r.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Yt=[],Qt=/(=)\\?(?=&|$)|\\?\\?/;w.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var e=Yt.pop()||w.expando+\"_\"+Et++;return this[e]=!0,e}}),w.ajaxPrefilter(\"json jsonp\",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Qt.test(t.url)?\"url\":\"string\"==typeof t.data&&0===(t.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Qt.test(t.data)&&\"data\");if(s||\"jsonp\"===t.dataTypes[0])return i=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Qt,\"$1\"+i):!1!==t.jsonp&&(t.url+=(kt.test(t.url)?\"&\":\"?\")+t.jsonp+\"=\"+i),t.converters[\"script json\"]=function(){return a||w.error(i+\" was not called\"),a[0]},t.dataTypes[0]=\"json\",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?w(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Yt.push(i)),a&&g(o)&&o(a[0]),a=o=void 0}),\"script\"}),h.createHTMLDocument=function(){var e=r.implementation.createHTMLDocument(\"\").body;return e.innerHTML=\"<form></form><form></form>\",2===e.childNodes.length}(),w.parseHTML=function(e,t,n){if(\"string\"!=typeof e)return[];\"boolean\"==typeof t&&(n=t,t=!1);var i,o,a;return t||(h.createHTMLDocument?((i=(t=r.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=r.location.href,t.head.appendChild(i)):t=r),o=A.exec(e),a=!n&&[],o?[t.createElement(o[1])]:(o=xe([e],t,a),a&&a.length&&w(a).remove(),w.merge([],o.childNodes))},w.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(\" \");return s>-1&&(r=vt(e.slice(s)),e=e.slice(0,s)),g(t)?(n=t,t=void 0):t&&\"object\"==typeof t&&(i=\"POST\"),a.length>0&&w.ajax({url:e,type:i||\"GET\",dataType:\"html\",data:t}).done(function(e){o=arguments,a.html(r?w(\"<div>\").append(w.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},w.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=w.css(e,\"position\"),f=w(e),p={};\"static\"===c&&(e.style.position=\"relative\"),s=f.offset(),o=w.css(e,\"top\"),u=w.css(e,\"left\"),(l=(\"absolute\"===c||\"fixed\"===c)&&(o+u).indexOf(\"auto\")>-1)?(a=(r=f.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),g(t)&&(t=t.call(e,n,w.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),\"using\"in t?t.using.call(e,p):f.css(p)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if(\"fixed\"===w.css(r,\"position\"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&\"static\"===w.css(e,\"position\"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=w(e).offset()).top+=w.css(e,\"borderTopWidth\",!0),i.left+=w.css(e,\"borderLeftWidth\",!0))}return{top:t.top-i.top-w.css(r,\"marginTop\",!0),left:t.left-i.left-w.css(r,\"marginLeft\",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&\"static\"===w.css(e,\"position\"))e=e.offsetParent;return e||be})}}),w.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(e,t){var n=\"pageYOffset\"===t;w.fn[e]=function(r){return z(this,function(e,r,i){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),w.each([\"top\",\"left\"],function(e,t){w.cssHooks[t]=_e(h.pixelPosition,function(e,n){if(n)return n=Fe(e,t),We.test(n)?w(e).position()[t]+\"px\":n})}),w.each({Height:\"height\",Width:\"width\"},function(e,t){w.each({padding:\"inner\"+e,content:t,\"\":\"outer\"+e},function(n,r){w.fn[r]=function(i,o){var a=arguments.length&&(n||\"boolean\"!=typeof i),s=n||(!0===i||!0===o?\"margin\":\"border\");return z(this,function(t,n,i){var o;return y(t)?0===r.indexOf(\"outer\")?t[\"inner\"+e]:t.document.documentElement[\"client\"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body[\"scroll\"+e],o[\"scroll\"+e],t.body[\"offset\"+e],o[\"offset\"+e],o[\"client\"+e])):void 0===i?w.css(t,n,s):w.style(t,n,i,s)},t,a?i:void 0,a)}})}),w.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,\"**\"):this.off(t,e||\"**\",n)}}),w.proxy=function(e,t){var n,r,i;if(\"string\"==typeof t&&(n=e[t],t=e,e=n),g(e))return r=o.call(arguments,2),i=function(){return e.apply(t||this,r.concat(o.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=N,w.isFunction=g,w.isWindow=y,w.camelCase=G,w.type=x,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return(\"number\"===t||\"string\"===t)&&!isNaN(e-parseFloat(e))},\"function\"==typeof define&&define.amd&&define(\"jquery\",[],function(){return w});var Jt=e.jQuery,Kt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Kt),t&&e.jQuery===w&&(e.jQuery=Jt),w},t||(e.jQuery=e.$=w),w});"
            },
            {
              "filename": "server/server.js",
              "patch": "@@ -21,9 +21,11 @@ io.on('connection', (socket) => {\n \n     socket.broadcast.emit('newMessage', generateMessage(\"ADMIN\", \"New user joined chat\"));\n \n-    socket.on('createMessage', (message) => {\n+    socket.on('createMessage', (message/*, callback*/) => {\n         console.log('create message', message);\n         io.emit('newMessage', generateMessage(message.from, message.text));\n+\n+        // callback(data);\n     });\n \n     socket.on('disconnect', () => {"
            }
          ]
        },
        {
          "sha": "4551706e45259ae897803e582eb6665d0fcbcfe0",
          "message": "create generateMessage utility",
          "author": "Leon",
          "files": [
            {
              "filename": "package-lock.json",
              "patch": "No diff"
            },
            {
              "filename": "package.json",
              "patch": "@@ -5,7 +5,8 @@\n   \"main\": \"index.js\",\n   \"scripts\": {\n     \"start\": \"node server/server.js\",\n-    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n+    \"test\": \"mocha server/**/*.test.js\",\n+    \"test-watch\": \"nodemon --exec \\\"npm test\\\"\"\n   },\n   \"engines\": {\n     \"node\": \"8.12.0\"\n@@ -15,5 +16,10 @@\n   \"dependencies\": {\n     \"express\": \"^4.16.4\",\n     \"socket.io\": \"^2.1.1\"\n+  },\n+  \"devDependencies\": {\n+    \"expect\": \"^23.6.0\",\n+    \"mocha\": \"^5.2.0\",\n+    \"nodemon\": \"^1.18.4\"\n   }\n }"
            },
            {
              "filename": "server/server.js",
              "patch": "@@ -4,6 +4,7 @@ const express = require('express');\n const socketIO = require('socket.io');\n const http = require('http');\n \n+const {generateMessage} = require('./utils/message');\n const publicPath = path.join(__dirname, '../public');\n const port = process.env.PORT;\n \n@@ -16,31 +17,13 @@ app.use(express.static(publicPath));\n io.on('connection', (socket) => {\n     console.log('new user connected');\n \n-    socket.emit('newMessage', {\n-        from: 'ADMIN',\n-        text: 'Welcome to the chat',\n-        createdAt: new Date().getTime()   \n-    });\n+    socket.emit('newMessage', generateMessage(\"ADMIN\", \"Welcome to the chat\"));\n \n-    socket.broadcast.emit('newMessage', {\n-        from: 'ADMIN',\n-        text: 'New user just joined chat',\n-        createdAt: new Date().getTime()\n-    });\n+    socket.broadcast.emit('newMessage', generateMessage(\"ADMIN\", \"New user joined chat\"));\n \n     socket.on('createMessage', (message) => {\n         console.log('create message', message);\n-        io.emit('newMessage', {\n-            from: message.from,\n-            text: message.text,\n-            createdAt: new Date().getTime()\n-        });\n-\n-        // socket.broadcast.emit('newMessage', {\n-        //     from: message.from,\n-        //     text: message.text,\n-        //     createdAt: new Date().getTime()\n-        // });\n+        io.emit('newMessage', generateMessage(message.from, message.text));\n     });\n \n     socket.on('disconnect', () => {"
            },
            {
              "filename": "server/utils/message.js",
              "patch": "@@ -0,0 +1,10 @@\n+\n+var generateMessage = (from, text) => {\n+    return {\n+        from,\n+        text,\n+        createdAt: new Date().getTime()\n+    };\n+};\n+\n+module.exports = {generateMessage};\n\\ No newline at end of file"
            },
            {
              "filename": "server/utils/message.test.js",
              "patch": "@@ -0,0 +1,15 @@\n+const expect = require('expect');\n+\n+\n+var {generateMessage} = require('./message');\n+\n+describe('generateMessage', () => {\n+    it('should generate correct message object', () => {\n+        var from = 'Jen';\n+        var text = 'some message';\n+        var message = generateMessage(from,text);\n+\n+        expect(typeof(message.createdAt)).toBe('number');\n+        expect(message).toMatchObject({from,text});\n+    });\n+});\n\\ No newline at end of file"
            }
          ]
        },
        {
          "sha": "7098bbe7aff64c45544b960d0e15fe7a91127790",
          "message": "greet new user and alert others",
          "author": "Leon",
          "files": [
            {
              "filename": "server/server.js",
              "patch": "@@ -16,19 +16,31 @@ app.use(express.static(publicPath));\n io.on('connection', (socket) => {\n     console.log('new user connected');\n \n-    // socket.emit('newMessage', {\n-    //     from: 'Mike',\n-    //     text: \"whatsup\",\n-    //     createdAt: 123\n-    // });\n+    socket.emit('newMessage', {\n+        from: 'ADMIN',\n+        text: 'Welcome to the chat',\n+        createdAt: new Date().getTime()   \n+    });\n+\n+    socket.broadcast.emit('newMessage', {\n+        from: 'ADMIN',\n+        text: 'New user just joined chat',\n+        createdAt: new Date().getTime()\n+    });\n \n     socket.on('createMessage', (message) => {\n         console.log('create message', message);\n         io.emit('newMessage', {\n             from: message.from,\n             text: message.text,\n             createdAt: new Date().getTime()\n-        })\n+        });\n+\n+        // socket.broadcast.emit('newMessage', {\n+        //     from: message.from,\n+        //     text: message.text,\n+        //     createdAt: new Date().getTime()\n+        // });\n     });\n \n     socket.on('disconnect', () => {"
            }
          ]
        },
        {
          "sha": "68d61972841e9ba7032fa84aae029817b283756c",
          "message": "emit newMessage on createMessage",
          "author": "Leon",
          "files": [
            {
              "filename": "public/js/index.js",
              "patch": "@@ -3,16 +3,16 @@ var socket = io();\n socket.on('connect', function () {\n     console.log('connected to server');\n \n-    socket.emit('createMessage', {\n-        from: \"Jen\",\n-        text: \"hello there\"\n-    });\n+    // socket.emit('createMessage', {\n+    //     from: \"Jen\",\n+    //     text: \"hello there\"\n+    // });\n });\n \n socket.on('disconnect', function () {\n     console.log('disconnected from server');\n });\n \n-socket.on('newMessage', function (msg) {\n-    console.log('new message', msg);\n+socket.on('newMessage', function (message) {\n+    console.log('new message', message);\n });\n\\ No newline at end of file"
            },
            {
              "filename": "server/server.js",
              "patch": "@@ -16,14 +16,19 @@ app.use(express.static(publicPath));\n io.on('connection', (socket) => {\n     console.log('new user connected');\n \n-    socket.emit('newMessage', {\n-        from: 'Mike',\n-        text: \"whatsup\",\n-        createdAt: 123\n-    });\n-\n-    socket.on('createMessage', (msg) => {\n-        console.log('create message', msg);\n+    // socket.emit('newMessage', {\n+    //     from: 'Mike',\n+    //     text: \"whatsup\",\n+    //     createdAt: 123\n+    // });\n+\n+    socket.on('createMessage', (message) => {\n+        console.log('create message', message);\n+        io.emit('newMessage', {\n+            from: message.from,\n+            text: message.text,\n+            createdAt: new Date().getTime()\n+        })\n     });\n \n     socket.on('disconnect', () => {"
            }
          ]
        },
        {
          "sha": "7a763eaedeb53ed1f2716232b4149a42525eb42c",
          "message": "Add newMessage and createMessage events",
          "author": "Leon",
          "files": [
            {
              "filename": "public/index.html",
              "patch": "@@ -10,17 +10,7 @@\n     <p>welcome to chat app</p>\n \n     <script src=\"/socket.io/socket.io.js\"></script>\n-    <script>\n-        var socket = io();\n-\n-        socket.on('connect', () => {\n-            console.log('connected to server');\n-        });\n-\n-        socket.on('disconnect', () => {\n-            console.log('disconnected from server');\n-        });\n-    </script>\n+    <script src=\"/js/index.js\"></script>\n </body>\n \n </html>\n\\ No newline at end of file"
            },
            {
              "filename": "public/js/index.js",
              "patch": "@@ -0,0 +1,18 @@\n+var socket = io();\n+\n+socket.on('connect', function () {\n+    console.log('connected to server');\n+\n+    socket.emit('createMessage', {\n+        from: \"Jen\",\n+        text: \"hello there\"\n+    });\n+});\n+\n+socket.on('disconnect', function () {\n+    console.log('disconnected from server');\n+});\n+\n+socket.on('newMessage', function (msg) {\n+    console.log('new message', msg);\n+});\n\\ No newline at end of file"
            },
            {
              "filename": "server/server.js",
              "patch": "@@ -16,6 +16,16 @@ app.use(express.static(publicPath));\n io.on('connection', (socket) => {\n     console.log('new user connected');\n \n+    socket.emit('newMessage', {\n+        from: 'Mike',\n+        text: \"whatsup\",\n+        createdAt: 123\n+    });\n+\n+    socket.on('createMessage', (msg) => {\n+        console.log('create message', msg);\n+    });\n+\n     socket.on('disconnect', () => {\n         console.log('user was disconnected');\n     });"
            }
          ]
        },
        {
          "sha": "5a0c76997938e3ca3cc19861ef3c3ac2228a6d6e",
          "message": "Add connect and disconnect event handlers",
          "author": "Leon",
          "files": [
            {
              "filename": "package-lock.json",
              "patch": "@@ -13,11 +13,54 @@\n         \"negotiator\": \"0.6.1\"\n       }\n     },\n+    \"after\": {\n+      \"version\": \"0.8.2\",\n+      \"resolved\": \"https://registry.npmjs.org/after/-/after-0.8.2.tgz\",\n+      \"integrity\": \"sha1-/ts5T58OAqqXaOcCvaI7UF+ufh8=\"\n+    },\n     \"array-flatten\": {\n       \"version\": \"1.1.1\",\n       \"resolved\": \"https://registry.npmjs.org/array-flatten/-/array-flatten-1.1.1.tgz\",\n       \"integrity\": \"sha1-ml9pkFGx5wczKPKgCJaLZOopVdI=\"\n     },\n+    \"arraybuffer.slice\": {\n+      \"version\": \"0.0.7\",\n+      \"resolved\": \"https://registry.npmjs.org/arraybuffer.slice/-/arraybuffer.slice-0.0.7.tgz\",\n+      \"integrity\": \"sha512-wGUIVQXuehL5TCqQun8OW81jGzAWycqzFF8lFp+GOM5BXLYj3bKNsYC4daB7n6XjCqxQA/qgTJ+8ANR3acjrog==\"\n+    },\n+    \"async-limiter\": {\n+      \"version\": \"1.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/async-limiter/-/async-limiter-1.0.0.tgz\",\n+      \"integrity\": \"sha512-jp/uFnooOiO+L211eZOoSyzpOITMXx1rBITauYykG3BRYPu8h0UcxsPNB04RR5vo4Tyz3+ay17tR6JVf9qzYWg==\"\n+    },\n+    \"backo2\": {\n+      \"version\": \"1.0.2\",\n+      \"resolved\": \"https://registry.npmjs.org/backo2/-/backo2-1.0.2.tgz\",\n+      \"integrity\": \"sha1-MasayLEpNjRj41s+u2n038+6eUc=\"\n+    },\n+    \"base64-arraybuffer\": {\n+      \"version\": \"0.1.5\",\n+      \"resolved\": \"https://registry.npmjs.org/base64-arraybuffer/-/base64-arraybuffer-0.1.5.tgz\",\n+      \"integrity\": \"sha1-c5JncZI7Whl0etZmqlzUv5xunOg=\"\n+    },\n+    \"base64id\": {\n+      \"version\": \"1.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/base64id/-/base64id-1.0.0.tgz\",\n+      \"integrity\": \"sha1-R2iMuZu2gE8OBtPnY7HDLlfY5rY=\"\n+    },\n+    \"better-assert\": {\n+      \"version\": \"1.0.2\",\n+      \"resolved\": \"https://registry.npmjs.org/better-assert/-/better-assert-1.0.2.tgz\",\n+      \"integrity\": \"sha1-QIZrnhueC1W0gYlDEeaPr/rrxSI=\",\n+      \"requires\": {\n+        \"callsite\": \"1.0.0\"\n+      }\n+    },\n+    \"blob\": {\n+      \"version\": \"0.0.4\",\n+      \"resolved\": \"https://registry.npmjs.org/blob/-/blob-0.0.4.tgz\",\n+      \"integrity\": \"sha1-vPEwUspURj8w+fx+lbmkdjCpSSE=\"\n+    },\n     \"body-parser\": {\n       \"version\": \"1.18.3\",\n       \"resolved\": \"https://registry.npmjs.org/body-parser/-/body-parser-1.18.3.tgz\",\n@@ -40,6 +83,26 @@\n       \"resolved\": \"https://registry.npmjs.org/bytes/-/bytes-3.0.0.tgz\",\n       \"integrity\": \"sha1-0ygVQE1olpn4Wk6k+odV3ROpYEg=\"\n     },\n+    \"callsite\": {\n+      \"version\": \"1.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/callsite/-/callsite-1.0.0.tgz\",\n+      \"integrity\": \"sha1-KAOY5dZkvXQDi28JBRU+borxvCA=\"\n+    },\n+    \"component-bind\": {\n+      \"version\": \"1.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/component-bind/-/component-bind-1.0.0.tgz\",\n+      \"integrity\": \"sha1-AMYIq33Nk4l8AAllGx06jh5zu9E=\"\n+    },\n+    \"component-emitter\": {\n+      \"version\": \"1.2.1\",\n+      \"resolved\": \"https://registry.npmjs.org/component-emitter/-/component-emitter-1.2.1.tgz\",\n+      \"integrity\": \"sha1-E3kY1teCg/ffemt8WmPhQOaUJeY=\"\n+    },\n+    \"component-inherit\": {\n+      \"version\": \"0.0.3\",\n+      \"resolved\": \"https://registry.npmjs.org/component-inherit/-/component-inherit-0.0.3.tgz\",\n+      \"integrity\": \"sha1-ZF/ErfWLcrZJ1crmUTVhnbJv8UM=\"\n+    },\n     \"content-disposition\": {\n       \"version\": \"0.5.2\",\n       \"resolved\": \"https://registry.npmjs.org/content-disposition/-/content-disposition-0.5.2.tgz\",\n@@ -88,6 +151,69 @@\n       \"resolved\": \"https://registry.npmjs.org/encodeurl/-/encodeurl-1.0.2.tgz\",\n       \"integrity\": \"sha1-rT/0yG7C0CkyL1oCw6mmBslbP1k=\"\n     },\n+    \"engine.io\": {\n+      \"version\": \"3.2.0\",\n+      \"resolved\": \"https://registry.npmjs.org/engine.io/-/engine.io-3.2.0.tgz\",\n+      \"integrity\": \"sha512-mRbgmAtQ4GAlKwuPnnAvXXwdPhEx+jkc0OBCLrXuD/CRvwNK3AxRSnqK4FSqmAMRRHryVJP8TopOvmEaA64fKw==\",\n+      \"requires\": {\n+        \"accepts\": \"~1.3.4\",\n+        \"base64id\": \"1.0.0\",\n+        \"cookie\": \"0.3.1\",\n+        \"debug\": \"~3.1.0\",\n+        \"engine.io-parser\": \"~2.1.0\",\n+        \"ws\": \"~3.3.1\"\n+      },\n+      \"dependencies\": {\n+        \"debug\": {\n+          \"version\": \"3.1.0\",\n+          \"resolved\": \"https://registry.npmjs.org/debug/-/debug-3.1.0.tgz\",\n+          \"integrity\": \"sha512-OX8XqP7/1a9cqkxYw2yXss15f26NKWBpDXQd0/uK/KPqdQhxbPa994hnzjcE2VqQpDslf55723cKPUOGSmMY3g==\",\n+          \"requires\": {\n+            \"ms\": \"2.0.0\"\n+          }\n+        }\n+      }\n+    },\n+    \"engine.io-client\": {\n+      \"version\": \"3.2.1\",\n+      \"resolved\": \"https://registry.npmjs.org/engine.io-client/-/engine.io-client-3.2.1.tgz\",\n+      \"integrity\": \"sha512-y5AbkytWeM4jQr7m/koQLc5AxpRKC1hEVUb/s1FUAWEJq5AzJJ4NLvzuKPuxtDi5Mq755WuDvZ6Iv2rXj4PTzw==\",\n+      \"requires\": {\n+        \"component-emitter\": \"1.2.1\",\n+        \"component-inherit\": \"0.0.3\",\n+        \"debug\": \"~3.1.0\",\n+        \"engine.io-parser\": \"~2.1.1\",\n+        \"has-cors\": \"1.1.0\",\n+        \"indexof\": \"0.0.1\",\n+        \"parseqs\": \"0.0.5\",\n+        \"parseuri\": \"0.0.5\",\n+        \"ws\": \"~3.3.1\",\n+        \"xmlhttprequest-ssl\": \"~1.5.4\",\n+        \"yeast\": \"0.1.2\"\n+      },\n+      \"dependencies\": {\n+        \"debug\": {\n+          \"version\": \"3.1.0\",\n+          \"resolved\": \"https://registry.npmjs.org/debug/-/debug-3.1.0.tgz\",\n+          \"integrity\": \"sha512-OX8XqP7/1a9cqkxYw2yXss15f26NKWBpDXQd0/uK/KPqdQhxbPa994hnzjcE2VqQpDslf55723cKPUOGSmMY3g==\",\n+          \"requires\": {\n+            \"ms\": \"2.0.0\"\n+          }\n+        }\n+      }\n+    },\n+    \"engine.io-parser\": {\n+      \"version\": \"2.1.2\",\n+      \"resolved\": \"https://registry.npmjs.org/engine.io-parser/-/engine.io-parser-2.1.2.tgz\",\n+      \"integrity\": \"sha512-dInLFzr80RijZ1rGpx1+56/uFoH7/7InhH3kZt+Ms6hT8tNx3NGW/WNSA/f8As1WkOfkuyb3tnRyuXGxusclMw==\",\n+      \"requires\": {\n+        \"after\": \"0.8.2\",\n+        \"arraybuffer.slice\": \"~0.0.7\",\n+        \"base64-arraybuffer\": \"0.1.5\",\n+        \"blob\": \"0.0.4\",\n+        \"has-binary2\": \"~1.0.2\"\n+      }\n+    },\n     \"escape-html\": {\n       \"version\": \"1.0.3\",\n       \"resolved\": \"https://registry.npmjs.org/escape-html/-/escape-html-1.0.3.tgz\",\n@@ -159,6 +285,19 @@\n       \"resolved\": \"https://registry.npmjs.org/fresh/-/fresh-0.5.2.tgz\",\n       \"integrity\": \"sha1-PYyt2Q2XZWn6g1qx+OSyOhBWBac=\"\n     },\n+    \"has-binary2\": {\n+      \"version\": \"1.0.3\",\n+      \"resolved\": \"https://registry.npmjs.org/has-binary2/-/has-binary2-1.0.3.tgz\",\n+      \"integrity\": \"sha512-G1LWKhDSvhGeAQ8mPVQlqNcOB2sJdwATtZKl2pDKKHfpf/rYj24lkinxf69blJbnsvtqqNU+L3SL50vzZhXOnw==\",\n+      \"requires\": {\n+        \"isarray\": \"2.0.1\"\n+      }\n+    },\n+    \"has-cors\": {\n+      \"version\": \"1.1.0\",\n+      \"resolved\": \"https://registry.npmjs.org/has-cors/-/has-cors-1.1.0.tgz\",\n+      \"integrity\": \"sha1-XkdHk/fqmEPRu5nCPu9J/xJv/zk=\"\n+    },\n     \"http-errors\": {\n       \"version\": \"1.6.3\",\n       \"resolved\": \"http://registry.npmjs.org/http-errors/-/http-errors-1.6.3.tgz\",\n@@ -178,6 +317,11 @@\n         \"safer-buffer\": \">= 2.1.2 < 3\"\n       }\n     },\n+    \"indexof\": {\n+      \"version\": \"0.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/indexof/-/indexof-0.0.1.tgz\",\n+      \"integrity\": \"sha1-gtwzbSMrkGIXnQWrMpOmYFn9Q10=\"\n+    },\n     \"inherits\": {\n       \"version\": \"2.0.3\",\n       \"resolved\": \"https://registry.npmjs.org/inherits/-/inherits-2.0.3.tgz\",\n@@ -188,6 +332,11 @@\n       \"resolved\": \"https://registry.npmjs.org/ipaddr.js/-/ipaddr.js-1.8.0.tgz\",\n       \"integrity\": \"sha1-6qM9bd16zo9/b+DJygRA5wZzix4=\"\n     },\n+    \"isarray\": {\n+      \"version\": \"2.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/isarray/-/isarray-2.0.1.tgz\",\n+      \"integrity\": \"sha1-o32U7ZzaLVmGXJ92/llu4fM4dB4=\"\n+    },\n     \"media-typer\": {\n       \"version\": \"0.3.0\",\n       \"resolved\": \"https://registry.npmjs.org/media-typer/-/media-typer-0.3.0.tgz\",\n@@ -231,6 +380,11 @@\n       \"resolved\": \"https://registry.npmjs.org/negotiator/-/negotiator-0.6.1.tgz\",\n       \"integrity\": \"sha1-KzJxhOiZIQEXeyhWP7XnECrNDKk=\"\n     },\n+    \"object-component\": {\n+      \"version\": \"0.0.3\",\n+      \"resolved\": \"https://registry.npmjs.org/object-component/-/object-component-0.0.3.tgz\",\n+      \"integrity\": \"sha1-8MaapQ78lbhmwYb0AKM3acsvEpE=\"\n+    },\n     \"on-finished\": {\n       \"version\": \"2.3.0\",\n       \"resolved\": \"https://registry.npmjs.org/on-finished/-/on-finished-2.3.0.tgz\",\n@@ -239,6 +393,22 @@\n         \"ee-first\": \"1.1.1\"\n       }\n     },\n+    \"parseqs\": {\n+      \"version\": \"0.0.5\",\n+      \"resolved\": \"https://registry.npmjs.org/parseqs/-/parseqs-0.0.5.tgz\",\n+      \"integrity\": \"sha1-1SCKNzjkZ2bikbouoXNoSSGouJ0=\",\n+      \"requires\": {\n+        \"better-assert\": \"~1.0.0\"\n+      }\n+    },\n+    \"parseuri\": {\n+      \"version\": \"0.0.5\",\n+      \"resolved\": \"https://registry.npmjs.org/parseuri/-/parseuri-0.0.5.tgz\",\n+      \"integrity\": \"sha1-gCBKUNTbt3m/3G6+J3jZDkvOMgo=\",\n+      \"requires\": {\n+        \"better-assert\": \"~1.0.0\"\n+      }\n+    },\n     \"parseurl\": {\n       \"version\": \"1.3.2\",\n       \"resolved\": \"https://registry.npmjs.org/parseurl/-/parseurl-1.3.2.tgz\",\n@@ -325,11 +495,95 @@\n       \"resolved\": \"https://registry.npmjs.org/setprototypeof/-/setprototypeof-1.1.0.tgz\",\n       \"integrity\": \"sha512-BvE/TwpZX4FXExxOxZyRGQQv651MSwmWKZGqvmPcRIjDqWub67kTKuIMx43cZZrS/cBBzwBcNDWoFxt2XEFIpQ==\"\n     },\n+    \"socket.io\": {\n+      \"version\": \"2.1.1\",\n+      \"resolved\": \"https://registry.npmjs.org/socket.io/-/socket.io-2.1.1.tgz\",\n+      \"integrity\": \"sha512-rORqq9c+7W0DAK3cleWNSyfv/qKXV99hV4tZe+gGLfBECw3XEhBy7x85F3wypA9688LKjtwO9pX9L33/xQI8yA==\",\n+      \"requires\": {\n+        \"debug\": \"~3.1.0\",\n+        \"engine.io\": \"~3.2.0\",\n+        \"has-binary2\": \"~1.0.2\",\n+        \"socket.io-adapter\": \"~1.1.0\",\n+        \"socket.io-client\": \"2.1.1\",\n+        \"socket.io-parser\": \"~3.2.0\"\n+      },\n+      \"dependencies\": {\n+        \"debug\": {\n+          \"version\": \"3.1.0\",\n+          \"resolved\": \"https://registry.npmjs.org/debug/-/debug-3.1.0.tgz\",\n+          \"integrity\": \"sha512-OX8XqP7/1a9cqkxYw2yXss15f26NKWBpDXQd0/uK/KPqdQhxbPa994hnzjcE2VqQpDslf55723cKPUOGSmMY3g==\",\n+          \"requires\": {\n+            \"ms\": \"2.0.0\"\n+          }\n+        }\n+      }\n+    },\n+    \"socket.io-adapter\": {\n+      \"version\": \"1.1.1\",\n+      \"resolved\": \"https://registry.npmjs.org/socket.io-adapter/-/socket.io-adapter-1.1.1.tgz\",\n+      \"integrity\": \"sha1-KoBeihTWNyEk3ZFZrUUC+MsH8Gs=\"\n+    },\n+    \"socket.io-client\": {\n+      \"version\": \"2.1.1\",\n+      \"resolved\": \"https://registry.npmjs.org/socket.io-client/-/socket.io-client-2.1.1.tgz\",\n+      \"integrity\": \"sha512-jxnFyhAuFxYfjqIgduQlhzqTcOEQSn+OHKVfAxWaNWa7ecP7xSNk2Dx/3UEsDcY7NcFafxvNvKPmmO7HTwTxGQ==\",\n+      \"requires\": {\n+        \"backo2\": \"1.0.2\",\n+        \"base64-arraybuffer\": \"0.1.5\",\n+        \"component-bind\": \"1.0.0\",\n+        \"component-emitter\": \"1.2.1\",\n+        \"debug\": \"~3.1.0\",\n+        \"engine.io-client\": \"~3.2.0\",\n+        \"has-binary2\": \"~1.0.2\",\n+        \"has-cors\": \"1.1.0\",\n+        \"indexof\": \"0.0.1\",\n+        \"object-component\": \"0.0.3\",\n+        \"parseqs\": \"0.0.5\",\n+        \"parseuri\": \"0.0.5\",\n+        \"socket.io-parser\": \"~3.2.0\",\n+        \"to-array\": \"0.1.4\"\n+      },\n+      \"dependencies\": {\n+        \"debug\": {\n+          \"version\": \"3.1.0\",\n+          \"resolved\": \"https://registry.npmjs.org/debug/-/debug-3.1.0.tgz\",\n+          \"integrity\": \"sha512-OX8XqP7/1a9cqkxYw2yXss15f26NKWBpDXQd0/uK/KPqdQhxbPa994hnzjcE2VqQpDslf55723cKPUOGSmMY3g==\",\n+          \"requires\": {\n+            \"ms\": \"2.0.0\"\n+          }\n+        }\n+      }\n+    },\n+    \"socket.io-parser\": {\n+      \"version\": \"3.2.0\",\n+      \"resolved\": \"https://registry.npmjs.org/socket.io-parser/-/socket.io-parser-3.2.0.tgz\",\n+      \"integrity\": \"sha512-FYiBx7rc/KORMJlgsXysflWx/RIvtqZbyGLlHZvjfmPTPeuD/I8MaW7cfFrj5tRltICJdgwflhfZ3NVVbVLFQA==\",\n+      \"requires\": {\n+        \"component-emitter\": \"1.2.1\",\n+        \"debug\": \"~3.1.0\",\n+        \"isarray\": \"2.0.1\"\n+      },\n+      \"dependencies\": {\n+        \"debug\": {\n+          \"version\": \"3.1.0\",\n+          \"resolved\": \"https://registry.npmjs.org/debug/-/debug-3.1.0.tgz\",\n+          \"integrity\": \"sha512-OX8XqP7/1a9cqkxYw2yXss15f26NKWBpDXQd0/uK/KPqdQhxbPa994hnzjcE2VqQpDslf55723cKPUOGSmMY3g==\",\n+          \"requires\": {\n+            \"ms\": \"2.0.0\"\n+          }\n+        }\n+      }\n+    },\n     \"statuses\": {\n       \"version\": \"1.4.0\",\n       \"resolved\": \"https://registry.npmjs.org/statuses/-/statuses-1.4.0.tgz\",\n       \"integrity\": \"sha512-zhSCtt8v2NDrRlPQpCNtw/heZLtfUDqxBM1udqikb/Hbk52LK4nQSwr10u77iopCW5LsyHpuXS0GnEc48mLeew==\"\n     },\n+    \"to-array\": {\n+      \"version\": \"0.1.4\",\n+      \"resolved\": \"https://registry.npmjs.org/to-array/-/to-array-0.1.4.tgz\",\n+      \"integrity\": \"sha1-F+bBH3PdTz10zaek/zI46a2b+JA=\"\n+    },\n     \"type-is\": {\n       \"version\": \"1.6.16\",\n       \"resolved\": \"https://registry.npmjs.org/type-is/-/type-is-1.6.16.tgz\",\n@@ -339,6 +593,11 @@\n         \"mime-types\": \"~2.1.18\"\n       }\n     },\n+    \"ultron\": {\n+      \"version\": \"1.1.1\",\n+      \"resolved\": \"https://registry.npmjs.org/ultron/-/ultron-1.1.1.tgz\",\n+      \"integrity\": \"sha512-UIEXBNeYmKptWH6z8ZnqTeS8fV74zG0/eRU9VGkpzz+LIJNs8W/zM/L+7ctCkRrgbNnnR0xxw4bKOr0cW0N0Og==\"\n+    },\n     \"unpipe\": {\n       \"version\": \"1.0.0\",\n       \"resolved\": \"https://registry.npmjs.org/unpipe/-/unpipe-1.0.0.tgz\",\n@@ -353,6 +612,26 @@\n       \"version\": \"1.1.2\",\n       \"resolved\": \"https://registry.npmjs.org/vary/-/vary-1.1.2.tgz\",\n       \"integrity\": \"sha1-IpnwLG3tMNSllhsLn3RSShj2NPw=\"\n+    },\n+    \"ws\": {\n+      \"version\": \"3.3.3\",\n+      \"resolved\": \"https://registry.npmjs.org/ws/-/ws-3.3.3.tgz\",\n+      \"integrity\": \"sha512-nnWLa/NwZSt4KQJu51MYlCcSQ5g7INpOrOMt4XV8j4dqTXdmlUmSHQ8/oLC069ckre0fRsgfvsKwbTdtKLCDkA==\",\n+      \"requires\": {\n+        \"async-limiter\": \"~1.0.0\",\n+        \"safe-buffer\": \"~5.1.0\",\n+        \"ultron\": \"~1.1.0\"\n+      }\n+    },\n+    \"xmlhttprequest-ssl\": {\n+      \"version\": \"1.5.5\",\n+      \"resolved\": \"https://registry.npmjs.org/xmlhttprequest-ssl/-/xmlhttprequest-ssl-1.5.5.tgz\",\n+      \"integrity\": \"sha1-wodrBhaKrcQOV9l+gRkayPQ5iz4=\"\n+    },\n+    \"yeast\": {\n+      \"version\": \"0.1.2\",\n+      \"resolved\": \"https://registry.npmjs.org/yeast/-/yeast-0.1.2.tgz\",\n+      \"integrity\": \"sha1-AI4G2AlDIMNy28L47XagymyKxBk=\"\n     }\n   }\n }"
            },
            {
              "filename": "package.json",
              "patch": "@@ -13,6 +13,7 @@\n   \"author\": \"\",\n   \"license\": \"ISC\",\n   \"dependencies\": {\n-    \"express\": \"^4.16.4\"\n+    \"express\": \"^4.16.4\",\n+    \"socket.io\": \"^2.1.1\"\n   }\n }"
            },
            {
              "filename": "public/index.html",
              "patch": "@@ -8,6 +8,19 @@\n \n <body>\n     <p>welcome to chat app</p>\n+\n+    <script src=\"/socket.io/socket.io.js\"></script>\n+    <script>\n+        var socket = io();\n+\n+        socket.on('connect', () => {\n+            console.log('connected to server');\n+        });\n+\n+        socket.on('disconnect', () => {\n+            console.log('disconnected from server');\n+        });\n+    </script>\n </body>\n \n </html>\n\\ No newline at end of file"
            },
            {
              "filename": "server/server.js",
              "patch": "@@ -1,15 +1,28 @@\n require('./config/config');\n const path = require('path');\n const express = require('express');\n+const socketIO = require('socket.io');\n+const http = require('http');\n \n const publicPath = path.join(__dirname, '../public');\n const port = process.env.PORT;\n \n var app = express();\n+var server = http.createServer(app);\n+var io = socketIO(server);\n \n app.use(express.static(publicPath));\n \n-app.listen(port, () => {\n+io.on('connection', (socket) => {\n+    console.log('new user connected');\n+\n+    socket.on('disconnect', () => {\n+        console.log('user was disconnected');\n+    });\n+});\n+\n+\n+server.listen(port, () => {\n     console.log(`Started on port ${port}`);\n });\n "
            }
          ]
        },
        {
          "sha": "ed3879abb39f74cbde52b73659781b55620f7784",
          "message": "Initial commit",
          "author": "Leon",
          "files": [
            {
              "filename": ".gitignore",
              "patch": "@@ -0,0 +1 @@\n+node_modules/\n\\ No newline at end of file"
            },
            {
              "filename": "package-lock.json",
              "patch": "@@ -0,0 +1,358 @@\n+{\n+  \"name\": \"chat-app\",\n+  \"version\": \"1.0.0\",\n+  \"lockfileVersion\": 1,\n+  \"requires\": true,\n+  \"dependencies\": {\n+    \"accepts\": {\n+      \"version\": \"1.3.5\",\n+      \"resolved\": \"https://registry.npmjs.org/accepts/-/accepts-1.3.5.tgz\",\n+      \"integrity\": \"sha1-63d99gEXI6OxTopywIBcjoZ0a9I=\",\n+      \"requires\": {\n+        \"mime-types\": \"~2.1.18\",\n+        \"negotiator\": \"0.6.1\"\n+      }\n+    },\n+    \"array-flatten\": {\n+      \"version\": \"1.1.1\",\n+      \"resolved\": \"https://registry.npmjs.org/array-flatten/-/array-flatten-1.1.1.tgz\",\n+      \"integrity\": \"sha1-ml9pkFGx5wczKPKgCJaLZOopVdI=\"\n+    },\n+    \"body-parser\": {\n+      \"version\": \"1.18.3\",\n+      \"resolved\": \"https://registry.npmjs.org/body-parser/-/body-parser-1.18.3.tgz\",\n+      \"integrity\": \"sha1-WykhmP/dVTs6DyDe0FkrlWlVyLQ=\",\n+      \"requires\": {\n+        \"bytes\": \"3.0.0\",\n+        \"content-type\": \"~1.0.4\",\n+        \"debug\": \"2.6.9\",\n+        \"depd\": \"~1.1.2\",\n+        \"http-errors\": \"~1.6.3\",\n+        \"iconv-lite\": \"0.4.23\",\n+        \"on-finished\": \"~2.3.0\",\n+        \"qs\": \"6.5.2\",\n+        \"raw-body\": \"2.3.3\",\n+        \"type-is\": \"~1.6.16\"\n+      }\n+    },\n+    \"bytes\": {\n+      \"version\": \"3.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/bytes/-/bytes-3.0.0.tgz\",\n+      \"integrity\": \"sha1-0ygVQE1olpn4Wk6k+odV3ROpYEg=\"\n+    },\n+    \"content-disposition\": {\n+      \"version\": \"0.5.2\",\n+      \"resolved\": \"https://registry.npmjs.org/content-disposition/-/content-disposition-0.5.2.tgz\",\n+      \"integrity\": \"sha1-DPaLud318r55YcOoUXjLhdunjLQ=\"\n+    },\n+    \"content-type\": {\n+      \"version\": \"1.0.4\",\n+      \"resolved\": \"https://registry.npmjs.org/content-type/-/content-type-1.0.4.tgz\",\n+      \"integrity\": \"sha512-hIP3EEPs8tB9AT1L+NUqtwOAps4mk2Zob89MWXMHjHWg9milF/j4osnnQLXBCBFBk/tvIG/tUc9mOUJiPBhPXA==\"\n+    },\n+    \"cookie\": {\n+      \"version\": \"0.3.1\",\n+      \"resolved\": \"https://registry.npmjs.org/cookie/-/cookie-0.3.1.tgz\",\n+      \"integrity\": \"sha1-5+Ch+e9DtMi6klxcWpboBtFoc7s=\"\n+    },\n+    \"cookie-signature\": {\n+      \"version\": \"1.0.6\",\n+      \"resolved\": \"https://registry.npmjs.org/cookie-signature/-/cookie-signature-1.0.6.tgz\",\n+      \"integrity\": \"sha1-4wOogrNCzD7oylE6eZmXNNqzriw=\"\n+    },\n+    \"debug\": {\n+      \"version\": \"2.6.9\",\n+      \"resolved\": \"https://registry.npmjs.org/debug/-/debug-2.6.9.tgz\",\n+      \"integrity\": \"sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==\",\n+      \"requires\": {\n+        \"ms\": \"2.0.0\"\n+      }\n+    },\n+    \"depd\": {\n+      \"version\": \"1.1.2\",\n+      \"resolved\": \"https://registry.npmjs.org/depd/-/depd-1.1.2.tgz\",\n+      \"integrity\": \"sha1-m81S4UwJd2PnSbJ0xDRu0uVgtak=\"\n+    },\n+    \"destroy\": {\n+      \"version\": \"1.0.4\",\n+      \"resolved\": \"https://registry.npmjs.org/destroy/-/destroy-1.0.4.tgz\",\n+      \"integrity\": \"sha1-l4hXRCxEdJ5CBmE+N5RiBYJqvYA=\"\n+    },\n+    \"ee-first\": {\n+      \"version\": \"1.1.1\",\n+      \"resolved\": \"https://registry.npmjs.org/ee-first/-/ee-first-1.1.1.tgz\",\n+      \"integrity\": \"sha1-WQxhFWsK4vTwJVcyoViyZrxWsh0=\"\n+    },\n+    \"encodeurl\": {\n+      \"version\": \"1.0.2\",\n+      \"resolved\": \"https://registry.npmjs.org/encodeurl/-/encodeurl-1.0.2.tgz\",\n+      \"integrity\": \"sha1-rT/0yG7C0CkyL1oCw6mmBslbP1k=\"\n+    },\n+    \"escape-html\": {\n+      \"version\": \"1.0.3\",\n+      \"resolved\": \"https://registry.npmjs.org/escape-html/-/escape-html-1.0.3.tgz\",\n+      \"integrity\": \"sha1-Aljq5NPQwJdN4cFpGI7wBR0dGYg=\"\n+    },\n+    \"etag\": {\n+      \"version\": \"1.8.1\",\n+      \"resolved\": \"https://registry.npmjs.org/etag/-/etag-1.8.1.tgz\",\n+      \"integrity\": \"sha1-Qa4u62XvpiJorr/qg6x9eSmbCIc=\"\n+    },\n+    \"express\": {\n+      \"version\": \"4.16.4\",\n+      \"resolved\": \"https://registry.npmjs.org/express/-/express-4.16.4.tgz\",\n+      \"integrity\": \"sha512-j12Uuyb4FMrd/qQAm6uCHAkPtO8FDTRJZBDd5D2KOL2eLaz1yUNdUB/NOIyq0iU4q4cFarsUCrnFDPBcnksuOg==\",\n+      \"requires\": {\n+        \"accepts\": \"~1.3.5\",\n+        \"array-flatten\": \"1.1.1\",\n+        \"body-parser\": \"1.18.3\",\n+        \"content-disposition\": \"0.5.2\",\n+        \"content-type\": \"~1.0.4\",\n+        \"cookie\": \"0.3.1\",\n+        \"cookie-signature\": \"1.0.6\",\n+        \"debug\": \"2.6.9\",\n+        \"depd\": \"~1.1.2\",\n+        \"encodeurl\": \"~1.0.2\",\n+        \"escape-html\": \"~1.0.3\",\n+        \"etag\": \"~1.8.1\",\n+        \"finalhandler\": \"1.1.1\",\n+        \"fresh\": \"0.5.2\",\n+        \"merge-descriptors\": \"1.0.1\",\n+        \"methods\": \"~1.1.2\",\n+        \"on-finished\": \"~2.3.0\",\n+        \"parseurl\": \"~1.3.2\",\n+        \"path-to-regexp\": \"0.1.7\",\n+        \"proxy-addr\": \"~2.0.4\",\n+        \"qs\": \"6.5.2\",\n+        \"range-parser\": \"~1.2.0\",\n+        \"safe-buffer\": \"5.1.2\",\n+        \"send\": \"0.16.2\",\n+        \"serve-static\": \"1.13.2\",\n+        \"setprototypeof\": \"1.1.0\",\n+        \"statuses\": \"~1.4.0\",\n+        \"type-is\": \"~1.6.16\",\n+        \"utils-merge\": \"1.0.1\",\n+        \"vary\": \"~1.1.2\"\n+      }\n+    },\n+    \"finalhandler\": {\n+      \"version\": \"1.1.1\",\n+      \"resolved\": \"http://registry.npmjs.org/finalhandler/-/finalhandler-1.1.1.tgz\",\n+      \"integrity\": \"sha512-Y1GUDo39ez4aHAw7MysnUD5JzYX+WaIj8I57kO3aEPT1fFRL4sr7mjei97FgnwhAyyzRYmQZaTHb2+9uZ1dPtg==\",\n+      \"requires\": {\n+        \"debug\": \"2.6.9\",\n+        \"encodeurl\": \"~1.0.2\",\n+        \"escape-html\": \"~1.0.3\",\n+        \"on-finished\": \"~2.3.0\",\n+        \"parseurl\": \"~1.3.2\",\n+        \"statuses\": \"~1.4.0\",\n+        \"unpipe\": \"~1.0.0\"\n+      }\n+    },\n+    \"forwarded\": {\n+      \"version\": \"0.1.2\",\n+      \"resolved\": \"https://registry.npmjs.org/forwarded/-/forwarded-0.1.2.tgz\",\n+      \"integrity\": \"sha1-mMI9qxF1ZXuMBXPozszZGw/xjIQ=\"\n+    },\n+    \"fresh\": {\n+      \"version\": \"0.5.2\",\n+      \"resolved\": \"https://registry.npmjs.org/fresh/-/fresh-0.5.2.tgz\",\n+      \"integrity\": \"sha1-PYyt2Q2XZWn6g1qx+OSyOhBWBac=\"\n+    },\n+    \"http-errors\": {\n+      \"version\": \"1.6.3\",\n+      \"resolved\": \"http://registry.npmjs.org/http-errors/-/http-errors-1.6.3.tgz\",\n+      \"integrity\": \"sha1-i1VoC7S+KDoLW/TqLjhYC+HZMg0=\",\n+      \"requires\": {\n+        \"depd\": \"~1.1.2\",\n+        \"inherits\": \"2.0.3\",\n+        \"setprototypeof\": \"1.1.0\",\n+        \"statuses\": \">= 1.4.0 < 2\"\n+      }\n+    },\n+    \"iconv-lite\": {\n+      \"version\": \"0.4.23\",\n+      \"resolved\": \"https://registry.npmjs.org/iconv-lite/-/iconv-lite-0.4.23.tgz\",\n+      \"integrity\": \"sha512-neyTUVFtahjf0mB3dZT77u+8O0QB89jFdnBkd5P1JgYPbPaia3gXXOVL2fq8VyU2gMMD7SaN7QukTB/pmXYvDA==\",\n+      \"requires\": {\n+        \"safer-buffer\": \">= 2.1.2 < 3\"\n+      }\n+    },\n+    \"inherits\": {\n+      \"version\": \"2.0.3\",\n+      \"resolved\": \"https://registry.npmjs.org/inherits/-/inherits-2.0.3.tgz\",\n+      \"integrity\": \"sha1-Yzwsg+PaQqUC9SRmAiSA9CCCYd4=\"\n+    },\n+    \"ipaddr.js\": {\n+      \"version\": \"1.8.0\",\n+      \"resolved\": \"https://registry.npmjs.org/ipaddr.js/-/ipaddr.js-1.8.0.tgz\",\n+      \"integrity\": \"sha1-6qM9bd16zo9/b+DJygRA5wZzix4=\"\n+    },\n+    \"media-typer\": {\n+      \"version\": \"0.3.0\",\n+      \"resolved\": \"https://registry.npmjs.org/media-typer/-/media-typer-0.3.0.tgz\",\n+      \"integrity\": \"sha1-hxDXrwqmJvj/+hzgAWhUUmMlV0g=\"\n+    },\n+    \"merge-descriptors\": {\n+      \"version\": \"1.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/merge-descriptors/-/merge-descriptors-1.0.1.tgz\",\n+      \"integrity\": \"sha1-sAqqVW3YtEVoFQ7J0blT8/kMu2E=\"\n+    },\n+    \"methods\": {\n+      \"version\": \"1.1.2\",\n+      \"resolved\": \"https://registry.npmjs.org/methods/-/methods-1.1.2.tgz\",\n+      \"integrity\": \"sha1-VSmk1nZUE07cxSZmVoNbD4Ua/O4=\"\n+    },\n+    \"mime\": {\n+      \"version\": \"1.4.1\",\n+      \"resolved\": \"https://registry.npmjs.org/mime/-/mime-1.4.1.tgz\",\n+      \"integrity\": \"sha512-KI1+qOZu5DcW6wayYHSzR/tXKCDC5Om4s1z2QJjDULzLcmf3DvzS7oluY4HCTrc+9FiKmWUgeNLg7W3uIQvxtQ==\"\n+    },\n+    \"mime-db\": {\n+      \"version\": \"1.37.0\",\n+      \"resolved\": \"https://registry.npmjs.org/mime-db/-/mime-db-1.37.0.tgz\",\n+      \"integrity\": \"sha512-R3C4db6bgQhlIhPU48fUtdVmKnflq+hRdad7IyKhtFj06VPNVdk2RhiYL3UjQIlso8L+YxAtFkobT0VK+S/ybg==\"\n+    },\n+    \"mime-types\": {\n+      \"version\": \"2.1.21\",\n+      \"resolved\": \"https://registry.npmjs.org/mime-types/-/mime-types-2.1.21.tgz\",\n+      \"integrity\": \"sha512-3iL6DbwpyLzjR3xHSFNFeb9Nz/M8WDkX33t1GFQnFOllWk8pOrh/LSrB5OXlnlW5P9LH73X6loW/eogc+F5lJg==\",\n+      \"requires\": {\n+        \"mime-db\": \"~1.37.0\"\n+      }\n+    },\n+    \"ms\": {\n+      \"version\": \"2.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/ms/-/ms-2.0.0.tgz\",\n+      \"integrity\": \"sha1-VgiurfwAvmwpAd9fmGF4jeDVl8g=\"\n+    },\n+    \"negotiator\": {\n+      \"version\": \"0.6.1\",\n+      \"resolved\": \"https://registry.npmjs.org/negotiator/-/negotiator-0.6.1.tgz\",\n+      \"integrity\": \"sha1-KzJxhOiZIQEXeyhWP7XnECrNDKk=\"\n+    },\n+    \"on-finished\": {\n+      \"version\": \"2.3.0\",\n+      \"resolved\": \"https://registry.npmjs.org/on-finished/-/on-finished-2.3.0.tgz\",\n+      \"integrity\": \"sha1-IPEzZIGwg811M3mSoWlxqi2QaUc=\",\n+      \"requires\": {\n+        \"ee-first\": \"1.1.1\"\n+      }\n+    },\n+    \"parseurl\": {\n+      \"version\": \"1.3.2\",\n+      \"resolved\": \"https://registry.npmjs.org/parseurl/-/parseurl-1.3.2.tgz\",\n+      \"integrity\": \"sha1-/CidTtiZMRlGDBViUyYs3I3mW/M=\"\n+    },\n+    \"path-to-regexp\": {\n+      \"version\": \"0.1.7\",\n+      \"resolved\": \"https://registry.npmjs.org/path-to-regexp/-/path-to-regexp-0.1.7.tgz\",\n+      \"integrity\": \"sha1-32BBeABfUi8V60SQ5yR6G/qmf4w=\"\n+    },\n+    \"proxy-addr\": {\n+      \"version\": \"2.0.4\",\n+      \"resolved\": \"https://registry.npmjs.org/proxy-addr/-/proxy-addr-2.0.4.tgz\",\n+      \"integrity\": \"sha512-5erio2h9jp5CHGwcybmxmVqHmnCBZeewlfJ0pex+UW7Qny7OOZXTtH56TGNyBizkgiOwhJtMKrVzDTeKcySZwA==\",\n+      \"requires\": {\n+        \"forwarded\": \"~0.1.2\",\n+        \"ipaddr.js\": \"1.8.0\"\n+      }\n+    },\n+    \"qs\": {\n+      \"version\": \"6.5.2\",\n+      \"resolved\": \"https://registry.npmjs.org/qs/-/qs-6.5.2.tgz\",\n+      \"integrity\": \"sha512-N5ZAX4/LxJmF+7wN74pUD6qAh9/wnvdQcjq9TZjevvXzSUo7bfmw91saqMjzGS2xq91/odN2dW/WOl7qQHNDGA==\"\n+    },\n+    \"range-parser\": {\n+      \"version\": \"1.2.0\",\n+      \"resolved\": \"https://registry.npmjs.org/range-parser/-/range-parser-1.2.0.tgz\",\n+      \"integrity\": \"sha1-9JvmtIeJTdxA3MlKMi9hEJLgDV4=\"\n+    },\n+    \"raw-body\": {\n+      \"version\": \"2.3.3\",\n+      \"resolved\": \"https://registry.npmjs.org/raw-body/-/raw-body-2.3.3.tgz\",\n+      \"integrity\": \"sha512-9esiElv1BrZoI3rCDuOuKCBRbuApGGaDPQfjSflGxdy4oyzqghxu6klEkkVIvBje+FF0BX9coEv8KqW6X/7njw==\",\n+      \"requires\": {\n+        \"bytes\": \"3.0.0\",\n+        \"http-errors\": \"1.6.3\",\n+        \"iconv-lite\": \"0.4.23\",\n+        \"unpipe\": \"1.0.0\"\n+      }\n+    },\n+    \"safe-buffer\": {\n+      \"version\": \"5.1.2\",\n+      \"resolved\": \"https://registry.npmjs.org/safe-buffer/-/safe-buffer-5.1.2.tgz\",\n+      \"integrity\": \"sha512-Gd2UZBJDkXlY7GbJxfsE8/nvKkUEU1G38c1siN6QP6a9PT9MmHB8GnpscSmMJSoF8LOIrt8ud/wPtojys4G6+g==\"\n+    },\n+    \"safer-buffer\": {\n+      \"version\": \"2.1.2\",\n+      \"resolved\": \"https://registry.npmjs.org/safer-buffer/-/safer-buffer-2.1.2.tgz\",\n+      \"integrity\": \"sha512-YZo3K82SD7Riyi0E1EQPojLz7kpepnSQI9IyPbHHg1XXXevb5dJI7tpyN2ADxGcQbHG7vcyRHk0cbwqcQriUtg==\"\n+    },\n+    \"send\": {\n+      \"version\": \"0.16.2\",\n+      \"resolved\": \"https://registry.npmjs.org/send/-/send-0.16.2.tgz\",\n+      \"integrity\": \"sha512-E64YFPUssFHEFBvpbbjr44NCLtI1AohxQ8ZSiJjQLskAdKuriYEP6VyGEsRDH8ScozGpkaX1BGvhanqCwkcEZw==\",\n+      \"requires\": {\n+        \"debug\": \"2.6.9\",\n+        \"depd\": \"~1.1.2\",\n+        \"destroy\": \"~1.0.4\",\n+        \"encodeurl\": \"~1.0.2\",\n+        \"escape-html\": \"~1.0.3\",\n+        \"etag\": \"~1.8.1\",\n+        \"fresh\": \"0.5.2\",\n+        \"http-errors\": \"~1.6.2\",\n+        \"mime\": \"1.4.1\",\n+        \"ms\": \"2.0.0\",\n+        \"on-finished\": \"~2.3.0\",\n+        \"range-parser\": \"~1.2.0\",\n+        \"statuses\": \"~1.4.0\"\n+      }\n+    },\n+    \"serve-static\": {\n+      \"version\": \"1.13.2\",\n+      \"resolved\": \"https://registry.npmjs.org/serve-static/-/serve-static-1.13.2.tgz\",\n+      \"integrity\": \"sha512-p/tdJrO4U387R9oMjb1oj7qSMaMfmOyd4j9hOFoxZe2baQszgHcSWjuya/CiT5kgZZKRudHNOA0pYXOl8rQ5nw==\",\n+      \"requires\": {\n+        \"encodeurl\": \"~1.0.2\",\n+        \"escape-html\": \"~1.0.3\",\n+        \"parseurl\": \"~1.3.2\",\n+        \"send\": \"0.16.2\"\n+      }\n+    },\n+    \"setprototypeof\": {\n+      \"version\": \"1.1.0\",\n+      \"resolved\": \"https://registry.npmjs.org/setprototypeof/-/setprototypeof-1.1.0.tgz\",\n+      \"integrity\": \"sha512-BvE/TwpZX4FXExxOxZyRGQQv651MSwmWKZGqvmPcRIjDqWub67kTKuIMx43cZZrS/cBBzwBcNDWoFxt2XEFIpQ==\"\n+    },\n+    \"statuses\": {\n+      \"version\": \"1.4.0\",\n+      \"resolved\": \"https://registry.npmjs.org/statuses/-/statuses-1.4.0.tgz\",\n+      \"integrity\": \"sha512-zhSCtt8v2NDrRlPQpCNtw/heZLtfUDqxBM1udqikb/Hbk52LK4nQSwr10u77iopCW5LsyHpuXS0GnEc48mLeew==\"\n+    },\n+    \"type-is\": {\n+      \"version\": \"1.6.16\",\n+      \"resolved\": \"https://registry.npmjs.org/type-is/-/type-is-1.6.16.tgz\",\n+      \"integrity\": \"sha512-HRkVv/5qY2G6I8iab9cI7v1bOIdhm94dVjQCPFElW9W+3GeDOSHmy2EBYe4VTApuzolPcmgFTN3ftVJRKR2J9Q==\",\n+      \"requires\": {\n+        \"media-typer\": \"0.3.0\",\n+        \"mime-types\": \"~2.1.18\"\n+      }\n+    },\n+    \"unpipe\": {\n+      \"version\": \"1.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/unpipe/-/unpipe-1.0.0.tgz\",\n+      \"integrity\": \"sha1-sr9O6FFKrmFltIF4KdIbLvSZBOw=\"\n+    },\n+    \"utils-merge\": {\n+      \"version\": \"1.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/utils-merge/-/utils-merge-1.0.1.tgz\",\n+      \"integrity\": \"sha1-n5VxD1CiZ5R7LMwSR0HBAoQn5xM=\"\n+    },\n+    \"vary\": {\n+      \"version\": \"1.1.2\",\n+      \"resolved\": \"https://registry.npmjs.org/vary/-/vary-1.1.2.tgz\",\n+      \"integrity\": \"sha1-IpnwLG3tMNSllhsLn3RSShj2NPw=\"\n+    }\n+  }\n+}"
            },
            {
              "filename": "package.json",
              "patch": "@@ -0,0 +1,18 @@\n+{\n+  \"name\": \"chat-app\",\n+  \"version\": \"1.0.0\",\n+  \"description\": \"\",\n+  \"main\": \"index.js\",\n+  \"scripts\": {\n+    \"start\": \"node server/server.js\",\n+    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n+  },\n+  \"engines\": {\n+    \"node\": \"8.12.0\"\n+  },\n+  \"author\": \"\",\n+  \"license\": \"ISC\",\n+  \"dependencies\": {\n+    \"express\": \"^4.16.4\"\n+  }\n+}"
            },
            {
              "filename": "public/index.html",
              "patch": "@@ -0,0 +1,13 @@\n+<!DOCTYPE html>\n+<html>\n+\n+<head>\n+    <meta charset=\"utf-8\">\n+\n+</head>\n+\n+<body>\n+    <p>welcome to chat app</p>\n+</body>\n+\n+</html>\n\\ No newline at end of file"
            },
            {
              "filename": "server/config/config.js",
              "patch": "@@ -0,0 +1,10 @@\n+var env = process.env.NODE_ENV || 'development';\n+\n+if (env === 'development' || env === 'test') {\n+    var config = require('./config.json');\n+    var envConfig = config[env];\n+\n+    Object.keys(envConfig).forEach((key) => {\n+        process.env[key] = envConfig[key];\n+    });\n+}\n\\ No newline at end of file"
            },
            {
              "filename": "server/config/config.json",
              "patch": "@@ -0,0 +1,12 @@\n+{\n+    \"test\": {\n+        \"PORT\": 3000,\n+        \"MONGODB_URI\": \"mongodb://localhost:27017/ChatAppTest\",\n+        \"JWT_SECRET\": \"POFJASK543\"\n+    },\n+    \"development\": {\n+        \"PORT\": 3000,\n+        \"MONGODB_URI\": \"mongodb://localhost:27017/ChatApp\",\n+        \"JWT_SECRET\": \"PO4325235SDGHZZ5RE43\"\n+    }\n+}\n\\ No newline at end of file"
            },
            {
              "filename": "server/server.js",
              "patch": "@@ -0,0 +1,16 @@\n+require('./config/config');\n+const path = require('path');\n+const express = require('express');\n+\n+const publicPath = path.join(__dirname, '../public');\n+const port = process.env.PORT;\n+\n+var app = express();\n+\n+app.use(express.static(publicPath));\n+\n+app.listen(port, () => {\n+    console.log(`Started on port ${port}`);\n+});\n+\n+module.exports = {app};\n\\ No newline at end of file"
            }
          ]
        }
      ]
    },
    {
      "name": "cube",
      "description": null,
      "language": "JavaScript",
      "commits": [
        {
          "sha": "fad9b153a4c3cb14617e344da74b903c29b5837e",
          "message": "small update",
          "author": "Leon Ostrez",
          "files": [
            {
              "filename": "css/cube.css",
              "patch": "@@ -46,11 +46,19 @@ canvas {\n \n    .my-logo-box {\n     position: relative;\n-    width: 6vh;\n-    height: 6vh;\n+    transition:max-height 3s ease-out, max-width 3s ease-out;\n+    width: 30vh;\n+    height: 30vh;\n     left:47%;\n     top:5px;\n+    max-height:100vh; \n+    max-width:100vh; \n+  }\n+  .my-logo-box.collapsed {\n+    max-height: 6vh;\n+    max-width: 6vh;\n   }\n+  \n \n    .Llogo{\n       position: absolute;\n@@ -207,7 +215,8 @@ canvas {\n     z-index: 40;\n     width: 100%;\n     height: 100vh;\n-    background-color: rgb(151, 151, 151);\n+    background: rgb(74,68,176);\n+    background: linear-gradient(48deg, rgba(74,68,176,1) 0%, rgba(236,121,50,1) 100%);\n     -webkit-transform-origin: 50% 0%;\n     -ms-transform-origin: 50% 0%;\n     transform-origin: 50% 0%;\n@@ -223,7 +232,7 @@ canvas {\n   \n   .box2 { \n     width: 100%;\n-    height: 50%;\n+    height: 70%;\n   }\n \n   .skills {\n@@ -261,7 +270,7 @@ canvas {\n     position: fixed;\n     bottom: 0;\n     width: 100%;\n-    height: 40px;\n+    height: 10vh;\n   }\n   img {\n     height: 100%;\n@@ -281,6 +290,14 @@ canvas {\n     color: #555;\n     margin-bottom: 0;\n   }\n+  .myh4 {\n+      color: black;\n+      font-family: \"Cooper Black\", serif;\n+      font-size: 24px;\n+      /* -webkit-text-fill-color: black; \n+      -webkit-text-stroke-width: 0px;\n+      -webkit-text-stroke-color: white; */\n+  }\n   .height100 {\n     height: 80%;\n     justify-content:center; \n@@ -340,7 +357,8 @@ canvas {\n     justify-content: center;\n   }\n \n-  * { box-sizing: border-box; }\n+  * { box-sizing: border-box; \n+    word-break: break-word;}\n \n body { font-family: sans-serif; }\n \n@@ -349,112 +367,22 @@ body { font-family: sans-serif; }\n   height: 40vh;\n }\n .footer-text {\n-  font-size: 10px;\n-}\n-\n-@import \"compass/css3\";\n-\n-.separator {\n-  margin-top: 40px;\n-}\n-/* 3D Cube */\n-.space3d {\n-  perspective: 1000px;\n-  width: 250px;\n-  height: 250px;\n-  text-align: center;\n-  display: inline-block;\n-}\n-._3dbox {\n-  display: inline-block;\n-  transition: all 0.85s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n-  text-align: center;\n-  position: relative;\n-  width: 100%;\n-  height: 100%;\n-  transform-style: preserve-3d;\n-  transform: rotateX(-15deg) rotateY(15deg);\n-}\n-._3dface {\n-  overflow: hidden;\n-  position: absolute;\n-  border: 1px solid #888;\n-  background: #fff;\n-  box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.1), 0 0 50px rgba(0, 0, 0, 0.3);\n-  color: #333;\n-  line-height: 250px;\n-  opacity: 0.8;\n-}\n-._3dface--front {\n-  width: 250px;\n-  height: 250px;\n-  transform: translate3d(0, 0, 125px);\n-}\n-._3dface--top {\n-  width: 250px;\n-  height: 250px;\n-  transform: rotateX(90deg) translate3d(0, 0, 125px);\n+  font-size: 15px;\n }\n-._3dface--bottom {\n-  width: 250px;\n-  height: 250px;\n-  transform: rotateX(-90deg) translate3d(0, 0, 125px);\n+.contact-box {\n+  width:70vw;\n+  overflow: auto;\n }\n-._3dface--left {\n-  width: 250px;\n-  height: 250px;\n-  left: 50%;\n-  margin-left: -125px;\n-  transform: rotateY(-90deg) translate3d(0, 0, 125px);\n+.contact {\n+  font-size: 25px;\n+  color:black;\n }\n-._3dface--right {\n-  width: 250px;\n-  height: 250px;\n-  left: 50%;\n-  margin-left: -125px;\n-  transform: rotateY(90deg) translate3d(0, 0, 125px);\n+.contact2 {\n+  font-size: 15px;\n+  color:black;\n }\n-._3dface--back {\n-  width: 250px;\n-  height: 250px;\n-  transform: rotateY(180deg) translate3d(0, 0, 125px);\n-}\n-#radio-left:checked ~ .space3d ._3dbox {\n-  transform: rotateY(90deg);\n-}\n-#radio-right:checked ~ .space3d ._3dbox {\n-  transform: rotateY(-90deg);\n-}\n-#radio-bottom:checked ~ .space3d ._3dbox {\n-  transform: rotateX(90deg);\n-}\n-#radio-top:checked ~ .space3d ._3dbox {\n-  transform: rotateX(-90deg);\n-}\n-#radio-back:checked ~ .space3d ._3dbox {\n-  transform: rotateY(180deg);\n-}\n-._3dface--front {\n-  background: url(https://2.bp.blogspot.com/-JxKfUObT4L8/UYYaRhRNJmI/AAAAAAAAAUY/243IlIOKj2c/s320/brahama.jpg);\n-  background-size: 100%;\n-}\n-._3dface--left {\n-  background: url(https://4.bp.blogspot.com/-HGFGdCGFTkw/UXVq6PNmS4I/AAAAAAAAAUE/hBNmVCOVlu4/s400/durga+wm.jpg);\n-  background-size: auto 100%;\n-}\n-._3dface--right {\n-  background: url(https://2.bp.blogspot.com/-yrnBD8wJ-g0/UNRtPF8pR7I/AAAAAAAAATE/YSpLvqTNyoQ/s320/A+P+J+abdul+kalam_+swm+.jpg);\n-  background-size: auto 100%;\n-}\n-._3dface--top {\n-  background: url(https://3.bp.blogspot.com/-mySu8dy4ux4/ULiVKS4YBbI/AAAAAAAAAR0/vBMi_4dAPDE/s400/rajiv+dixit+s.jpg);\n-  background-size: auto 100%;\n-}\n-._3dface--bottom {\n-  background: url(https://2.bp.blogspot.com/-B9QWFtc9bVY/UHFs7y9GqkI/AAAAAAAAARI/YLDkoHYr3g4/s400/Gau+wm.jpg);\n-  background-size: auto 100%;\n-}\n-._3dface--back {\n-  background: url(https://3.bp.blogspot.com/-ofufG97PpiU/UBzXu-1AisI/AAAAAAAAAP0/iDnhOh-vrb8/s400/shiv+ji.jpg);\n-  background-size: auto 100%;\n+.contact3 {\n+  font-size: 45px;\n+  color:black;\n }\n+"
            },
            {
              "filename": "images/carousel/leftarrow.png",
              "patch": "No diff"
            },
            {
              "filename": "images/carousel/rightarrow.png",
              "patch": "No diff"
            },
            {
              "filename": "images/firstpage/home.jpg",
              "patch": "No diff"
            },
            {
              "filename": "images/firstpage/home2.jpg",
              "patch": "No diff"
            },
            {
              "filename": "images/firstpage/home3.jpg",
              "patch": "No diff"
            },
            {
              "filename": "images/firstpage/home4.jpg",
              "patch": "No diff"
            },
            {
              "filename": "images/firstpage/newstain1.png",
              "patch": "No diff"
            },
            {
              "filename": "images/firstpage/newstain2.png",
              "patch": "No diff"
            },
            {
              "filename": "images/firstpage/newstain3.png",
              "patch": "No diff"
            },
            {
              "filename": "images/logos/hackerrank.png",
              "patch": "No diff"
            },
            {
              "filename": "images/logos/hackerrank5.png",
              "patch": "No diff"
            },
            {
              "filename": "index.html",
              "patch": "@@ -20,15 +20,19 @@\n <body>\n         <div class=\"fixed-logo\">\n             <div class=\"scalebox collapsible\"></div>\n-              <div class=\"my-logo-box\">\n-                  <img src=\"./images/logos/O.png\" class=\"first-logo Ologo\">\n-                  <img src=\"./images/logos/L.png\" class=\"second-logo Llogo\">\n-              </div>\n+            <div class=\"my-logo-box collapsible\">\n+                <img src=\"./images/logos/O.png\" class=\"first-logo Ologo\">\n+                <img src=\"./images/logos/L.png\" class=\"second-logo Llogo\">\n+            </div>\n         </div>\n     <div class=\"wrapper\">\n         <div data-w-id=\"one\" class=\"first\">\n             <!-- <div class=\"top-marg\"></div> -->\n             <canvas id='stage' style=\"background-repeat:no-repeat;background-position:center center; background-size: cover;\"></canvas>\n+            <div class=\"footer text-center\">\n+                <span id=\"type1\" class=\"myh4\"></span><br>\n+                <span id=\"type2\" class=\"myh4\"></span>\n+            </div>\n         </div>\n \n \n@@ -38,32 +42,7 @@\n                         <h2>About me</h2>\n                     </div>\n                 <div class=\"row\">\n-                    <div class=\"col-1\"></div>\n-                    <div class=\"col-2\">\n-                        <input type=\"radio\" checked id=\"radio-front\" name=\"select-face\"/>    \n-                        <input type=\"radio\" id=\"radio-left\" name=\"select-face\"/>\n-                        <input type=\"radio\" id=\"radio-right\" name=\"select-face\"/>\n-                        <input type=\"radio\" id=\"radio-top\" name=\"select-face\"/>\n-                        <input type=\"radio\" id=\"radio-bottom\" name=\"select-face\"/>\n-                        <input type=\"radio\" id=\"radio-back\" name=\"select-face\"/>\n-                    </div>\n-                    <div class=\"row col-6 justify-content-center\">\n-                        <div class=\"col-8\">\n-                            <div class=\"space3d\">\n-                                <div class=\"_3dbox\">\n-                                    <div class=\"_3dface _3dface--front\"></div>\n-                                    <div class=\"_3dface _3dface--top\"></div>\n-                                    <div class=\"_3dface _3dface--bottom\"></div>\n-                                    <div class=\"_3dface _3dface--left\"></div>\n-                                    <div class=\"_3dface _3dface--right\"></div>\n-                                    <div class=\"_3dface _3dface--back\"></div>\n-                                </div>\n-                            </div>\n-                        </div>\n-                    </div>\n-                    <div class=\"col-3\">\n-                            text\n-                    </div>\n+\n                 </div>\n            \n                       \n@@ -146,14 +125,26 @@ <h5 class=\"m-2\">Vue.js</h5>\n             </div>\n \n         <div data-w-id=\"five1\" class=\"fifth\">\n-            <div class=\"box2\"></div>\n+            <div class=\"box2 row align-items-center\">\n+                <div style=\"width:15vw;\"></div>\n+                <div class=\"contact-box text-center\">\n+                    <span class=\"contact text-wrap\">Thank you for visiting my website!</span>\n+                    <br><br>\n+                    <span class=\"contact2 text-wrap\">If you have any further questions about my or my work, please don't hesitate to\n+                        contact me and we can arrange Skype call. Looking forward to hearing from you! \n+                    </span>\n+                    <br><br>\n+                    <span class=\"contact3 text-wrap\">LEON.OSTREZ@GMAIL.COM</span>\n+\n+                </div>\n+            </div>\n             <div class=\"row justify-content-center\">\n                 <div class=\"col-8 row justify-content-center\">\n                     <div class=\"col-3 center-logos\">\n                         <div class=\"box\">\n-                            <img src=\"./images/logos/linkedin-rotated.png\" class=\"logos logo1\">\n-                            <img src=\"./images/logos/linkedin-rotated.png\" class=\"logos logo2\">\n-                            <img src=\"./images/logos/linkedin-rotated.png\" class=\"logos logo3\">\n+                            <img src=\"./images/logos/hackerrank5.png\" class=\"logos logo1\">\n+                            <img src=\"./images/logos/hackerrank5.png\" class=\"logos logo2\">\n+                            <img src=\"./images/logos/hackerrank5.png\" class=\"logos logo3\">\n                         </div>\n                     </div>\n                     <div class=\"col-3 center-logos\">"
            },
            {
              "filename": "js/cube.js",
              "patch": "@@ -17,8 +17,8 @@ window.requestAnimFrame = (function() {\n       //VARIABLES\n       //************\n       var _Canvas;\n-      let _frontImageSrc = './images/home4.jpg';\n-      let _backImageSrc = './images/home.jpg';\n+      let _frontImageSrc = './images/firstpage/home4.jpg';\n+      let _backImageSrc = './images/firstpage/home.jpg';\n       let _frontImage;\n       let _backImage;\n       let _blackMask;\n@@ -29,7 +29,7 @@ window.requestAnimFrame = (function() {\n       let _pauseTime = 0.25;\n       let _delayTime = 0.08;\n       let _maskArray = [];\n-      let _srcArray = [\"http://insidedown.com/codepen/stock/newstain1.png\", \"http://insidedown.com/codepen/stock/newstain2.png\", \"http://insidedown.com/codepen/stock/newstain3.png\"];\n+      let _srcArray = [\"./images/firstpage/newstain1.png\", \"./images/firstpage/newstain2.png\", \"./images/firstpage/newstain3.png\"];\n       \n       //************\n       //METHODS\n@@ -179,8 +179,28 @@ window.requestAnimFrame = (function() {\n \n \n \n+  var i = 0;\n+  var txt1 = \"Hi, I am Leon.\";\n+  var txt2 = \"Full stack web developer.\";\n+  var speed = 100;\n \n-\n+  function typeWriter1() {\n+  if (i < txt1.length) {\n+      document.getElementById(\"type1\").innerHTML += txt1.charAt(i);\n+      i++;\n+      setTimeout(typeWriter1, speed);\n+    } else {\n+        i = 0;\n+        typeWriter2();\n+    }\n+  }\n+  function typeWriter2() {\n+    if (i < txt2.length) {\n+          document.getElementById(\"type2\").innerHTML += txt2.charAt(i);\n+          i++;\n+          setTimeout(typeWriter2, speed);\n+    }\n+}\n \n var horizontal = $(window).width() > $(window).height();\n if (!horizontal) $('.carousel').addClass(\"height100vh\");\n@@ -193,8 +213,13 @@ $(function() {\n \n     setTimeout(function(){\n         document.querySelector('.scalebox.collapsible').classList.toggle('collapsed');\n+        document.querySelector('.my-logo-box.collapsible').classList.toggle('collapsed');\n     }, 1500);\n \n+    setTimeout(function(){\n+        typeWriter1();\n+    }, 4500);\n+\n \n });\n "
            }
          ]
        },
        {
          "sha": "be130d436249b495862e885b5640fd596792621b",
          "message": "added php",
          "author": "Leon Ostrez",
          "files": [
            {
              "filename": "index.php",
              "patch": "@@ -0,0 +1 @@\n+<?php header( 'Location: /index.html' ) ;  ?>\n\\ No newline at end of file"
            }
          ]
        },
        {
          "sha": "0fd819db1fb574043796985d48d32679d2cba871",
          "message": "initial",
          "author": "Leon Ostrez",
          "files": [
            {
              "filename": ".gitignore",
              "patch": "@@ -0,0 +1 @@\n+/old\n\\ No newline at end of file"
            },
            {
              "filename": "css/cube.css",
              "patch": "@@ -0,0 +1,460 @@\n+html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=\"button\"],input[type=\"reset\"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=\"checkbox\"],input[type=\"radio\"]{box-sizing:border-box;padding:0}input[type=\"number\"]::-webkit-inner-spin-button,input[type=\"number\"]::-webkit-outer-spin-button{height:auto}input[type=\"search\"]{-webkit-appearance:none}input[type=\"search\"]::-webkit-search-cancel-button,input[type=\"search\"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}\n+\n+canvas {\n+  background-color: #111;\n+}\n+\n+   .wrapper {\n+     position: fixed;\n+     left: 0px;\n+     top: 0px;\n+     right: 0px;\n+     bottom: 0px;\n+     background: rgb(0, 0, 0);\n+     -webkit-perspective: 2000px;\n+     perspective: 2000px;\n+     -webkit-perspective-origin: 50% 100%;\n+     perspective-origin: 50% 100%;\n+     -webkit-transform-origin: 50% 0%;\n+     -ms-transform-origin: 50% 0%;\n+     transform-origin: 50% 0%;\n+     -webkit-animation: backgroundScroll 15s linear 1;\n+     -webkit-animation-fill-mode: forwards;\n+     animation: backgroundScroll 16s linear infinite;\n+     animation-fill-mode: forwards;\n+   }\n+\n+   @keyframes backgroundScroll {\n+    from {background-position: 0 0;}\n+    to {background-position: -600px 0px;}\n+    }\n+    @-webkit-keyframes backgroundScroll {\n+    from {background-position: 0 0;}\n+    to {background-position: -600px 0px;}\n+    }\n+   \n+   .scroll {\n+     height: 400vh;\n+     background: rgba(0, 0, 0, 0);\n+   }\n+\n+   .fixed-logo {\n+     position: fixed;\n+     width:100%;\n+     z-index: 1;\n+   }\n+\n+   .my-logo-box {\n+    position: relative;\n+    width: 6vh;\n+    height: 6vh;\n+    left:47%;\n+    top:5px;\n+  }\n+\n+   .Llogo{\n+      position: absolute;\n+      animation: Llogo 4s linear infinite;\n+      animation-delay: 5s;\n+    }\n+    @keyframes Llogo {\n+      0% {\n+        transform: rotateY(0deg);\n+      }\n+      100% {\n+        transform: rotateY(360deg);\n+      }\n+    }\n+\n+    .Ologo{\n+      position: absolute;\n+      animation: Ologo 8s linear infinite;\n+      animation-delay: 5s;\n+    }\n+    @keyframes Ologo {\n+      0% {\n+        transform: rotateY(0deg);\n+      }\n+      100% {\n+        transform: rotateY(360deg);\n+      }\n+    }\n+\n+    .first-logo {\n+      opacity: 0;\n+      /* -webkit-transform: translateY(25vh);\n+      -moz-transform: translateY(25vh);\n+      -o-transform: translateY(25vh);\n+      -ms-transform: translateY(25vh);\n+      transform: translateY(25vh); */\n+  }\n+  .second-logo {\n+      opacity: 0;\n+      /* -webkit-transform: translateY(25vh);\n+      -moz-transform: translateY(25vh);\n+      -o-transform: translateY(25vh);\n+      -ms-transform: translateY(25vh);\n+      transform: translateY(25vh); */\n+  }\n+  .third-logo {\n+      opacity: 0;\n+  }\n+  .scalebox {\n+    overflow:hidden;\n+    transition:max-height 3s ease-out;\n+    height:30vh;\n+    max-height:100vh; \n+  }\n+.scalebox.collapsed {\n+    max-height:0vh;\n+}\n+\n+  .top-marg {\n+    margin-top: 5%;\n+  }\n+\n+   .first {\n+     position: fixed;\n+     left: 0px;\n+     top: 0px;\n+     width: 100%;\n+     height: 100vh;\n+     background-color: #c9c2c2;\n+     -webkit-transform-origin: 50% 100%;\n+     -ms-transform-origin: 50% 100%;\n+     transform-origin: 50% 100%;\n+   }\n+   \n+   .second {\n+     position: fixed;\n+     left: 0px;\n+     top: 0px;\n+     z-index: 10;\n+     width: 100%;\n+     height: 100vh;\n+     -webkit-perspective: 2000px;\n+     perspective: 2000px;\n+     -webkit-perspective-origin: 50% 100%;\n+     perspective-origin: 50% 100%;\n+     -webkit-transform-origin: 50% 0%;\n+     -ms-transform-origin: 50% 0%;\n+     transform-origin: 50% 0%;\n+   }\n+   \n+   .second-inner {\n+     position: fixed;\n+     left: 0px;\n+     top: 0px;\n+     width: 100%;\n+     height: 100vh;\n+     background-color: rgb(145, 153, 145);\n+     -webkit-transform-origin: 50% 100%;\n+     -ms-transform-origin: 50% 100%;\n+     transform-origin: 50% 100%;\n+   }\n+   \n+   .third {\n+     position: fixed;\n+     left: 0px;\n+     top: 0px;\n+     z-index: 20;\n+     width: 100%;\n+     height: 100vh;\n+     -webkit-transform-origin: 50% 0%;\n+     -ms-transform-origin: 50% 0%;\n+     transform-origin: 50% 0%;\n+   }\n+\n+   .third-inner {\n+    position: fixed;\n+    left: 0px;\n+    top: 0px;\n+    width: 100%;\n+    height: 100vh;\n+    background-color: #747372;\n+    -webkit-transform-origin: 50% 100%;\n+    -ms-transform-origin: 50% 100%;\n+    transform-origin: 50% 100%;\n+  }\n+  .fourth {\n+    position: fixed;\n+    left: 0px;\n+    top: 0px;\n+    z-index: 30;\n+    width: 100%;\n+    height: 100vh;\n+    -webkit-transform-origin: 50% 0%;\n+    -ms-transform-origin: 50% 0%;\n+    transform-origin: 50% 0%;\n+  }\n+\n+  .fourth-inner {\n+   position: fixed;\n+   left: 0px;\n+   top: 0px;\n+   width: 100%;\n+   height: 100vh;\n+   background:url(\"../images/big-desk.jpg\");\n+   -webkit-transform-origin: 50% 100%;\n+   -ms-transform-origin: 50% 100%;\n+   transform-origin: 50% 100%;\n+   color: white;\n+ }\n+   .fifth {\n+    position: fixed;\n+    left: 0px;\n+    top: 0px;\n+    z-index: 40;\n+    width: 100%;\n+    height: 100vh;\n+    background-color: rgb(151, 151, 151);\n+    -webkit-transform-origin: 50% 0%;\n+    -ms-transform-origin: 50% 0%;\n+    transform-origin: 50% 0%;\n+  }\n+\n+  .box {\n+    position: relative;\n+    width: 100vh;\n+    height: 100vh;\n+    max-width: 30px;\n+    max-height: 30px;\n+  }\n+  \n+  .box2 { \n+    width: 100%;\n+    height: 50%;\n+  }\n+\n+  .skills {\n+    width: 50%;\n+    max-width: 100px;\n+    height: 50%;\n+    max-height: 100px;\n+  }\n+\n+  .box .logos {\n+    position: absolute;\n+    transition: 0.5s;\n+  }\n+\n+  .box:hover .logos.logo1 {\n+    transform: translateY(-20px);\n+    opacity: 1;\n+  }\n+  .box:hover .logos.logo2 {\n+    transform: translateY(-10px);\n+    opacity: .5;\n+  }\n+  .box:hover .logos.logo3 {\n+    transform: translateY(0px);\n+    opacity: .2;\n+  }\n+\n+  .center-logos {\n+    display:flex;\n+    justify-content:center;\n+    align-items:center;\n+  }\n+\n+  .footer {\n+    position: fixed;\n+    bottom: 0;\n+    width: 100%;\n+    height: 40px;\n+  }\n+  img {\n+    height: 100%;\n+    width: 100%;\n+  }\n+  body {\n+    margin: 0;\n+    font-family: 'Roboto', sans-serif;\n+    font-size: 16px;\n+  }\n+  h1 {\n+    text-align: center;\n+    margin-bottom: 1.5em;\n+  }\n+  h2 {\n+    text-align: center;\n+    color: #555;\n+    margin-bottom: 0;\n+  }\n+  .height100 {\n+    height: 80%;\n+    justify-content:center; \n+  }\n+\n+  .carousel {\n+    padding: 0px;\n+    perspective: 500px;\n+    overflow: hidden;\n+    display: flex;\n+    flex-direction: column;\n+    align-items: center;\n+  }\n+  .carousel > * {\n+    flex: 0 0 auto;\n+  }\n+  .carousel figure {\n+    margin: 0;\n+    width: 50%;\n+    transform-style: preserve-3d;\n+    transition: transform 0.5s;\n+  }\n+  .carousel figure img {\n+    width: 100%;\n+    box-sizing: border-box;\n+    padding: 0 0px;\n+  }\n+  .carousel figure img:not(:first-of-type) {\n+    position: absolute;\n+    left: 0;\n+    top: 0;\n+  }\n+  .carousel nav {\n+    display: flex;\n+    margin: 20px 0 0;\n+  }\n+  .carousel nav button {\n+    flex: 0 0 auto;\n+    margin: 0 5px;\n+    cursor: pointer;\n+    color: #333;\n+    background: none;\n+    border: 1px solid;\n+    letter-spacing: 1px;\n+    padding: 5px 10px;\n+  }\n+\n+  .prev-left {\n+    left: 5%;\n+  }\n+  .next-right {\n+    right: 5%;\n+  }\n+  .carousel-nav {\n+    z-index: 1; \n+    width:100vw;\n+    justify-content: center;\n+  }\n+\n+  * { box-sizing: border-box; }\n+\n+body { font-family: sans-serif; }\n+\n+  \n+.skills-row {\n+  height: 40vh;\n+}\n+.footer-text {\n+  font-size: 10px;\n+}\n+\n+@import \"compass/css3\";\n+\n+.separator {\n+  margin-top: 40px;\n+}\n+/* 3D Cube */\n+.space3d {\n+  perspective: 1000px;\n+  width: 250px;\n+  height: 250px;\n+  text-align: center;\n+  display: inline-block;\n+}\n+._3dbox {\n+  display: inline-block;\n+  transition: all 0.85s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n+  text-align: center;\n+  position: relative;\n+  width: 100%;\n+  height: 100%;\n+  transform-style: preserve-3d;\n+  transform: rotateX(-15deg) rotateY(15deg);\n+}\n+._3dface {\n+  overflow: hidden;\n+  position: absolute;\n+  border: 1px solid #888;\n+  background: #fff;\n+  box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.1), 0 0 50px rgba(0, 0, 0, 0.3);\n+  color: #333;\n+  line-height: 250px;\n+  opacity: 0.8;\n+}\n+._3dface--front {\n+  width: 250px;\n+  height: 250px;\n+  transform: translate3d(0, 0, 125px);\n+}\n+._3dface--top {\n+  width: 250px;\n+  height: 250px;\n+  transform: rotateX(90deg) translate3d(0, 0, 125px);\n+}\n+._3dface--bottom {\n+  width: 250px;\n+  height: 250px;\n+  transform: rotateX(-90deg) translate3d(0, 0, 125px);\n+}\n+._3dface--left {\n+  width: 250px;\n+  height: 250px;\n+  left: 50%;\n+  margin-left: -125px;\n+  transform: rotateY(-90deg) translate3d(0, 0, 125px);\n+}\n+._3dface--right {\n+  width: 250px;\n+  height: 250px;\n+  left: 50%;\n+  margin-left: -125px;\n+  transform: rotateY(90deg) translate3d(0, 0, 125px);\n+}\n+._3dface--back {\n+  width: 250px;\n+  height: 250px;\n+  transform: rotateY(180deg) translate3d(0, 0, 125px);\n+}\n+#radio-left:checked ~ .space3d ._3dbox {\n+  transform: rotateY(90deg);\n+}\n+#radio-right:checked ~ .space3d ._3dbox {\n+  transform: rotateY(-90deg);\n+}\n+#radio-bottom:checked ~ .space3d ._3dbox {\n+  transform: rotateX(90deg);\n+}\n+#radio-top:checked ~ .space3d ._3dbox {\n+  transform: rotateX(-90deg);\n+}\n+#radio-back:checked ~ .space3d ._3dbox {\n+  transform: rotateY(180deg);\n+}\n+._3dface--front {\n+  background: url(https://2.bp.blogspot.com/-JxKfUObT4L8/UYYaRhRNJmI/AAAAAAAAAUY/243IlIOKj2c/s320/brahama.jpg);\n+  background-size: 100%;\n+}\n+._3dface--left {\n+  background: url(https://4.bp.blogspot.com/-HGFGdCGFTkw/UXVq6PNmS4I/AAAAAAAAAUE/hBNmVCOVlu4/s400/durga+wm.jpg);\n+  background-size: auto 100%;\n+}\n+._3dface--right {\n+  background: url(https://2.bp.blogspot.com/-yrnBD8wJ-g0/UNRtPF8pR7I/AAAAAAAAATE/YSpLvqTNyoQ/s320/A+P+J+abdul+kalam_+swm+.jpg);\n+  background-size: auto 100%;\n+}\n+._3dface--top {\n+  background: url(https://3.bp.blogspot.com/-mySu8dy4ux4/ULiVKS4YBbI/AAAAAAAAAR0/vBMi_4dAPDE/s400/rajiv+dixit+s.jpg);\n+  background-size: auto 100%;\n+}\n+._3dface--bottom {\n+  background: url(https://2.bp.blogspot.com/-B9QWFtc9bVY/UHFs7y9GqkI/AAAAAAAAARI/YLDkoHYr3g4/s400/Gau+wm.jpg);\n+  background-size: auto 100%;\n+}\n+._3dface--back {\n+  background: url(https://3.bp.blogspot.com/-ofufG97PpiU/UBzXu-1AisI/AAAAAAAAAP0/iDnhOh-vrb8/s400/shiv+ji.jpg);\n+  background-size: auto 100%;\n+}"
            },
            {
              "filename": "images/big-desk.jpg",
              "patch": "No diff"
            },
            {
              "filename": "images/carousel/awwapp.jpg",
              "patch": "No diff"
            },
            {
              "filename": "images/carousel/clubble.jpg",
              "patch": "No diff"
            },
            {
              "filename": "images/carousel/meta1.jpg",
              "patch": "No diff"
            },
            {
              "filename": "images/home.jpg",
              "patch": "No diff"
            },
            {
              "filename": "images/home2.jpg",
              "patch": "No diff"
            },
            {
              "filename": "images/home3.jpg",
              "patch": "No diff"
            },
            {
              "filename": "images/home4.jpg",
              "patch": "No diff"
            },
            {
              "filename": "images/leftarrow.png",
              "patch": "No diff"
            },
            {
              "filename": "images/logos/L.png",
              "patch": "No diff"
            },
            {
              "filename": "images/logos/MonoCorsiva.png",
              "patch": "No diff"
            },
            {
              "filename": "images/logos/O.png",
              "patch": "No diff"
            },
            {
              "filename": "images/logos/both.psd",
              "patch": "No diff"
            },
            {
              "filename": "images/logos/facebook-rotated.png",
              "patch": "No diff"
            },
            {
              "filename": "images/logos/html.png",
              "patch": "No diff"
            },
            {
              "filename": "images/logos/java.png",
              "patch": "No diff"
            },
            {
              "filename": "images/logos/javascript.png",
              "patch": "No diff"
            },
            {
              "filename": "images/logos/jquery.png",
              "patch": "No diff"
            },
            {
              "filename": "images/logos/linkedin-rotated.png",
              "patch": "No diff"
            },
            {
              "filename": "images/logos/nodejs.png",
              "patch": "No diff"
            },
            {
              "filename": "images/logos/python.png",
              "patch": "No diff"
            },
            {
              "filename": "images/logos/scriptMT.png",
              "patch": "No diff"
            },
            {
              "filename": "images/logos/test.png",
              "patch": "No diff"
            },
            {
              "filename": "images/logos/vuejs.png",
              "patch": "No diff"
            },
            {
              "filename": "images/logos/whitenodejs.png",
              "patch": "No diff"
            },
            {
              "filename": "images/love.png",
              "patch": "No diff"
            },
            {
              "filename": "images/rightarrow.png",
              "patch": "No diff"
            },
            {
              "filename": "index.html",
              "patch": "@@ -0,0 +1,199 @@\n+<!DOCTYPE html>\n+<html data-wf-page=\"5b56a943314bb9ed64cf8adc\">\n+\n+<head>\n+    <meta charset=\"utf-8\" />\n+    <title>Leon Ostrez</title>\n+    <meta content=\"width=device-width, initial-scale=1\" name=\"viewport\" />\n+    <meta content=\"personal website\" name=\"generator\" />\n+    <link href=\"css/cube.css\" rel=\"stylesheet\" type=\"text/css\" />\n+    <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css\" integrity=\"sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS\" crossorigin=\"anonymous\">\n+    <script type=\"text/javascript\">\n+        ! function(o, c) {\n+            var n = c.documentElement,\n+                t = \" w-mod-\";\n+            n.className += t + \"js\", (\"ontouchstart\" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + \"touch\")\n+        }(window, document);\n+    </script>\n+</head>\n+\n+<body>\n+        <div class=\"fixed-logo\">\n+            <div class=\"scalebox collapsible\"></div>\n+              <div class=\"my-logo-box\">\n+                  <img src=\"./images/logos/O.png\" class=\"first-logo Ologo\">\n+                  <img src=\"./images/logos/L.png\" class=\"second-logo Llogo\">\n+              </div>\n+        </div>\n+    <div class=\"wrapper\">\n+        <div data-w-id=\"one\" class=\"first\">\n+            <!-- <div class=\"top-marg\"></div> -->\n+            <canvas id='stage' style=\"background-repeat:no-repeat;background-position:center center; background-size: cover;\"></canvas>\n+        </div>\n+\n+\n+        <div data-w-id=\"two1\" class=\"second\">\n+            <div data-w-id=\"two2\" class=\"second-inner\">\n+                    <div class=\"container-fluid text-center top-marg\" style=\"padding-top: 15px;\">\n+                        <h2>About me</h2>\n+                    </div>\n+                <div class=\"row\">\n+                    <div class=\"col-1\"></div>\n+                    <div class=\"col-2\">\n+                        <input type=\"radio\" checked id=\"radio-front\" name=\"select-face\"/>    \n+                        <input type=\"radio\" id=\"radio-left\" name=\"select-face\"/>\n+                        <input type=\"radio\" id=\"radio-right\" name=\"select-face\"/>\n+                        <input type=\"radio\" id=\"radio-top\" name=\"select-face\"/>\n+                        <input type=\"radio\" id=\"radio-bottom\" name=\"select-face\"/>\n+                        <input type=\"radio\" id=\"radio-back\" name=\"select-face\"/>\n+                    </div>\n+                    <div class=\"row col-6 justify-content-center\">\n+                        <div class=\"col-8\">\n+                            <div class=\"space3d\">\n+                                <div class=\"_3dbox\">\n+                                    <div class=\"_3dface _3dface--front\"></div>\n+                                    <div class=\"_3dface _3dface--top\"></div>\n+                                    <div class=\"_3dface _3dface--bottom\"></div>\n+                                    <div class=\"_3dface _3dface--left\"></div>\n+                                    <div class=\"_3dface _3dface--right\"></div>\n+                                    <div class=\"_3dface _3dface--back\"></div>\n+                                </div>\n+                            </div>\n+                        </div>\n+                    </div>\n+                    <div class=\"col-3\">\n+                            text\n+                    </div>\n+                </div>\n+           \n+                      \n+            </div>\n+        </div>\n+\n+\n+        <div data-w-id=\"three1\" class=\"third\">\n+            <div data-w-id=\"three2\" class=\"third-inner\">\n+                <div class=\"container-fluid text-center top-marg\" style=\"padding-top: 15px;\">\n+                    <h2>Portfolio</h2>\n+                </div>\n+                <div class=\"carousel\" data-gap=\"20\">\n+                        <figure class=\"carousel-figure\">\n+                            <img src=\"./images/carousel/meta1.jpg\" alt=\"\">\n+                            <img src=\"./images/carousel/awwapp.jpg\" alt=\"\">\n+                            <img src=\"./images/carousel/clubble.jpg\" alt=\"\">\n+                            <img src=\"./images/carousel/meta1.jpg\" alt=\"\">\n+                            <img src=\"./images/carousel/awwapp.jpg\" alt=\"\">\n+                            <img src=\"./images/carousel/clubble.jpg\" alt=\"\">\n+                            <img src=\"./images/carousel/meta1.jpg\" alt=\"\">\n+                            <img src=\"./images/carousel/clubble.jpg\" alt=\"\">\n+                            <img src=\"./images/carousel/meta1.jpg\" alt=\"\">\n+                        </figure>\n+                        <nav class=\"carousel-nav\">\n+                            <button class=\"nav prev\">Prev</button>\n+                            <button class=\"nav next\">Next</button>\n+                        </nav>\n+\n+                    </div>\n+\n+\n+            </div>\n+        </div>\n+\n+        <div data-w-id=\"four1\" class=\"fourth\">\n+                <div data-w-id=\"four2\" class=\"fourth-inner\">\n+                    <div class=\"container-fluid text-center top-marg\" style=\"padding-top: 15px; padding-bottom: 15px;\">\n+                        <h2>Skills</h2>\n+                    </div>\n+                    <div class=\"container-fluid\">\n+                        <div class=\"row skills-row\">\n+                            <div class=\"col-1\"></div>\n+                            <div class=\"row col-10\">\n+                                <div class=\"col-4 text-center\">\n+                                    <img src=\"./images/logos/java.png\" class=\"skills\">\n+                                    <h5 class=\"m-2\">Java</h5>\n+                                </div>\n+                                <div class=\"col-4 text-center\">\n+                                    <img src=\"./images/logos/python.png\" class=\"skills\">\n+                                    <h5 class=\"m-2\">Python</h5>\n+                                </div>\n+                                <div class=\"col-4 text-center\">\n+                                    <img src=\"./images/logos/whitenodejs.png\" class=\"skills\">\n+                                    <h5 class=\"m-2\">Node.js</h5>\n+                                </div>\n+                            </div>\n+                            <div class=\"col-1\"></div>\n+                        </div>\n+                        <div class=\"row skills-row\">\n+                            <div class=\"col-1\"></div>\n+                            <div class=\"row col-10\">\n+                                <div class=\"col-4 text-center\">\n+                                    <img src=\"./images/logos/javascript.png\" class=\"skills\">\n+                                    <h5 class=\"m-2\">Javascript</h5>\n+                                </div>\n+                                <div class=\"col-4 text-center\">\n+                                    <img src=\"./images/logos/html.png\" class=\"skills\">\n+                                    <h5 class=\"m-2\">HTML5</h5>\n+                                </div>\n+                                <div class=\"col-4 text-center\">\n+                                    <img src=\"./images/logos/vuejs.png\" class=\"skills\">\n+                                    <h5 class=\"m-2\">Vue.js</h5>\n+                                </div>\n+                            </div>\n+                            <div class=\"col-1\"></div>\n+                        </div>\n+                    </div>\n+                </div>\n+            </div>\n+\n+        <div data-w-id=\"five1\" class=\"fifth\">\n+            <div class=\"box2\"></div>\n+            <div class=\"row justify-content-center\">\n+                <div class=\"col-8 row justify-content-center\">\n+                    <div class=\"col-3 center-logos\">\n+                        <div class=\"box\">\n+                            <img src=\"./images/logos/linkedin-rotated.png\" class=\"logos logo1\">\n+                            <img src=\"./images/logos/linkedin-rotated.png\" class=\"logos logo2\">\n+                            <img src=\"./images/logos/linkedin-rotated.png\" class=\"logos logo3\">\n+                        </div>\n+                    </div>\n+                    <div class=\"col-3 center-logos\">\n+                        <div class=\"box\">\n+                            <img src=\"./images/logos/linkedin-rotated.png\" class=\"logos logo1\">\n+                            <img src=\"./images/logos/linkedin-rotated.png\" class=\"logos logo2\">\n+                            <img src=\"./images/logos/linkedin-rotated.png\" class=\"logos logo3\">\n+                        </div>\n+                    </div>\n+                    <div class=\"col-3 center-logos\">\n+                        <div class=\"box\">\n+                            <img src=\"./images/logos/linkedin-rotated.png\" class=\"logos logo1\">\n+                            <img src=\"./images/logos/linkedin-rotated.png\" class=\"logos logo2\">\n+                            <img src=\"./images/logos/linkedin-rotated.png\" class=\"logos logo3\">\n+                        </div>\n+                    </div>\n+                    <div class=\"col-3 center-logos\">                    \n+                            <div onclick=\"alertFunction()\" class=\"box\">\n+                                <img src=\"./images/logos/facebook-rotated.png\" class=\"logos logo1\">\n+                                <img src=\"./images/logos/facebook-rotated.png\" class=\"logos logo2\">\n+                                <img src=\"./images/logos/facebook-rotated.png\" class=\"logos logo3\">\n+                            </div>\n+                        </div>\n+                </div>\n+            </div>\n+            <footer class=\"footer row justify-content-end\">\n+                <div class=\"col-4 text-center\">\n+                    <p class=\"footer-text\">Made with <a href=\"http://lmgtfy.com/?q=love\" target=\"_blank\"  style=\"text-decoration: none\">\n+                        <img alt=\"love\" src=\"./images/love.png\" style=\"width:10px; height:10px;\">\n+                        </a> by Leon Ostrez.</p>\n+                </div>\n+                <div class=\"col-4 row justify-content-end\">  \n+                </div>  \n+            </footer>\n+        </div>\n+    </div>\n+    <div class=\"scroll\"></div>\n+    <script src=\"https://code.jquery.com/jquery-3.3.1.min.js\" type=\"text/javascript\" integrity=\"sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=\" crossorigin=\"anonymous\"></script>\n+    <script src=\"js/cube.js\" type=\"text/javascript\"></script>\n+    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js\" type=\"text/javascript\"></script>\n+</body>\n+\n+</html>\n\\ No newline at end of file"
            },
            {
              "filename": "js/cube.js",
              "patch": "No diff"
            }
          ]
        }
      ]
    },
    {
      "name": "cursorApp",
      "description": null,
      "language": null,
      "commits": []
    },
    {
      "name": "node-course-todo-api",
      "description": null,
      "language": "JavaScript",
      "commits": [
        {
          "sha": "d55dc5e7581a7de633d14db5898d0dc929143c0f",
          "message": "added async await version of functions",
          "author": "Leon",
          "files": [
            {
              "filename": "server/server.js",
              "patch": "@@ -52,22 +52,40 @@ app.get('/todos/:id', authenticate, (req,res) => {\n     });\n });\n \n-app.delete('/todos/:id', authenticate, (req,res) => {\n-    var id = req.params.id;\n-\n-    if (!ObjectId.isValid(id)) return res.status(404).send();\n-\n-    Todo.findOneAndRemove({\n-        _id: id,\n-        _creator: req.user._id\n-    }).then((todo) => {\n+// app.delete('/todos/:id', authenticate, (req,res) => {\n+//     var id = req.params.id;\n+\n+//     if (!ObjectId.isValid(id)) return res.status(404).send();\n+\n+//     Todo.findOneAndRemove({\n+//         _id: id,\n+//         _creator: req.user._id\n+//     }).then((todo) => {\n+//         if (!todo) {\n+//             return res.status(404).send();\n+//         }\n+//         res.send({todo});\n+//     }).catch((e) => {\n+//         res.status(400).send();\n+//     });\n+// });\n+\n+// ASYNC VERSION\n+app.delete('/todos/:id', authenticate, async (req,res) => {\n+    try {\n+        var id = req.params.id;\n+        if (!ObjectId.isValid(id)) return res.status(404).send();\n+        var todo = await Todo.findOneAndRemove({\n+            _id: id,\n+            _creator: req.user._id\n+        });\n         if (!todo) {\n             return res.status(404).send();\n         }\n         res.send({todo});\n-    }).catch((e) => {\n+    } catch (e) {\n         res.status(400).send();\n-    });\n+    };\n });\n \n app.patch('/todos/:id', authenticate, (req,res) =>{\n@@ -97,43 +115,78 @@ app.patch('/todos/:id', authenticate, (req,res) =>{\n     });\n });\n \n-app.post('/users', (req, res) => {\n-    var body = _.pick(req.body, ['email', 'password']);\n-    var user = new User(body);\n-\n-    user.save().then((user) => {\n-        // console.log(user);\n-        return user.generateAuthToken();\n-    }).then((token) => {\n-        // console.log(token);\n+// app.post('/users', (req, res) => {\n+//     var body = _.pick(req.body, ['email', 'password']);\n+//     var user = new User(body);\n+\n+//     user.save().then((user) => {\n+//         // console.log(user);\n+//         return user.generateAuthToken();\n+//     }).then((token) => {\n+//         // console.log(token);\n+//         res.header('x-auth', token).send(user);\n+//     }).catch((e) => {\n+//         res.status(400).send(e);\n+//     });\n+// });\n+\n+// ASYNC VERSION\n+app.post('/users', async (req, res) => {\n+    try {\n+        var body = _.pick(req.body, ['email', 'password']);\n+        var user = new User(body);\n+        var tempUser = await user.save();\n+        var token = await tempUser.generateAuthToken();\n         res.header('x-auth', token).send(user);\n-    }).catch((e) => {\n+    } catch(e) {\n         res.status(400).send(e);\n-    });\n+    };\n });\n \n app.get('/users/me', authenticate, (req,res) => {\n     res.send(req.user);\n });\n \n-app.post('/users/login', (req,res) => {\n-    var body = _.pick(req.body, ['email', 'password']);\n-\n-    User.findByCredentials(body.email, body.password).then((user) => {\n-        user.generateAuthToken().then((token) => {\n-            res.header('x-auth', token).send(user);     \n-        });\n-    }).catch((e)=>{\n+// app.post('/users/login', (req,res) => {\n+//     var body = _.pick(req.body, ['email', 'password']);\n+\n+//     User.findByCredentials(body.email, body.password).then((user) => {\n+//         user.generateAuthToken().then((token) => {\n+//             res.header('x-auth', token).send(user);     \n+//         });\n+//     }).catch((e)=>{\n+//         res.status(400).send(e);\n+//     });\n+// });\n+\n+// ASYNC VERSION\n+app.post('/users/login', async (req,res) => {\n+    try {\n+        const body = _.pick(req.body, ['email', 'password']);\n+        var user = await User.findByCredentials(body.email, body.password);\n+        var token = await user.generateAuthToken();\n+        res.header('x-auth', token).send(user); \n+    } catch(e) {\n         res.status(400).send(e);\n-    });\n+    }\n });\n \n-app.delete('/users/me/token', authenticate, (req,res) => {\n-    req.user.removeToken(req.token).then(() => {\n+// app.delete('/users/me/token', authenticate, (req,res) => {\n+//     req.user.removeToken(req.token).then(() => {\n+//         res.status(200).send();\n+//     }, () => {\n+//         res.status(400).send();\n+//     });\n+// });\n+\n+// ASYNC VERSION\n+app.delete('/users/me/token', authenticate, async (req,res) => {\n+    try {\n+        await req.user.removeToken(req.token);\n         res.status(200).send();\n-    }, () => {\n+    } catch(e) {\n         res.status(400).send();\n-    });\n+    }\n });\n \n app.listen(port, () => {"
            }
          ]
        },
        {
          "sha": "3fd5624ece54995471febbec229e90e88217997f",
          "message": "update test.js",
          "author": "Leon",
          "files": [
            {
              "filename": "server/tests/server.test.js",
              "patch": "@@ -209,7 +209,7 @@ describe('PATCH /todos/:id', () => {\n             .expect(200)\n             .expect((res) => {\n                 expect(res.body.todo.completed).toBe(false);\n-                expect(res.body.todo.completedAt).toBe(null);\n+                expect(res.body.todo.completedAt).toBeFalsy();\n             })\n             .end(done);\n     });"
            }
          ]
        },
        {
          "sha": "68f7cf524921eb26904838ae93ccec8fc26427fe",
          "message": "Update config to use json file",
          "author": "Leon",
          "files": [
            {
              "filename": ".gitignore",
              "patch": "@@ -1 +1,2 @@\n-node_modules/\n\\ No newline at end of file\n+node_modules/\n+server/config/config.json\n\\ No newline at end of file"
            },
            {
              "filename": "server/config/config.js",
              "patch": "@@ -1,9 +1,10 @@\n var env = process.env.NODE_ENV || 'development';\n \n-if (env === 'development') {\n-    process.env.PORT = 3000;\n-    process.env.MONGODB_URI = 'mongodb://localhost:27017/TodoApp';\n-} else if (env === 'test') {\n-    process.env.PORT = 3000;\n-    process.env.MONGODB_URI = 'mongodb://localhost:27017/TodoAppTest';\n+if (env === 'development' || env === 'test') {\n+    var config = require('./config.json');\n+    var envConfig = config[env];\n+\n+    Object.keys(envConfig).forEach((key) => {\n+        process.env[key] = envConfig[key];\n+    });\n }\n\\ No newline at end of file"
            },
            {
              "filename": "server/models/user.js",
              "patch": "@@ -43,7 +43,7 @@ UserSchema.methods.toJSON = function() {\n UserSchema.methods.generateAuthToken = function () {\n     var user = this;\n     var access = 'auth';\n-    var token = jwt.sign({_id: user._id.toHexString(), access},'abc123').toString();\n+    var token = jwt.sign({_id: user._id.toHexString(), access}, process.env.JWT_SECRET).toString();\n \n     user.tokens = user.tokens.concat([{access,token}]);\n     // console.log('User.js _____________________');\n@@ -72,7 +72,7 @@ UserSchema.statics.findByToken = function (token) {\n     var decoded;\n \n     try {\n-        decoded = jwt.verify(token, 'abc123');\n+        decoded = jwt.verify(token, process.env.JWT_SECRET);\n     } catch(e) {\n         // return new Promise((resolve, reject) => {\n         //     reject();"
            },
            {
              "filename": "server/tests/seed/seed.js",
              "patch": "@@ -12,15 +12,15 @@ const users = [{\n     password: \"userOnePass\",\n     tokens: [{\n         access: \"auth\",\n-        token: jwt.sign({_id: userOneId, access: \"auth\"},'abc123').toString()\n+        token: jwt.sign({_id: userOneId, access: \"auth\"}, process.env.JWT_SECRET).toString()\n     }]\n }, {\n     _id: userTwoId,\n     email: \"jen@email.com\",\n     password: \"userTwoPass\",\n     tokens: [{\n         access: \"auth\",\n-        token: jwt.sign({_id: userTwoId, access: \"auth\"},'abc123').toString()\n+        token: jwt.sign({_id: userTwoId, access: \"auth\"}, process.env.JWT_SECRET).toString()\n     }]\n }];\n "
            }
          ]
        },
        {
          "sha": "1625c4793f16e8742c29f09083a37a10a2e6152e",
          "message": "Add authentication to all routes and update all tests",
          "author": "Leon",
          "files": [
            {
              "filename": "server/server.js",
              "patch": "@@ -37,24 +37,30 @@ app.get('/todos', authenticate, (req,res) => {\n     });\n });\n \n-app.get('/todos/:id', (req,res) => {\n+app.get('/todos/:id', authenticate, (req,res) => {\n     var id = req.params.id;\n     if (!ObjectId.isValid(id)) return res.status(404).send();\n \n-    Todo.findById(id).then((todo) => {\n+    Todo.findOne({\n+        _id: id,\n+        _creator: req.user._id\n+    }).then((todo) => {\n         if(todo) return res.send({todo});\n         return res.status(404).send();\n     }).catch((e) => {\n         res.status(400).send();\n     });\n });\n \n-app.delete('/todos/:id', (req,res) => {\n+app.delete('/todos/:id', authenticate, (req,res) => {\n     var id = req.params.id;\n \n     if (!ObjectId.isValid(id)) return res.status(404).send();\n \n-    Todo.findByIdAndRemove(id).then((todo) => {\n+    Todo.findOneAndRemove({\n+        _id: id,\n+        _creator: req.user._id\n+    }).then((todo) => {\n         if (!todo) {\n             return res.status(404).send();\n         }\n@@ -64,7 +70,7 @@ app.delete('/todos/:id', (req,res) => {\n     });\n });\n \n-app.patch('/todos/:id', (req,res) =>{\n+app.patch('/todos/:id', authenticate, (req,res) =>{\n     var id = req.params.id;\n     var body = _.pick(req.body, ['text', 'completed']);\n \n@@ -77,7 +83,10 @@ app.patch('/todos/:id', (req,res) =>{\n         body.completedAt = null;\n     }\n \n-    Todo.findByIdAndUpdate(id, {$set: body}, {new: true}).then((todo) => {\n+    Todo.findOneAndUpdate({\n+        _id: id,\n+        _creator: req.user._id       \n+    }, {$set: body}, {new: true}).then((todo) => {\n         if (!todo) {\n             return res.status(404).send();\n         }"
            },
            {
              "filename": "server/tests/seed/seed.js",
              "patch": "@@ -17,7 +17,11 @@ const users = [{\n }, {\n     _id: userTwoId,\n     email: \"jen@email.com\",\n-    password: \"userTwoPass\"\n+    password: \"userTwoPass\",\n+    tokens: [{\n+        access: \"auth\",\n+        token: jwt.sign({_id: userTwoId, access: \"auth\"},'abc123').toString()\n+    }]\n }];\n \n const todos = [{"
            },
            {
              "filename": "server/tests/server.test.js",
              "patch": "@@ -69,6 +69,7 @@ describe('GET /todos/:id', () => {\n     it('should return todo doc', (done) => {\n         request(app)\n             .get(`/todos/${todos[0]._id.toHexString()}`)\n+            .set('x-auth', users[0].tokens[0].token)\n             .expect(200)\n             .expect((res) => {\n                 expect(res.body.todo.text).toBe(todos[0].text);\n@@ -80,13 +81,23 @@ describe('GET /todos/:id', () => {\n         var id = todos[0]._id.toHexString()+1;\n         request(app)\n             .get(`/todos/${id}`)\n+            .set('x-auth', users[0].tokens[0].token)\n             .expect(404)\n             .end(done);\n     });\n \n     it('should return 404 for non object id', (done) => {\n         request(app)\n             .get(`/todos/123`)\n+            .set('x-auth', users[0].tokens[0].token)\n+            .expect(404)\n+            .end(done);\n+    });\n+\n+    it('should not return todo doc created by other user', (done) => {\n+        request(app)\n+            .get(`/todos/${todos[1]._id.toHexString()}`)\n+            .set('x-auth', users[0].tokens[0].token)\n             .expect(404)\n             .end(done);\n     });\n@@ -98,6 +109,7 @@ describe('DELETE /todos/:id', () => {\n         var id = todos[1]._id.toHexString();\n         request(app)\n             .delete(`/todos/${id}`)\n+            .set('x-auth', users[1].tokens[0].token)\n             .expect(200)\n             .expect((res) =>{\n                 expect(res.body.todo._id).toBe(id);\n@@ -115,17 +127,38 @@ describe('DELETE /todos/:id', () => {\n             });\n     });\n \n+    it('should not remove a todo by id created by other user', (done) => {\n+        var id = todos[0]._id.toHexString();\n+        request(app)\n+            .delete(`/todos/${id}`)\n+            .set('x-auth', users[1].tokens[0].token)\n+            .expect(404)\n+            .end((err,res) => {\n+                if (err) {\n+                return done(err);\n+                }\n+\n+                Todo.findById(id).then((todo) => {\n+                    expect(todo).toBeTruthy();\n+                    done();\n+                }).catch((e)=>done(e));\n+\n+            });\n+    });\n+\n     it('should return 404 if todo not found', (done) => {\n         var id = todos[0]._id.toHexString()+1;\n         request(app)\n             .delete(`/todos/${id}`)\n+            .set('x-auth', users[1].tokens[0].token)\n             .expect(404)\n             .end(done);\n     });\n \n     it('should return 404 for non object id', (done) => {\n         request(app)\n             .delete(`/todos/123`)\n+            .set('x-auth', users[1].tokens[0].token)\n             .expect(404)\n             .end(done);\n     });\n@@ -137,6 +170,7 @@ describe('PATCH /todos/:id', () => {\n         var text = \"updated\";\n         request(app)\n             .patch(`/todos/${id}`)\n+            .set('x-auth', users[0].tokens[0].token)\n             .send({\n                 text,\n                 completed: true\n@@ -150,10 +184,25 @@ describe('PATCH /todos/:id', () => {\n             .end(done);\n     });\n \n+    it('should not update  todo created by other user', (done) => {\n+        var id = todos[0]._id.toHexString();\n+        var text = \"updated\";\n+        request(app)\n+            .patch(`/todos/${id}`)\n+            .set('x-auth', users[1].tokens[0].token)\n+            .send({\n+                text,\n+                completed: true\n+            })\n+            .expect(404)\n+            .end(done);\n+    });\n+\n     it('should clear completedAt when todo is not completed', (done) => {\n         var id = todos[1]._id.toHexString();\n         request(app)\n             .patch(`/todos/${id}`)\n+            .set('x-auth', users[1].tokens[0].token)\n             .send({\n                 completed: false\n             })\n@@ -265,7 +314,7 @@ describe('POST /users/login', () => {\n                 }\n \n                 User.findById(users[1]._id).then((user) => {\n-                    expect(user.tokens[0]).toMatchObject({\n+                    expect(user.tokens[1]).toMatchObject({\n                         access: 'auth',\n                         token: res.header['x-auth']\n                     });\n@@ -291,7 +340,7 @@ describe('POST /users/login', () => {\n                 }\n \n                 User.findById(users[1]._id).then((user) => {\n-                    expect(user.tokens.length).toBe(0);\n+                    expect(user.tokens.length).toBe(1);\n                     done();\n                 }).catch((e)=>done(e));\n             });"
            }
          ]
        },
        {
          "sha": "f19bf55e8a8db4d19564ce958610ed86476f923e",
          "message": "add authentication for todos and update tests",
          "author": "Leon",
          "files": [
            {
              "filename": "server/models/todo.js",
              "patch": "@@ -14,6 +14,10 @@ var Todo = mongoose.model('Todo', {\n     completedAt: {\n         type: Number,\n         default: null\n+    },\n+    _creator: {\n+        required: true,\n+        type: mongoose.Schema.Types.ObjectId\n     }\n });\n "
            },
            {
              "filename": "server/server.js",
              "patch": "@@ -15,9 +15,10 @@ const port = process.env.PORT;\n \n app.use(bodyParser.json());\n \n-app.post('/todos', (req, res) => {\n+app.post('/todos', authenticate, (req, res) => {\n     var todo = new Todo({\n-        text: req.body.text\n+        text: req.body.text,\n+        _creator: req.user._id\n     });\n     todo.save().then((doc) => {\n         res.send(doc);\n@@ -26,8 +27,10 @@ app.post('/todos', (req, res) => {\n     });\n });\n \n-app.get('/todos', (req,res) => {\n-    Todo.find().then((todos) => {\n+app.get('/todos', authenticate, (req,res) => {\n+    Todo.find({\n+        _creator: req.user._id\n+    }).then((todos) => {\n         res.send({todos});\n     }, (e) => {\n         res.status(400).send(e);"
            },
            {
              "filename": "server/tests/seed/seed.js",
              "patch": "@@ -22,12 +22,14 @@ const users = [{\n \n const todos = [{\n     _id: new ObjectID(\"5bc476c31baed80d500f7c45\"),\n-    text: \"first test todo\"\n+    text: \"first test todo\",\n+    _creator: userOneId\n }, {\n     _id: new ObjectID(),\n     text: \"second\",\n     completed: true,\n-    completedAt: 123\n+    completedAt: 123,\n+    _creator: userTwoId\n }];\n \n const  populateTodos = (done) => {"
            },
            {
              "filename": "server/tests/server.test.js",
              "patch": "@@ -16,6 +16,7 @@ describe('POST /todos', () => {\n \n         request(app)\n             .post('/todos')\n+            .set('x-auth', users[0].tokens[0].token)\n             .send({text})\n             .expect(200)\n             .expect((res) => {\n@@ -36,6 +37,7 @@ describe('POST /todos', () => {\n     it('should not create todo with invalid body data', (done) => {\n         request(app)\n             .post('/todos')\n+            .set('x-auth', users[0].tokens[0].token)\n             .send({})\n             .expect(400)\n             .end((err,res) => {\n@@ -54,9 +56,10 @@ describe('GET /todos', () => {\n     it('should get all todos', (done) => {\n         request(app)\n             .get('/todos')\n+            .set('x-auth', users[0].tokens[0].token)\n             .expect(200)\n             .expect((res) => {\n-                expect(res.body.todos.length).toBe(2);\n+                expect(res.body.todos.length).toBe(1);\n             })\n             .end(done);\n     });"
            }
          ]
        },
        {
          "sha": "a56170cd4fe64529b28520427b592611c5717c05",
          "message": "Add tests for DELETE /users/me/token",
          "author": "Leon",
          "files": [
            {
              "filename": "server/tests/server.test.js",
              "patch": "@@ -294,4 +294,22 @@ describe('POST /users/login', () => {\n             });\n     });\n \n+});\n+\n+describe('DELETE /users/me/token', () => {\n+    it('should remove auth token on logout', (done) => {\n+        request(app)\n+            .delete('/users/me/token')\n+            .set('x-auth', users[0].tokens[0].token)\n+            .expect(200)\n+            .end((err,res) => {\n+                if (err) {\n+                    return done(err);\n+                }\n+                User.findById(users[0]._id).then((user) => {\n+                    expect(user.tokens.length).toBe(0);\n+                    done();\n+                }).catch((e)=> done(e));\n+            });\n+    });\n });\n\\ No newline at end of file"
            }
          ]
        },
        {
          "sha": "d84773b2b46e9091f2a91f4a0a806ecaedf5afba",
          "message": "add DELETE /users/me/token route",
          "author": "Leon",
          "files": [
            {
              "filename": "server/models/user.js",
              "patch": "@@ -55,6 +55,18 @@ UserSchema.methods.generateAuthToken = function () {\n     });\n };\n \n+UserSchema.methods.removeToken = function (token) {\n+    var user = this;\n+\n+    return user.update({\n+        $pull: {\n+            tokens: {\n+                token\n+            }\n+        }\n+    });\n+};\n+\n UserSchema.statics.findByToken = function (token) {\n     var User = this;\n     var decoded;"
            },
            {
              "filename": "server/server.js",
              "patch": "@@ -116,6 +116,14 @@ app.post('/users/login', (req,res) => {\n     });\n });\n \n+app.delete('/users/me/token', authenticate, (req,res) => {\n+    req.user.removeToken(req.token).then(() => {\n+        res.status(200).send();\n+    }, () => {\n+        res.status(400).send();\n+    });\n+});\n+\n app.listen(port, () => {\n     console.log(`Started on port ${port}`);\n });"
            }
          ]
        },
        {
          "sha": "0c3db5d778ebcd17ebb0b0e4cbcdeaf4f5cdb70b",
          "message": "add tests for POST /users/login",
          "author": "Leon",
          "files": [
            {
              "filename": "server/tests/server.test.js",
              "patch": "@@ -209,7 +209,7 @@ describe('POST /users', () => {\n                     expect(user).toBeTruthy();\n                     expect(user.password).not.toBe(password);\n                     done();\n-                });\n+                }).catch((e)=>done(e));\n             });\n     });\n \n@@ -242,4 +242,56 @@ describe('POST /users', () => {\n             .expect(400)\n             .end(done);\n     });\n+});\n+\n+describe('POST /users/login', () => {\n+    it('should  login user and return auth token', (done) => {\n+        request(app)\n+            .post('/users/login')\n+            .send({\n+                email: users[1].email,\n+                password: users[1].password\n+            })\n+            .expect(200)\n+            .expect((res) => {\n+                expect(res.header['x-auth']).toBeTruthy();\n+            })\n+            .end((err,res) => {\n+                if (err) {\n+                    return done(err);\n+                }\n+\n+                User.findById(users[1]._id).then((user) => {\n+                    expect(user.tokens[0]).toMatchObject({\n+                        access: 'auth',\n+                        token: res.header['x-auth']\n+                    });\n+                    done();\n+                }).catch((e)=>done(e));\n+            });\n+    });\n+\n+    it('should reject invalid login', (done) => {\n+        request(app)\n+            .post('/users/login')\n+            .send({\n+                email: users[1].email,\n+                password: \"passssword\"\n+            })\n+            .expect(400)\n+            .expect((res) => {\n+                expect(res.header['x-auth']).toBeFalsy();\n+            })\n+            .end((err,res) => {\n+                if (err) {\n+                    return done(err);\n+                }\n+\n+                User.findById(users[1]._id).then((user) => {\n+                    expect(user.tokens.length).toBe(0);\n+                    done();\n+                }).catch((e)=>done(e));\n+            });\n+    });\n+\n });\n\\ No newline at end of file"
            }
          ]
        },
        {
          "sha": "6f93fa0a34ceda7d871cfda054b776f4454d8d3e",
          "message": "add POST /users/login route",
          "author": "Leon",
          "files": [
            {
              "filename": "server/models/user.js",
              "patch": "@@ -75,6 +75,29 @@ UserSchema.statics.findByToken = function (token) {\n     });\n };\n \n+UserSchema.statics.findByCredentials = function (email,password) {\n+    var User = this;\n+\n+    return User.findOne({email}).then((user) => {\n+        if (!user) {\n+            return Promise.reject();\n+        }\n+\n+        return new Promise((resolve,reject) => {\n+            bcrypt.compare(password, user.password,(err, res) => {\n+                if (!res) {\n+                    reject('Invalid password');\n+                }\n+                resolve(user);\n+            });\n+        })\n+        \n+    }).catch((err) => {\n+        return Promise.reject(err);\n+    });\n+\n+};\n+\n UserSchema.pre('save', function (next) {\n     var user = this;\n     if (user.isModified('password')) {\n@@ -102,4 +125,6 @@ var User = mongoose.model('User', UserSchema);\n //     console.log('error occured', e);\n // });\n \n-module.exports = {User};\n\\ No newline at end of file\n+module.exports = {\n+    User\n+};\n\\ No newline at end of file"
            },
            {
              "filename": "server/server.js",
              "patch": "@@ -104,6 +104,18 @@ app.get('/users/me', authenticate, (req,res) => {\n     res.send(req.user);\n });\n \n+app.post('/users/login', (req,res) => {\n+    var body = _.pick(req.body, ['email', 'password']);\n+\n+    User.findByCredentials(body.email, body.password).then((user) => {\n+        user.generateAuthToken().then((token) => {\n+            res.header('x-auth', token).send(user);     \n+        });\n+    }).catch((e)=>{\n+        res.status(400).send(e);\n+    });\n+});\n+\n app.listen(port, () => {\n     console.log(`Started on port ${port}`);\n });"
            }
          ]
        },
        {
          "sha": "8985a0dac0b2aaf86c991a47171e9925501704f5",
          "message": "Add tests for GET /users/me and POST /users",
          "author": "Leon",
          "files": [
            {
              "filename": "server/tests/seed/seed.js",
              "patch": "@@ -0,0 +1,53 @@\n+const {ObjectID} = require('mongodb');\n+const jwt = require('jsonwebtoken');\n+\n+const {Todo} = require('./../../models/todo');\n+const {User} = require('./../../models/user');\n+\n+const userOneId = new ObjectID();\n+const userTwoId = new ObjectID();\n+const users = [{\n+    _id: userOneId,\n+    email: \"andrew@email.com\",\n+    password: \"userOnePass\",\n+    tokens: [{\n+        access: \"auth\",\n+        token: jwt.sign({_id: userOneId, access: \"auth\"},'abc123').toString()\n+    }]\n+}, {\n+    _id: userTwoId,\n+    email: \"jen@email.com\",\n+    password: \"userTwoPass\"\n+}];\n+\n+const todos = [{\n+    _id: new ObjectID(\"5bc476c31baed80d500f7c45\"),\n+    text: \"first test todo\"\n+}, {\n+    _id: new ObjectID(),\n+    text: \"second\",\n+    completed: true,\n+    completedAt: 123\n+}];\n+\n+const  populateTodos = (done) => {\n+    Todo.remove({}).then(() => {\n+        return Todo.insertMany(todos);\n+    }).then(() => {done()});\n+};\n+\n+const populateUsers = (done) => {\n+    User.remove({}).then(() => {\n+        var userOne = new User(users[0]).save();\n+        var userTwo = new User(users[1]).save();\n+\n+        return Promise.all([userOne, userTwo]);\n+    }).then(()=>done());\n+};\n+\n+module.exports = {\n+    todos,\n+    populateTodos,\n+    users,\n+    populateUsers\n+};\n\\ No newline at end of file"
            },
            {
              "filename": "server/tests/server.test.js",
              "patch": "@@ -4,22 +4,11 @@ const {ObjectID} = require('mongodb');\n \n const {app} = require('./../server');\n const {Todo} = require('./../models/todo');\n+const {User} = require('./../models/user');\n+const {todos, populateTodos, users, populateUsers} = require('./seed/seed');\n \n-const todos = [{\n-    _id: new ObjectID(\"5bc476c31baed80d500f7c45\"),\n-    text: \"first test todo\"\n-}, {\n-    _id: new ObjectID(),\n-    text: \"second\",\n-    completed: true,\n-    completedAt: 123\n-}];\n-\n-beforeEach((done) => {\n-    Todo.remove({}).then(() => {\n-        return Todo.insertMany(todos);\n-    }).then(() => {done()});\n-}); \n+beforeEach(populateUsers);\n+beforeEach(populateTodos);\n \n describe('POST /todos', () => {\n     it ('should create a new todo', (done) => {\n@@ -172,4 +161,85 @@ describe('PATCH /todos/:id', () => {\n             })\n             .end(done);\n     });\n+});\n+\n+describe('GET /users/me', () => {\n+    it('should return user if authenticated', (done) => {\n+        request(app)\n+            .get('/users/me')\n+            .set('x-auth', users[0].tokens[0].token)\n+            .expect(200)\n+            .expect((res) => {\n+                expect(res.body._id).toBe(users[0]._id.toHexString());\n+                expect(res.body.email).toBe(users[0].email);\n+            })\n+            .end(done);\n+    });\n+\n+    it('should return 401 if not auth', (done) => {\n+        request(app)\n+            .get('/users/me')\n+            .expect(401)\n+            .expect((res) => {\n+                expect(res.body).toEqual({});\n+            })\n+            .end(done);\n+    });\n+});\n+\n+describe('POST /users', () => {\n+    it('should create a user', (done) => {\n+        var email = \"email@email.com\";\n+        var password = \"123abc!\";\n+\n+        request(app)\n+            .post(\"/users\")\n+            .send({email, password})\n+            .expect(200)\n+            .expect((res) => {\n+                expect(res.header['x-auth']).toBeTruthy();\n+                expect(res.body._id).toBeTruthy();\n+                expect(res.body.email).toBe(email);\n+            })\n+            .end((err) => {\n+                if(err) {\n+                    return done(err);\n+                }\n+                User.findOne({email}).then((user) => {\n+                    expect(user).toBeTruthy();\n+                    expect(user.password).not.toBe(password);\n+                    done();\n+                });\n+            });\n+    });\n+\n+    it('should return validation errors if request invalid', (done) => {\n+        var email = \"e\";\n+        var password = \"123abc!\";   \n+        \n+        request(app)\n+            .post(\"/users\")\n+            .send({email,password})\n+            .expect(400)\n+            .end((err) => {\n+                if(err) {\n+                    return done(err);\n+                }\n+                User.findOne({email}).then((user) => {\n+                    expect(user).toBeFalsy();\n+                    done();\n+                });\n+            });\n+    });\n+\n+    it('should not create a user if email in use', (done) => {\n+        var email = \"andrew@email.com\";\n+        var password = \"123abc!\";\n+        \n+        request(app)\n+            .post(\"/users\")\n+            .send({email,password})\n+            .expect(400)\n+            .end(done);\n+    });\n });\n\\ No newline at end of file"
            }
          ]
        },
        {
          "sha": "6a7a478ad331a467132ba37f04cb89d0b3ebdde8",
          "message": "hash user password before saving",
          "author": "Leon",
          "files": [
            {
              "filename": "package-lock.json",
              "patch": "@@ -495,6 +495,11 @@\n         }\n       }\n     },\n+    \"bcryptjs\": {\n+      \"version\": \"2.4.3\",\n+      \"resolved\": \"https://registry.npmjs.org/bcryptjs/-/bcryptjs-2.4.3.tgz\",\n+      \"integrity\": \"sha1-mrVie5PmBiH/fNrF2pczAn3x0Ms=\"\n+    },\n     \"binary-extensions\": {\n       \"version\": \"1.12.0\",\n       \"resolved\": \"https://registry.npmjs.org/binary-extensions/-/binary-extensions-1.12.0.tgz\","
            },
            {
              "filename": "package.json",
              "patch": "@@ -11,6 +11,7 @@\n   \"author\": \"\",\n   \"license\": \"ISC\",\n   \"dependencies\": {\n+    \"bcryptjs\": \"^2.4.3\",\n     \"body-parser\": \"^1.18.3\",\n     \"crypto-js\": \"^3.1.9-1\",\n     \"express\": \"^4.16.4\","
            },
            {
              "filename": "playground/hashing.js",
              "patch": "@@ -1,23 +1,38 @@\n // const {SHA256} = require('crypto-js');\n const jwt = require ('jsonwebtoken');\n+const bcrypt = require ('bcryptjs');\n+\n+var password = '123abc!';\n+\n+bcrypt.genSalt(10, (err, salt) => {\n+    bcrypt.hash(password, salt, (err, hash) => {\n+        console.log(hash);\n+    });\n+});\n+\n+var hashedPassword = '$2a$10$ZrZZM/POdDiRmuwgrmtcLuq4RrpqJmulray3yGMhthpZgs16C1jEu';\n+\n+bcrypt.compare(password, hashedPassword,(err, res) => {\n+    console.log(res);\n+});\n \n \n // var message = \"I am user 1\";\n \n // var hash = SHA256(message).toString();\n-// console.log(hash);\n+// // console.log(hash);\n \n-var data = {\n-    id: 4\n-};\n+// var data = {\n+//     id: 4\n+// };\n \n-// var token = {\n-//     data,\n-//     hash: SHA256(JSON.stringify(data)).toString()\n-// }\n+// // var token = {\n+// //     data,\n+// //     hash: SHA256(JSON.stringify(data)).toString()\n+// // }\n \n-var token = jwt.sign(data, '123abc');\n+// var token = jwt.sign(data, '123abc');\n \n-console.log(token);\n-var decoded = jwt.verify(token, '123abc');\n-console.log(decoded);\n\\ No newline at end of file\n+// console.log(token);\n+// var decoded = jwt.verify(token, '123abc');\n+// console.log(decoded);\n\\ No newline at end of file"
            },
            {
              "filename": "server/models/user.js",
              "patch": "@@ -2,6 +2,7 @@ const validator = require('validator');\n const mongoose = require('mongoose');\n const jwt = require('jsonwebtoken');\n const _ = require('lodash');\n+const bcrypt = require ('bcryptjs');\n \n var UserSchema = new mongoose.Schema({\n     email: {\n@@ -74,6 +75,20 @@ UserSchema.statics.findByToken = function (token) {\n     });\n };\n \n+UserSchema.pre('save', function (next) {\n+    var user = this;\n+    if (user.isModified('password')) {\n+        bcrypt.genSalt(10, (err, salt) => {\n+            bcrypt.hash(user.password, salt, (err, hash) => {\n+                user.password = hash;\n+                next();\n+            });\n+        });\n+    }else {\n+        next();\n+    }\n+});\n+\n var User = mongoose.model('User', UserSchema);\n \n // var newUser = new User({"
            }
          ]
        },
        {
          "sha": "1ca12c2027104f4ffdcb1fa43676a3641b2eec56",
          "message": "add Get /users/me and authentication middleware",
          "author": "Leon",
          "files": [
            {
              "filename": "server/middleware/authenticate.js",
              "patch": "@@ -0,0 +1,19 @@\n+var {User} = require('./../models/user')\n+\n+var authenticate = (req,res,next) => {\n+    var token = req.header('x-auth');\n+\n+    User.findByToken(token).then((user) =>{\n+        if(!user){\n+            return Promise.reject();\n+        }\n+\n+        req.user = user;\n+        req.token = token;\n+        next();\n+    }).catch((e) => {\n+        res.status(401).send();\n+    });\n+};\n+\n+module.exports = {authenticate};\n\\ No newline at end of file"
            },
            {
              "filename": "server/models/user.js",
              "patch": "@@ -54,6 +54,26 @@ UserSchema.methods.generateAuthToken = function () {\n     });\n };\n \n+UserSchema.statics.findByToken = function (token) {\n+    var User = this;\n+    var decoded;\n+\n+    try {\n+        decoded = jwt.verify(token, 'abc123');\n+    } catch(e) {\n+        // return new Promise((resolve, reject) => {\n+        //     reject();\n+        // });\n+        return Promise.reject();\n+    }\n+\n+    return User.findOne({\n+        '_id': decoded._id,\n+        'tokens.token': token,\n+        'tokens.access': 'auth'\n+    });\n+};\n+\n var User = mongoose.model('User', UserSchema);\n \n // var newUser = new User({"
            },
            {
              "filename": "server/server.js",
              "patch": "@@ -7,6 +7,7 @@ const {ObjectId} = require('mongodb');\n var {mongoose} = require('./db/mongoose.js');\n var {Todo} = require('./models/todo.js');\n var {User} = require('./models/user.js');\n+var {authenticate} = require('./middleware/authenticate');\n \n \n var app = express();\n@@ -99,6 +100,10 @@ app.post('/users', (req, res) => {\n     });\n });\n \n+app.get('/users/me', authenticate, (req,res) => {\n+    res.send(req.user);\n+});\n+\n app.listen(port, () => {\n     console.log(`Started on port ${port}`);\n });"
            }
          ]
        },
        {
          "sha": "4a10b66ed1e9053078fa52c2aff4d19c02037529",
          "message": "add POST /users route and token method",
          "author": "Leon",
          "files": [
            {
              "filename": "package-lock.json",
              "patch": "@@ -580,6 +580,11 @@\n       \"resolved\": \"https://registry.npmjs.org/bson/-/bson-1.1.0.tgz\",\n       \"integrity\": \"sha512-9Aeai9TacfNtWXOYarkFJRW2CWo+dRon+fuLZYJmvLV3+MiUp0bEI6IAZfXEIg7/Pl/7IWlLaDnhzTsD81etQA==\"\n     },\n+    \"buffer-equal-constant-time\": {\n+      \"version\": \"1.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/buffer-equal-constant-time/-/buffer-equal-constant-time-1.0.1.tgz\",\n+      \"integrity\": \"sha1-+OcRMvf/5uAaXJaXpMbz5I1cyBk=\"\n+    },\n     \"bytes\": {\n       \"version\": \"3.0.0\",\n       \"resolved\": \"https://registry.npmjs.org/bytes/-/bytes-3.0.0.tgz\",\n@@ -917,6 +922,11 @@\n         \"which\": \"^1.2.9\"\n       }\n     },\n+    \"crypto-js\": {\n+      \"version\": \"3.1.9-1\",\n+      \"resolved\": \"https://registry.npmjs.org/crypto-js/-/crypto-js-3.1.9-1.tgz\",\n+      \"integrity\": \"sha1-/aGedh/Ad+Af+/3G6f38WeiAbNg=\"\n+    },\n     \"crypto-random-string\": {\n       \"version\": \"1.0.0\",\n       \"resolved\": \"https://registry.npmjs.org/crypto-random-string/-/crypto-random-string-1.0.0.tgz\",\n@@ -1039,6 +1049,14 @@\n       \"integrity\": \"sha1-7gHdHKwO08vH/b6jfcCo8c4ALOI=\",\n       \"dev\": true\n     },\n+    \"ecdsa-sig-formatter\": {\n+      \"version\": \"1.0.10\",\n+      \"resolved\": \"https://registry.npmjs.org/ecdsa-sig-formatter/-/ecdsa-sig-formatter-1.0.10.tgz\",\n+      \"integrity\": \"sha1-HFlQAPBKiJffuFAAiSoPTDOvhsM=\",\n+      \"requires\": {\n+        \"safe-buffer\": \"^5.0.1\"\n+      }\n+    },\n     \"ee-first\": {\n       \"version\": \"1.1.1\",\n       \"resolved\": \"https://registry.npmjs.org/ee-first/-/ee-first-1.1.1.tgz\",\n@@ -2359,6 +2377,48 @@\n       \"integrity\": \"sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==\",\n       \"dev\": true\n     },\n+    \"jsonwebtoken\": {\n+      \"version\": \"8.3.0\",\n+      \"resolved\": \"https://registry.npmjs.org/jsonwebtoken/-/jsonwebtoken-8.3.0.tgz\",\n+      \"integrity\": \"sha512-oge/hvlmeJCH+iIz1DwcO7vKPkNGJHhgkspk8OH3VKlw+mbi42WtD4ig1+VXRln765vxptAv+xT26Fd3cteqag==\",\n+      \"requires\": {\n+        \"jws\": \"^3.1.5\",\n+        \"lodash.includes\": \"^4.3.0\",\n+        \"lodash.isboolean\": \"^3.0.3\",\n+        \"lodash.isinteger\": \"^4.0.4\",\n+        \"lodash.isnumber\": \"^3.0.3\",\n+        \"lodash.isplainobject\": \"^4.0.6\",\n+        \"lodash.isstring\": \"^4.0.1\",\n+        \"lodash.once\": \"^4.0.0\",\n+        \"ms\": \"^2.1.1\"\n+      },\n+      \"dependencies\": {\n+        \"ms\": {\n+          \"version\": \"2.1.1\",\n+          \"resolved\": \"https://registry.npmjs.org/ms/-/ms-2.1.1.tgz\",\n+          \"integrity\": \"sha512-tgp+dl5cGk28utYktBsrFqA7HKgrhgPsg6Z/EfhWI4gl1Hwq8B/GmY/0oXZ6nF8hDVesS/FpnYaD/kOWhYQvyg==\"\n+        }\n+      }\n+    },\n+    \"jwa\": {\n+      \"version\": \"1.1.6\",\n+      \"resolved\": \"https://registry.npmjs.org/jwa/-/jwa-1.1.6.tgz\",\n+      \"integrity\": \"sha512-tBO/cf++BUsJkYql/kBbJroKOgHWEigTKBAjjBEmrMGYd1QMBC74Hr4Wo2zCZw6ZrVhlJPvoMrkcOnlWR/DJfw==\",\n+      \"requires\": {\n+        \"buffer-equal-constant-time\": \"1.0.1\",\n+        \"ecdsa-sig-formatter\": \"1.0.10\",\n+        \"safe-buffer\": \"^5.0.1\"\n+      }\n+    },\n+    \"jws\": {\n+      \"version\": \"3.1.5\",\n+      \"resolved\": \"https://registry.npmjs.org/jws/-/jws-3.1.5.tgz\",\n+      \"integrity\": \"sha512-GsCSexFADNQUr8T5HPJvayTjvPIfoyJPtLQBwn5a4WZQchcrPMPMAWcC1AzJVRDKyD6ZPROPAxgv6rfHViO4uQ==\",\n+      \"requires\": {\n+        \"jwa\": \"^1.1.5\",\n+        \"safe-buffer\": \"^5.0.1\"\n+      }\n+    },\n     \"kareem\": {\n       \"version\": \"2.3.0\",\n       \"resolved\": \"https://registry.npmjs.org/kareem/-/kareem-2.3.0.tgz\",\n@@ -2398,6 +2458,41 @@\n       \"resolved\": \"https://registry.npmjs.org/lodash.get/-/lodash.get-4.4.2.tgz\",\n       \"integrity\": \"sha1-LRd/ZS+jHpObRDjVNBSZ36OCXpk=\"\n     },\n+    \"lodash.includes\": {\n+      \"version\": \"4.3.0\",\n+      \"resolved\": \"https://registry.npmjs.org/lodash.includes/-/lodash.includes-4.3.0.tgz\",\n+      \"integrity\": \"sha1-YLuYqHy5I8aMoeUTJUgzFISfVT8=\"\n+    },\n+    \"lodash.isboolean\": {\n+      \"version\": \"3.0.3\",\n+      \"resolved\": \"https://registry.npmjs.org/lodash.isboolean/-/lodash.isboolean-3.0.3.tgz\",\n+      \"integrity\": \"sha1-bC4XHbKiV82WgC/UOwGyDV9YcPY=\"\n+    },\n+    \"lodash.isinteger\": {\n+      \"version\": \"4.0.4\",\n+      \"resolved\": \"https://registry.npmjs.org/lodash.isinteger/-/lodash.isinteger-4.0.4.tgz\",\n+      \"integrity\": \"sha1-YZwK89A/iwTDH1iChAt3sRzWg0M=\"\n+    },\n+    \"lodash.isnumber\": {\n+      \"version\": \"3.0.3\",\n+      \"resolved\": \"https://registry.npmjs.org/lodash.isnumber/-/lodash.isnumber-3.0.3.tgz\",\n+      \"integrity\": \"sha1-POdoEMWSjQM1IwGsKHMX8RwLH/w=\"\n+    },\n+    \"lodash.isplainobject\": {\n+      \"version\": \"4.0.6\",\n+      \"resolved\": \"https://registry.npmjs.org/lodash.isplainobject/-/lodash.isplainobject-4.0.6.tgz\",\n+      \"integrity\": \"sha1-fFJqUtibRcRcxpC4gWO+BJf1UMs=\"\n+    },\n+    \"lodash.isstring\": {\n+      \"version\": \"4.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/lodash.isstring/-/lodash.isstring-4.0.1.tgz\",\n+      \"integrity\": \"sha1-1SfftUVuynzJu5XV2ur4i6VKVFE=\"\n+    },\n+    \"lodash.once\": {\n+      \"version\": \"4.1.1\",\n+      \"resolved\": \"https://registry.npmjs.org/lodash.once/-/lodash.once-4.1.1.tgz\",\n+      \"integrity\": \"sha1-DdOXEhPHxW34gJd9UEyI+0cal6w=\"\n+    },\n     \"lowercase-keys\": {\n       \"version\": \"1.0.1\",\n       \"resolved\": \"https://registry.npmjs.org/lowercase-keys/-/lowercase-keys-1.0.1.tgz\",\n@@ -4175,6 +4270,11 @@\n       \"resolved\": \"https://registry.npmjs.org/utils-merge/-/utils-merge-1.0.1.tgz\",\n       \"integrity\": \"sha1-n5VxD1CiZ5R7LMwSR0HBAoQn5xM=\"\n     },\n+    \"validator\": {\n+      \"version\": \"10.8.0\",\n+      \"resolved\": \"https://registry.npmjs.org/validator/-/validator-10.8.0.tgz\",\n+      \"integrity\": \"sha512-mXqMxfCh5NLsVgYVKl9WvnHNDPCcbNppHSPPowu0VjtSsGWVY+z8hJF44edLR1nbLNzi3jYoYsIl8KZpioIk6g==\"\n+    },\n     \"vary\": {\n       \"version\": \"1.1.2\",\n       \"resolved\": \"https://registry.npmjs.org/vary/-/vary-1.1.2.tgz\","
            },
            {
              "filename": "package.json",
              "patch": "@@ -12,10 +12,13 @@\n   \"license\": \"ISC\",\n   \"dependencies\": {\n     \"body-parser\": \"^1.18.3\",\n+    \"crypto-js\": \"^3.1.9-1\",\n     \"express\": \"^4.16.4\",\n+    \"jsonwebtoken\": \"^8.3.0\",\n     \"lodash\": \"^4.17.11\",\n     \"mongodb\": \"^3.1.8\",\n-    \"mongoose\": \"^5.3.3\"\n+    \"mongoose\": \"^5.3.3\",\n+    \"validator\": \"^10.8.0\"\n   },\n   \"devDependencies\": {\n     \"expect\": \"^23.6.0\","
            },
            {
              "filename": "playground/hashing.js",
              "patch": "@@ -0,0 +1,23 @@\n+// const {SHA256} = require('crypto-js');\n+const jwt = require ('jsonwebtoken');\n+\n+\n+// var message = \"I am user 1\";\n+\n+// var hash = SHA256(message).toString();\n+// console.log(hash);\n+\n+var data = {\n+    id: 4\n+};\n+\n+// var token = {\n+//     data,\n+//     hash: SHA256(JSON.stringify(data)).toString()\n+// }\n+\n+var token = jwt.sign(data, '123abc');\n+\n+console.log(token);\n+var decoded = jwt.verify(token, '123abc');\n+console.log(decoded);\n\\ No newline at end of file"
            },
            {
              "filename": "server/models/user.js",
              "patch": "@@ -1,18 +1,61 @@\n-var mongoose = require('mongoose');\n+const validator = require('validator');\n+const mongoose = require('mongoose');\n+const jwt = require('jsonwebtoken');\n+const _ = require('lodash');\n \n-var User = mongoose.model('User', {\n-    user: {\n-        type: String,\n-        required: true\n-    },\n+var UserSchema = new mongoose.Schema({\n     email: {\n         type: String,\n         required: true,\n         minlength: 1,\n-        trim: true\n-    }\n+        trim: true,\n+        unique: true,\n+        validate: {\n+            validator: validator.isEmail,\n+            message: '{VALUE} is not valid email'\n+        }\n+    },\n+    password: {\n+        type: String,\n+        required: true,\n+        minlength: 6\n+    },\n+    tokens: [{\n+        access: {\n+            type: String,\n+            required: true\n+        },\n+        token: {\n+            type: String,\n+            required: true\n+        }\n+    }]\n });\n \n+UserSchema.methods.toJSON = function() {\n+    var user = this;\n+    var userObject = user.toObject();\n+\n+    return _.pick(userObject, ['_id', 'email']);\n+};\n+\n+UserSchema.methods.generateAuthToken = function () {\n+    var user = this;\n+    var access = 'auth';\n+    var token = jwt.sign({_id: user._id.toHexString(), access},'abc123').toString();\n+\n+    user.tokens = user.tokens.concat([{access,token}]);\n+    // console.log('User.js _____________________');\n+    // console.log(user, access, token);\n+    // console.log('User.js ____________________');\n+\n+    return user.save().then(() => {\n+        return token;\n+    });\n+};\n+\n+var User = mongoose.model('User', UserSchema);\n+\n // var newUser = new User({\n //     user: \"lola\",\n //     email: \"lola@gmail.com\""
            },
            {
              "filename": "server/server.js",
              "patch": "@@ -84,6 +84,21 @@ app.patch('/todos/:id', (req,res) =>{\n     });\n });\n \n+app.post('/users', (req, res) => {\n+    var body = _.pick(req.body, ['email', 'password']);\n+    var user = new User(body);\n+\n+    user.save().then((user) => {\n+        // console.log(user);\n+        return user.generateAuthToken();\n+    }).then((token) => {\n+        // console.log(token);\n+        res.header('x-auth', token).send(user);\n+    }).catch((e) => {\n+        res.status(400).send(e);\n+    });\n+});\n+\n app.listen(port, () => {\n     console.log(`Started on port ${port}`);\n });"
            }
          ]
        },
        {
          "sha": "770a08611b9bb8a59c647bfb1151aa4abfc43b8b",
          "message": "development env fix",
          "author": "Leon",
          "files": [
            {
              "filename": "debug.log",
              "patch": "@@ -0,0 +1 @@\n+[1016/112327.623:ERROR:crash_report_database_win.cc(428)] unexpected header"
            },
            {
              "filename": "server/config/config.js",
              "patch": "@@ -3,7 +3,7 @@ var env = process.env.NODE_ENV || 'development';\n if (env === 'development') {\n     process.env.PORT = 3000;\n     process.env.MONGODB_URI = 'mongodb://localhost:27017/TodoApp';\n-} else {\n+} else if (env === 'test') {\n     process.env.PORT = 3000;\n     process.env.MONGODB_URI = 'mongodb://localhost:27017/TodoAppTest';\n }\n\\ No newline at end of file"
            }
          ]
        },
        {
          "sha": "aca6391a2956bcba18b76c9b9480a79f946fa8d4",
          "message": "Setup seperate test and development env",
          "author": "Leon",
          "files": [
            {
              "filename": "package.json",
              "patch": "@@ -5,7 +5,7 @@\n   \"main\": \"index.js\",\n   \"scripts\": {\n     \"start\": \"node server/server.js\",\n-    \"test\": \"SET \\\"NODE_ENV=test\\\" && mocha server/**/*.test.js --timeout=5000\",\n+    \"test\": \"export NODE_ENV=test || SET \\\"NODE_ENV=test\\\" && mocha server/**/*.test.js --timeout=5000\",\n     \"test-watch\": \"nodemon --exec \\\"npm test\\\"\"\n   },\n   \"author\": \"\","
            },
            {
              "filename": "server/config/config.js",
              "patch": "@@ -0,0 +1,9 @@\n+var env = process.env.NODE_ENV || 'development';\n+\n+if (env === 'development') {\n+    process.env.PORT = 3000;\n+    process.env.MONGODB_URI = 'mongodb://localhost:27017/TodoApp';\n+} else {\n+    process.env.PORT = 3000;\n+    process.env.MONGODB_URI = 'mongodb://localhost:27017/TodoAppTest';\n+}\n\\ No newline at end of file"
            },
            {
              "filename": "server/db/mongoose.js",
              "patch": "@@ -1,7 +1,7 @@\n const mongoose = require('mongoose');\n \n mongoose.Promise = global.Promise;\n-mongoose.connect(process.env.MONGODB_URI || 'mongodb://localhost:27017/TodoApp', {useNewUrlParser: true});\n+mongoose.connect(process.env.MONGODB_URI, {useNewUrlParser: true});\n \n module.exports = {\n     mongoose"
            },
            {
              "filename": "server/server.js",
              "patch": "@@ -1,3 +1,4 @@\n+require('./config/config');\n const _ = require('lodash');\n const express = require('express');\n const bodyParser = require('body-parser');\n@@ -9,7 +10,7 @@ var {User} = require('./models/user.js');\n \n \n var app = express();\n-const port = process.env.PORT || 3000;\n+const port = process.env.PORT;\n \n app.use(bodyParser.json());\n "
            }
          ]
        },
        {
          "sha": "cca89418d4f6e1f4f0a8ce5e3128ef28def27fdd",
          "message": "add test for PATCH /todos/:id",
          "author": "Leon",
          "files": [
            {
              "filename": "server/tests/server.test.js",
              "patch": "@@ -10,7 +10,9 @@ const todos = [{\n     text: \"first test todo\"\n }, {\n     _id: new ObjectID(),\n-    text: \"second\"\n+    text: \"second\",\n+    completed: true,\n+    completedAt: 123\n }];\n \n beforeEach((done) => {\n@@ -83,9 +85,9 @@ describe('GET /todos/:id', () => {\n     });\n \n     it('should return 404 if todo not found', (done) => {\n-        var tempID = todos[0]._id.toHexString()+1;\n+        var id = todos[0]._id.toHexString()+1;\n         request(app)\n-            .get(`/todos/${tempID}`)\n+            .get(`/todos/${id}`)\n             .expect(404)\n             .end(done);\n     });\n@@ -101,19 +103,19 @@ describe('GET /todos/:id', () => {\n describe('DELETE /todos/:id', () => {\n \n     it('should remove a todo by id', (done) => {\n-        var tempID = todos[1]._id.toHexString();\n+        var id = todos[1]._id.toHexString();\n         request(app)\n-            .delete(`/todos/${tempID}`)\n+            .delete(`/todos/${id}`)\n             .expect(200)\n             .expect((res) =>{\n-                expect(res.body.todo._id).toBe(tempID);\n+                expect(res.body.todo._id).toBe(id);\n             })\n             .end((err,res) => {\n                 if (err) {\n                 return done(err);\n                 }\n \n-                Todo.findById(tempID).then((todo) => {\n+                Todo.findById(id).then((todo) => {\n                     expect(todo).toBeFalsy();\n                     done();\n                 }).catch((e)=>done(e));\n@@ -122,9 +124,9 @@ describe('DELETE /todos/:id', () => {\n     });\n \n     it('should return 404 if todo not found', (done) => {\n-        var tempID = todos[0]._id.toHexString()+1;\n+        var id = todos[0]._id.toHexString()+1;\n         request(app)\n-            .delete(`/todos/${tempID}`)\n+            .delete(`/todos/${id}`)\n             .expect(404)\n             .end(done);\n     });\n@@ -135,4 +137,39 @@ describe('DELETE /todos/:id', () => {\n             .expect(404)\n             .end(done);\n     });\n+});\n+\n+describe('PATCH /todos/:id', () => {\n+    it('should update  todo', (done) => {\n+        var id = todos[0]._id.toHexString();\n+        var text = \"updated\";\n+        request(app)\n+            .patch(`/todos/${id}`)\n+            .send({\n+                text,\n+                completed: true\n+            })\n+            .expect(200)\n+            .expect((res)=>{\n+                expect(res.body.todo.text).toBe(text);\n+                expect(res.body.todo.completed).toBe(true);\n+                expect(typeof(res.body.todo.completedAt)).toBe('number');\n+            })\n+            .end(done);\n+    });\n+\n+    it('should clear completedAt when todo is not completed', (done) => {\n+        var id = todos[1]._id.toHexString();\n+        request(app)\n+            .patch(`/todos/${id}`)\n+            .send({\n+                completed: false\n+            })\n+            .expect(200)\n+            .expect((res) => {\n+                expect(res.body.todo.completed).toBe(false);\n+                expect(res.body.todo.completedAt).toBe(null);\n+            })\n+            .end(done);\n+    });\n });\n\\ No newline at end of file"
            }
          ]
        },
        {
          "sha": "82ab708c7bf4df3268fad1eb2d919bb6fc00b715",
          "message": "add PATCH /todos/:id",
          "author": "Leon",
          "files": [
            {
              "filename": "package.json",
              "patch": "@@ -13,6 +13,7 @@\n   \"dependencies\": {\n     \"body-parser\": \"^1.18.3\",\n     \"express\": \"^4.16.4\",\n+    \"lodash\": \"^4.17.11\",\n     \"mongodb\": \"^3.1.8\",\n     \"mongoose\": \"^5.3.3\"\n   },"
            },
            {
              "filename": "server/server.js",
              "patch": "@@ -1,5 +1,6 @@\n-var express = require('express');\n-var bodyParser = require('body-parser');\n+const _ = require('lodash');\n+const express = require('express');\n+const bodyParser = require('body-parser');\n const {ObjectId} = require('mongodb');\n \n var {mongoose} = require('./db/mongoose.js');\n@@ -45,7 +46,9 @@ app.get('/todos/:id', (req,res) => {\n \n app.delete('/todos/:id', (req,res) => {\n     var id = req.params.id;\n+\n     if (!ObjectId.isValid(id)) return res.status(404).send();\n+\n     Todo.findByIdAndRemove(id).then((todo) => {\n         if (!todo) {\n             return res.status(404).send();\n@@ -56,6 +59,30 @@ app.delete('/todos/:id', (req,res) => {\n     });\n });\n \n+app.patch('/todos/:id', (req,res) =>{\n+    var id = req.params.id;\n+    var body = _.pick(req.body, ['text', 'completed']);\n+\n+    if (!ObjectId.isValid(id)) return res.status(404).send();\n+\n+    if (_.isBoolean(body.completed) && body.completed) {\n+        body.completedAt = new Date().getTime();\n+    } else {\n+        body.completed = false;\n+        body.completedAt = null;\n+    }\n+\n+    Todo.findByIdAndUpdate(id, {$set: body}, {new: true}).then((todo) => {\n+        if (!todo) {\n+            return res.status(404).send();\n+        }\n+\n+        res.send({todo});\n+    }).catch((e) => {\n+        res.status(400).send();\n+    });\n+});\n+\n app.listen(port, () => {\n     console.log(`Started on port ${port}`);\n });"
            }
          ]
        },
        {
          "sha": "895c3c494005a47a00bf2362067c7182836d0876",
          "message": "test the DELETE /todos/:id",
          "author": "Leon",
          "files": [
            {
              "filename": "server/server.js",
              "patch": "@@ -36,7 +36,7 @@ app.get('/todos/:id', (req,res) => {\n     if (!ObjectId.isValid(id)) return res.status(404).send();\n \n     Todo.findById(id).then((todo) => {\n-        if(todo) return res.send(todo);\n+        if(todo) return res.send({todo});\n         return res.status(404).send();\n     }).catch((e) => {\n         res.status(400).send();\n@@ -50,7 +50,7 @@ app.delete('/todos/:id', (req,res) => {\n         if (!todo) {\n             return res.status(404).send();\n         }\n-        res.send(todo);\n+        res.send({todo});\n     }).catch((e) => {\n         res.status(400).send();\n     });"
            },
            {
              "filename": "server/tests/server.test.js",
              "patch": "@@ -6,7 +6,7 @@ const {app} = require('./../server');\n const {Todo} = require('./../models/todo');\n \n const todos = [{\n-    _id: new ObjectID(),\n+    _id: new ObjectID(\"5bc476c31baed80d500f7c45\"),\n     text: \"first test todo\"\n }, {\n     _id: new ObjectID(),\n@@ -77,7 +77,7 @@ describe('GET /todos/:id', () => {\n             .get(`/todos/${todos[0]._id.toHexString()}`)\n             .expect(200)\n             .expect((res) => {\n-                expect(res.body.text).toBe(todos[0].text);\n+                expect(res.body.todo.text).toBe(todos[0].text);\n             })\n             .end(done);\n     });\n@@ -96,4 +96,43 @@ describe('GET /todos/:id', () => {\n             .expect(404)\n             .end(done);\n     });\n+});\n+\n+describe('DELETE /todos/:id', () => {\n+\n+    it('should remove a todo by id', (done) => {\n+        var tempID = todos[1]._id.toHexString();\n+        request(app)\n+            .delete(`/todos/${tempID}`)\n+            .expect(200)\n+            .expect((res) =>{\n+                expect(res.body.todo._id).toBe(tempID);\n+            })\n+            .end((err,res) => {\n+                if (err) {\n+                return done(err);\n+                }\n+\n+                Todo.findById(tempID).then((todo) => {\n+                    expect(todo).toBeFalsy();\n+                    done();\n+                }).catch((e)=>done(e));\n+\n+            });\n+    });\n+\n+    it('should return 404 if todo not found', (done) => {\n+        var tempID = todos[0]._id.toHexString()+1;\n+        request(app)\n+            .delete(`/todos/${tempID}`)\n+            .expect(404)\n+            .end(done);\n+    });\n+\n+    it('should return 404 for non object id', (done) => {\n+        request(app)\n+            .delete(`/todos/123`)\n+            .expect(404)\n+            .end(done);\n+    });\n });\n\\ No newline at end of file"
            }
          ]
        },
        {
          "sha": "7624212ec4c149e640262919be1d98d4b05b3205",
          "message": "add DELETE /todos/:id",
          "author": "Leon",
          "files": [
            {
              "filename": "playground/mongoose-remove.js",
              "patch": "@@ -0,0 +1,13 @@\n+const {ObjectId} = require('mongodb');\n+\n+const {mongoose} = require('./../server/db/mongoose');\n+const {Todo} = require('./../server/models/todo');\n+const {User} = require('./../server/models/user');\n+\n+// removes everything\n+// Todo.remove({}).then((result) => {\n+//     console.log(result);\n+// });\n+\n+// Todo.findOneAndRemove({}).then();\n+// Todo.findByIdAndRemove(id).then();\n\\ No newline at end of file"
            },
            {
              "filename": "server/server.js",
              "patch": "@@ -43,6 +43,19 @@ app.get('/todos/:id', (req,res) => {\n     });\n });\n \n+app.delete('/todos/:id', (req,res) => {\n+    var id = req.params.id;\n+    if (!ObjectId.isValid(id)) return res.status(404).send();\n+    Todo.findByIdAndRemove(id).then((todo) => {\n+        if (!todo) {\n+            return res.status(404).send();\n+        }\n+        res.send(todo);\n+    }).catch((e) => {\n+        res.status(400).send();\n+    });\n+});\n+\n app.listen(port, () => {\n     console.log(`Started on port ${port}`);\n });"
            }
          ]
        },
        {
          "sha": "53b3de599cf330538b0ad060fa689100f2fcf293",
          "message": "try again heroku",
          "author": "Leon",
          "files": [
            {
              "filename": "server/server.js",
              "patch": "@@ -4,7 +4,7 @@ const {ObjectId} = require('mongodb');\n \n var {mongoose} = require('./db/mongoose.js');\n var {Todo} = require('./models/todo.js');\n-var {User} = require('./models/User.js');\n+var {User} = require('./models/user.js');\n \n \n var app = express();"
            }
          ]
        },
        {
          "sha": "39113189142b7b577174bf7d28b1f4f6693ff60f",
          "message": "setup app for heroku",
          "author": "Leon",
          "files": [
            {
              "filename": "package.json",
              "patch": "@@ -4,6 +4,7 @@\n   \"description\": \"\",\n   \"main\": \"index.js\",\n   \"scripts\": {\n+    \"start\": \"node server/server.js\",\n     \"test\": \"SET \\\"NODE_ENV=test\\\" && mocha server/**/*.test.js --timeout=5000\",\n     \"test-watch\": \"nodemon --exec \\\"npm test\\\"\"\n   },"
            },
            {
              "filename": "server/db/mongoose.js",
              "patch": "@@ -1,7 +1,7 @@\n const mongoose = require('mongoose');\n \n mongoose.Promise = global.Promise;\n-mongoose.connect('mongodb://localhost:27017/TodoApp', {useNewUrlParser: true});\n+mongoose.connect(process.env.MONGODB_URI || 'mongodb://localhost:27017/TodoApp', {useNewUrlParser: true});\n \n module.exports = {\n     mongoose"
            },
            {
              "filename": "server/server.js",
              "patch": "@@ -8,6 +8,7 @@ var {User} = require('./models/User.js');\n \n \n var app = express();\n+const port = process.env.PORT || 3000;\n \n app.use(bodyParser.json());\n \n@@ -42,8 +43,8 @@ app.get('/todos/:id', (req,res) => {\n     });\n });\n \n-app.listen(3000, () => {\n-    console.log('started on port 3000');\n+app.listen(port, () => {\n+    console.log(`Started on port ${port}`);\n });\n \n module.exports = {app};\n\\ No newline at end of file"
            }
          ]
        },
        {
          "sha": "984519832c5173f20ef9df8aba4df854c5ce565a",
          "message": "added test for GET /todos/:id",
          "author": "Leon",
          "files": [
            {
              "filename": "package.json",
              "patch": "@@ -4,7 +4,7 @@\n   \"description\": \"\",\n   \"main\": \"index.js\",\n   \"scripts\": {\n-    \"test\": \"mocha server/**/*.test.js\",\n+    \"test\": \"SET \\\"NODE_ENV=test\\\" && mocha server/**/*.test.js --timeout=5000\",\n     \"test-watch\": \"nodemon --exec \\\"npm test\\\"\"\n   },\n   \"author\": \"\","
            },
            {
              "filename": "server/tests/server.test.js",
              "patch": "@@ -1,10 +1,17 @@\n const expect = require('expect');\n const request = require('supertest');\n+const {ObjectID} = require('mongodb');\n \n const {app} = require('./../server');\n const {Todo} = require('./../models/todo');\n \n-const todos = [{text: \"first test todo\"}, {text: \"second\"}];\n+const todos = [{\n+    _id: new ObjectID(),\n+    text: \"first test todo\"\n+}, {\n+    _id: new ObjectID(),\n+    text: \"second\"\n+}];\n \n beforeEach((done) => {\n     Todo.remove({}).then(() => {\n@@ -60,6 +67,33 @@ describe('GET /todos', () => {\n             .expect((res) => {\n                 expect(res.body.todos.length).toBe(2);\n             })\n-            .end(done());\n+            .end(done);\n+    });\n+});\n+\n+describe('GET /todos/:id', () => {\n+    it('should return todo doc', (done) => {\n+        request(app)\n+            .get(`/todos/${todos[0]._id.toHexString()}`)\n+            .expect(200)\n+            .expect((res) => {\n+                expect(res.body.text).toBe(todos[0].text);\n+            })\n+            .end(done);\n+    });\n+\n+    it('should return 404 if todo not found', (done) => {\n+        var tempID = todos[0]._id.toHexString()+1;\n+        request(app)\n+            .get(`/todos/${tempID}`)\n+            .expect(404)\n+            .end(done);\n+    });\n+\n+    it('should return 404 for non object id', (done) => {\n+        request(app)\n+            .get(`/todos/123`)\n+            .expect(404)\n+            .end(done);\n     });\n });\n\\ No newline at end of file"
            }
          ]
        },
        {
          "sha": "b0fcb15972e70250165faff4ee026cd6b3c01073",
          "message": "Add GET /todos/:id",
          "author": "Leon",
          "files": [
            {
              "filename": "server/server.js",
              "patch": "@@ -1,10 +1,12 @@\n var express = require('express');\n var bodyParser = require('body-parser');\n+const {ObjectId} = require('mongodb');\n \n var {mongoose} = require('./db/mongoose.js');\n var {Todo} = require('./models/todo.js');\n var {User} = require('./models/User.js');\n \n+\n var app = express();\n \n app.use(bodyParser.json());\n@@ -28,6 +30,18 @@ app.get('/todos', (req,res) => {\n     });\n });\n \n+app.get('/todos/:id', (req,res) => {\n+    var id = req.params.id;\n+    if (!ObjectId.isValid(id)) return res.status(404).send();\n+\n+    Todo.findById(id).then((todo) => {\n+        if(todo) return res.send(todo);\n+        return res.status(404).send();\n+    }).catch((e) => {\n+        res.status(400).send();\n+    });\n+});\n+\n app.listen(3000, () => {\n     console.log('started on port 3000');\n });"
            }
          ]
        },
        {
          "sha": "577c61d8b128ef70742cc1e2da6f6ab84add75bd",
          "message": "add mongoose queries playground",
          "author": "Leon",
          "files": [
            {
              "filename": "playground/mongoose-queries.js",
              "patch": "@@ -0,0 +1,38 @@\n+const {ObjectId} = require('mongodb');\n+\n+const {mongoose} = require('./../server/db/mongoose');\n+const {Todo} = require('./../server/models/todo');\n+const {User} = require('./../server/models/user');\n+\n+var id = \"5bc1ddbfedf0692c381702b0\";\n+\n+// if (!ObjectId.isValid(id)){\n+//     console.log('id not valid');\n+// };\n+\n+// Todo.find({\n+//     _id: id\n+// }).then((todos) => {\n+//     console.log(todos);\n+// });\n+\n+// Todo.findOne({\n+//     _id: id\n+// }).then((todo) => {\n+//     if (!todo) {\n+//         return console.log('no todo');\n+//     };\n+//     console.log(todo);\n+// });\n+\n+// Todo.findById(id).then((todoById) => {\n+//     if (!todoById) {\n+//         return console.log('no todoById');\n+//     };\n+//     console.log(todoById);\n+// }).catch((e)=>console.log(e));\n+\n+User.findById(id).then((userById) => {\n+    if(!userById) return console.log('no user by id');\n+    console.log(userById);\n+}).catch((e)=>console.log(e));\n\\ No newline at end of file"
            }
          ]
        },
        {
          "sha": "6505e6b14de0bb713cfcfabeb01d8976a02d6302",
          "message": "add test for GET /todos",
          "author": "Leon",
          "files": [
            {
              "filename": "server/tests/server.test.js",
              "patch": "@@ -4,8 +4,12 @@ const request = require('supertest');\n const {app} = require('./../server');\n const {Todo} = require('./../models/todo');\n \n+const todos = [{text: \"first test todo\"}, {text: \"second\"}];\n+\n beforeEach((done) => {\n-    Todo.remove({}).then(()=>done());\n+    Todo.remove({}).then(() => {\n+        return Todo.insertMany(todos);\n+    }).then(() => {done()});\n }); \n \n describe('POST /todos', () => {\n@@ -23,7 +27,7 @@ describe('POST /todos', () => {\n                 if (err) {\n                     return done(err);\n                 }\n-                Todo.find().then((todos) => {\n+                Todo.find({text}).then((todos) => {\n                     expect(todos.length).toBe(1);\n                     expect(todos[0].text).toBe(text);\n                     done();\n@@ -41,9 +45,21 @@ describe('POST /todos', () => {\n                     return done(err);\n                 }\n                 Todo.find().then((todos) => {\n-                    expect(todos.length).toBe(0);\n+                    expect(todos.length).toBe(2);\n                     done();\n                 }).catch((e) => {done(e)});\n             })\n     });\n+});\n+\n+describe('GET /todos', () => {\n+    it('should get all todos', (done) => {\n+        request(app)\n+            .get('/todos')\n+            .expect(200)\n+            .expect((res) => {\n+                expect(res.body.todos.length).toBe(2);\n+            })\n+            .end(done());\n+    });\n });\n\\ No newline at end of file"
            }
          ]
        },
        {
          "sha": "a70f8161ef051acef165a1823e3a47e09c5d0d54",
          "message": "add GET /todos route",
          "author": "Leon",
          "files": [
            {
              "filename": "server/server.js",
              "patch": "@@ -20,6 +20,14 @@ app.post('/todos', (req, res) => {\n     });\n });\n \n+app.get('/todos', (req,res) => {\n+    Todo.find().then((todos) => {\n+        res.send({todos});\n+    }, (e) => {\n+        res.status(400).send(e);\n+    });\n+});\n+\n app.listen(3000, () => {\n     console.log('started on port 3000');\n });"
            }
          ]
        },
        {
          "sha": "5d8ed049cfca29276d81b05c663f38b0d1a610a3",
          "message": "added test POST /todos",
          "author": "Leon",
          "files": [
            {
              "filename": "package-lock.json",
              "patch": "No diff"
            },
            {
              "filename": "package.json",
              "patch": "@@ -4,7 +4,8 @@\n   \"description\": \"\",\n   \"main\": \"index.js\",\n   \"scripts\": {\n-    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n+    \"test\": \"mocha server/**/*.test.js\",\n+    \"test-watch\": \"nodemon --exec \\\"npm test\\\"\"\n   },\n   \"author\": \"\",\n   \"license\": \"ISC\",\n@@ -13,5 +14,11 @@\n     \"express\": \"^4.16.4\",\n     \"mongodb\": \"^3.1.8\",\n     \"mongoose\": \"^5.3.3\"\n+  },\n+  \"devDependencies\": {\n+    \"expect\": \"^23.6.0\",\n+    \"mocha\": \"^5.2.0\",\n+    \"nodemon\": \"^1.18.4\",\n+    \"supertest\": \"^3.3.0\"\n   }\n }"
            },
            {
              "filename": "server/server.js",
              "patch": "@@ -2,7 +2,7 @@ var express = require('express');\n var bodyParser = require('body-parser');\n \n var {mongoose} = require('./db/mongoose.js');\n-var {Todo} = require('./models/Todo.js');\n+var {Todo} = require('./models/todo.js');\n var {User} = require('./models/User.js');\n \n var app = express();\n@@ -22,4 +22,6 @@ app.post('/todos', (req, res) => {\n \n app.listen(3000, () => {\n     console.log('started on port 3000');\n-});\n\\ No newline at end of file\n+});\n+\n+module.exports = {app};\n\\ No newline at end of file"
            },
            {
              "filename": "server/tests/server.test.js",
              "patch": "@@ -0,0 +1,49 @@\n+const expect = require('expect');\n+const request = require('supertest');\n+\n+const {app} = require('./../server');\n+const {Todo} = require('./../models/todo');\n+\n+beforeEach((done) => {\n+    Todo.remove({}).then(()=>done());\n+}); \n+\n+describe('POST /todos', () => {\n+    it ('should create a new todo', (done) => {\n+        var text = 'Test todo text';\n+\n+        request(app)\n+            .post('/todos')\n+            .send({text})\n+            .expect(200)\n+            .expect((res) => {\n+                expect(res.body.text).toBe(text);\n+            })\n+            .end((err, res) => {\n+                if (err) {\n+                    return done(err);\n+                }\n+                Todo.find().then((todos) => {\n+                    expect(todos.length).toBe(1);\n+                    expect(todos[0].text).toBe(text);\n+                    done();\n+                }).catch((e) => {done(e)});\n+            });\n+    });\n+\n+    it('should not create todo with invalid body data', (done) => {\n+        request(app)\n+            .post('/todos')\n+            .send({})\n+            .expect(400)\n+            .end((err,res) => {\n+                if(err) {\n+                    return done(err);\n+                }\n+                Todo.find().then((todos) => {\n+                    expect(todos.length).toBe(0);\n+                    done();\n+                }).catch((e) => {done(e)});\n+            })\n+    });\n+});\n\\ No newline at end of file"
            }
          ]
        },
        {
          "sha": "f7a69215df8fbf57844b7f55b1cdb5fa39e3c192",
          "message": "add POST /todos route and refactor mongoose",
          "author": "Leon",
          "files": [
            {
              "filename": "package-lock.json",
              "patch": "@@ -4,17 +4,302 @@\n   \"lockfileVersion\": 1,\n   \"requires\": true,\n   \"dependencies\": {\n+    \"accepts\": {\n+      \"version\": \"1.3.5\",\n+      \"resolved\": \"https://registry.npmjs.org/accepts/-/accepts-1.3.5.tgz\",\n+      \"integrity\": \"sha1-63d99gEXI6OxTopywIBcjoZ0a9I=\",\n+      \"requires\": {\n+        \"mime-types\": \"~2.1.18\",\n+        \"negotiator\": \"0.6.1\"\n+      }\n+    },\n+    \"array-flatten\": {\n+      \"version\": \"1.1.1\",\n+      \"resolved\": \"https://registry.npmjs.org/array-flatten/-/array-flatten-1.1.1.tgz\",\n+      \"integrity\": \"sha1-ml9pkFGx5wczKPKgCJaLZOopVdI=\"\n+    },\n+    \"async\": {\n+      \"version\": \"2.6.1\",\n+      \"resolved\": \"https://registry.npmjs.org/async/-/async-2.6.1.tgz\",\n+      \"integrity\": \"sha512-fNEiL2+AZt6AlAw/29Cr0UDe4sRAHCpEHh54WMz+Bb7QfNcFw4h3loofyJpLeQs4Yx7yuqu/2dLgM5hKOs6HlQ==\",\n+      \"requires\": {\n+        \"lodash\": \"^4.17.10\"\n+      }\n+    },\n+    \"bluebird\": {\n+      \"version\": \"3.5.1\",\n+      \"resolved\": \"https://registry.npmjs.org/bluebird/-/bluebird-3.5.1.tgz\",\n+      \"integrity\": \"sha512-MKiLiV+I1AA596t9w1sQJ8jkiSr5+ZKi0WKrYGUn6d1Fx+Ij4tIj+m2WMQSGczs5jZVxV339chE8iwk6F64wjA==\"\n+    },\n+    \"body-parser\": {\n+      \"version\": \"1.18.3\",\n+      \"resolved\": \"https://registry.npmjs.org/body-parser/-/body-parser-1.18.3.tgz\",\n+      \"integrity\": \"sha1-WykhmP/dVTs6DyDe0FkrlWlVyLQ=\",\n+      \"requires\": {\n+        \"bytes\": \"3.0.0\",\n+        \"content-type\": \"~1.0.4\",\n+        \"debug\": \"2.6.9\",\n+        \"depd\": \"~1.1.2\",\n+        \"http-errors\": \"~1.6.3\",\n+        \"iconv-lite\": \"0.4.23\",\n+        \"on-finished\": \"~2.3.0\",\n+        \"qs\": \"6.5.2\",\n+        \"raw-body\": \"2.3.3\",\n+        \"type-is\": \"~1.6.16\"\n+      },\n+      \"dependencies\": {\n+        \"debug\": {\n+          \"version\": \"2.6.9\",\n+          \"resolved\": \"https://registry.npmjs.org/debug/-/debug-2.6.9.tgz\",\n+          \"integrity\": \"sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==\",\n+          \"requires\": {\n+            \"ms\": \"2.0.0\"\n+          }\n+        }\n+      }\n+    },\n     \"bson\": {\n       \"version\": \"1.1.0\",\n       \"resolved\": \"https://registry.npmjs.org/bson/-/bson-1.1.0.tgz\",\n       \"integrity\": \"sha512-9Aeai9TacfNtWXOYarkFJRW2CWo+dRon+fuLZYJmvLV3+MiUp0bEI6IAZfXEIg7/Pl/7IWlLaDnhzTsD81etQA==\"\n     },\n+    \"bytes\": {\n+      \"version\": \"3.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/bytes/-/bytes-3.0.0.tgz\",\n+      \"integrity\": \"sha1-0ygVQE1olpn4Wk6k+odV3ROpYEg=\"\n+    },\n+    \"content-disposition\": {\n+      \"version\": \"0.5.2\",\n+      \"resolved\": \"https://registry.npmjs.org/content-disposition/-/content-disposition-0.5.2.tgz\",\n+      \"integrity\": \"sha1-DPaLud318r55YcOoUXjLhdunjLQ=\"\n+    },\n+    \"content-type\": {\n+      \"version\": \"1.0.4\",\n+      \"resolved\": \"https://registry.npmjs.org/content-type/-/content-type-1.0.4.tgz\",\n+      \"integrity\": \"sha512-hIP3EEPs8tB9AT1L+NUqtwOAps4mk2Zob89MWXMHjHWg9milF/j4osnnQLXBCBFBk/tvIG/tUc9mOUJiPBhPXA==\"\n+    },\n+    \"cookie\": {\n+      \"version\": \"0.3.1\",\n+      \"resolved\": \"https://registry.npmjs.org/cookie/-/cookie-0.3.1.tgz\",\n+      \"integrity\": \"sha1-5+Ch+e9DtMi6klxcWpboBtFoc7s=\"\n+    },\n+    \"cookie-signature\": {\n+      \"version\": \"1.0.6\",\n+      \"resolved\": \"https://registry.npmjs.org/cookie-signature/-/cookie-signature-1.0.6.tgz\",\n+      \"integrity\": \"sha1-4wOogrNCzD7oylE6eZmXNNqzriw=\"\n+    },\n+    \"debug\": {\n+      \"version\": \"3.1.0\",\n+      \"resolved\": \"https://registry.npmjs.org/debug/-/debug-3.1.0.tgz\",\n+      \"integrity\": \"sha512-OX8XqP7/1a9cqkxYw2yXss15f26NKWBpDXQd0/uK/KPqdQhxbPa994hnzjcE2VqQpDslf55723cKPUOGSmMY3g==\",\n+      \"requires\": {\n+        \"ms\": \"2.0.0\"\n+      }\n+    },\n+    \"depd\": {\n+      \"version\": \"1.1.2\",\n+      \"resolved\": \"https://registry.npmjs.org/depd/-/depd-1.1.2.tgz\",\n+      \"integrity\": \"sha1-m81S4UwJd2PnSbJ0xDRu0uVgtak=\"\n+    },\n+    \"destroy\": {\n+      \"version\": \"1.0.4\",\n+      \"resolved\": \"https://registry.npmjs.org/destroy/-/destroy-1.0.4.tgz\",\n+      \"integrity\": \"sha1-l4hXRCxEdJ5CBmE+N5RiBYJqvYA=\"\n+    },\n+    \"ee-first\": {\n+      \"version\": \"1.1.1\",\n+      \"resolved\": \"https://registry.npmjs.org/ee-first/-/ee-first-1.1.1.tgz\",\n+      \"integrity\": \"sha1-WQxhFWsK4vTwJVcyoViyZrxWsh0=\"\n+    },\n+    \"encodeurl\": {\n+      \"version\": \"1.0.2\",\n+      \"resolved\": \"https://registry.npmjs.org/encodeurl/-/encodeurl-1.0.2.tgz\",\n+      \"integrity\": \"sha1-rT/0yG7C0CkyL1oCw6mmBslbP1k=\"\n+    },\n+    \"escape-html\": {\n+      \"version\": \"1.0.3\",\n+      \"resolved\": \"https://registry.npmjs.org/escape-html/-/escape-html-1.0.3.tgz\",\n+      \"integrity\": \"sha1-Aljq5NPQwJdN4cFpGI7wBR0dGYg=\"\n+    },\n+    \"etag\": {\n+      \"version\": \"1.8.1\",\n+      \"resolved\": \"https://registry.npmjs.org/etag/-/etag-1.8.1.tgz\",\n+      \"integrity\": \"sha1-Qa4u62XvpiJorr/qg6x9eSmbCIc=\"\n+    },\n+    \"express\": {\n+      \"version\": \"4.16.4\",\n+      \"resolved\": \"https://registry.npmjs.org/express/-/express-4.16.4.tgz\",\n+      \"integrity\": \"sha512-j12Uuyb4FMrd/qQAm6uCHAkPtO8FDTRJZBDd5D2KOL2eLaz1yUNdUB/NOIyq0iU4q4cFarsUCrnFDPBcnksuOg==\",\n+      \"requires\": {\n+        \"accepts\": \"~1.3.5\",\n+        \"array-flatten\": \"1.1.1\",\n+        \"body-parser\": \"1.18.3\",\n+        \"content-disposition\": \"0.5.2\",\n+        \"content-type\": \"~1.0.4\",\n+        \"cookie\": \"0.3.1\",\n+        \"cookie-signature\": \"1.0.6\",\n+        \"debug\": \"2.6.9\",\n+        \"depd\": \"~1.1.2\",\n+        \"encodeurl\": \"~1.0.2\",\n+        \"escape-html\": \"~1.0.3\",\n+        \"etag\": \"~1.8.1\",\n+        \"finalhandler\": \"1.1.1\",\n+        \"fresh\": \"0.5.2\",\n+        \"merge-descriptors\": \"1.0.1\",\n+        \"methods\": \"~1.1.2\",\n+        \"on-finished\": \"~2.3.0\",\n+        \"parseurl\": \"~1.3.2\",\n+        \"path-to-regexp\": \"0.1.7\",\n+        \"proxy-addr\": \"~2.0.4\",\n+        \"qs\": \"6.5.2\",\n+        \"range-parser\": \"~1.2.0\",\n+        \"safe-buffer\": \"5.1.2\",\n+        \"send\": \"0.16.2\",\n+        \"serve-static\": \"1.13.2\",\n+        \"setprototypeof\": \"1.1.0\",\n+        \"statuses\": \"~1.4.0\",\n+        \"type-is\": \"~1.6.16\",\n+        \"utils-merge\": \"1.0.1\",\n+        \"vary\": \"~1.1.2\"\n+      },\n+      \"dependencies\": {\n+        \"debug\": {\n+          \"version\": \"2.6.9\",\n+          \"resolved\": \"https://registry.npmjs.org/debug/-/debug-2.6.9.tgz\",\n+          \"integrity\": \"sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==\",\n+          \"requires\": {\n+            \"ms\": \"2.0.0\"\n+          }\n+        },\n+        \"statuses\": {\n+          \"version\": \"1.4.0\",\n+          \"resolved\": \"https://registry.npmjs.org/statuses/-/statuses-1.4.0.tgz\",\n+          \"integrity\": \"sha512-zhSCtt8v2NDrRlPQpCNtw/heZLtfUDqxBM1udqikb/Hbk52LK4nQSwr10u77iopCW5LsyHpuXS0GnEc48mLeew==\"\n+        }\n+      }\n+    },\n+    \"finalhandler\": {\n+      \"version\": \"1.1.1\",\n+      \"resolved\": \"http://registry.npmjs.org/finalhandler/-/finalhandler-1.1.1.tgz\",\n+      \"integrity\": \"sha512-Y1GUDo39ez4aHAw7MysnUD5JzYX+WaIj8I57kO3aEPT1fFRL4sr7mjei97FgnwhAyyzRYmQZaTHb2+9uZ1dPtg==\",\n+      \"requires\": {\n+        \"debug\": \"2.6.9\",\n+        \"encodeurl\": \"~1.0.2\",\n+        \"escape-html\": \"~1.0.3\",\n+        \"on-finished\": \"~2.3.0\",\n+        \"parseurl\": \"~1.3.2\",\n+        \"statuses\": \"~1.4.0\",\n+        \"unpipe\": \"~1.0.0\"\n+      },\n+      \"dependencies\": {\n+        \"debug\": {\n+          \"version\": \"2.6.9\",\n+          \"resolved\": \"https://registry.npmjs.org/debug/-/debug-2.6.9.tgz\",\n+          \"integrity\": \"sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==\",\n+          \"requires\": {\n+            \"ms\": \"2.0.0\"\n+          }\n+        },\n+        \"statuses\": {\n+          \"version\": \"1.4.0\",\n+          \"resolved\": \"https://registry.npmjs.org/statuses/-/statuses-1.4.0.tgz\",\n+          \"integrity\": \"sha512-zhSCtt8v2NDrRlPQpCNtw/heZLtfUDqxBM1udqikb/Hbk52LK4nQSwr10u77iopCW5LsyHpuXS0GnEc48mLeew==\"\n+        }\n+      }\n+    },\n+    \"forwarded\": {\n+      \"version\": \"0.1.2\",\n+      \"resolved\": \"https://registry.npmjs.org/forwarded/-/forwarded-0.1.2.tgz\",\n+      \"integrity\": \"sha1-mMI9qxF1ZXuMBXPozszZGw/xjIQ=\"\n+    },\n+    \"fresh\": {\n+      \"version\": \"0.5.2\",\n+      \"resolved\": \"https://registry.npmjs.org/fresh/-/fresh-0.5.2.tgz\",\n+      \"integrity\": \"sha1-PYyt2Q2XZWn6g1qx+OSyOhBWBac=\"\n+    },\n+    \"http-errors\": {\n+      \"version\": \"1.6.3\",\n+      \"resolved\": \"http://registry.npmjs.org/http-errors/-/http-errors-1.6.3.tgz\",\n+      \"integrity\": \"sha1-i1VoC7S+KDoLW/TqLjhYC+HZMg0=\",\n+      \"requires\": {\n+        \"depd\": \"~1.1.2\",\n+        \"inherits\": \"2.0.3\",\n+        \"setprototypeof\": \"1.1.0\",\n+        \"statuses\": \">= 1.4.0 < 2\"\n+      }\n+    },\n+    \"iconv-lite\": {\n+      \"version\": \"0.4.23\",\n+      \"resolved\": \"https://registry.npmjs.org/iconv-lite/-/iconv-lite-0.4.23.tgz\",\n+      \"integrity\": \"sha512-neyTUVFtahjf0mB3dZT77u+8O0QB89jFdnBkd5P1JgYPbPaia3gXXOVL2fq8VyU2gMMD7SaN7QukTB/pmXYvDA==\",\n+      \"requires\": {\n+        \"safer-buffer\": \">= 2.1.2 < 3\"\n+      }\n+    },\n+    \"inherits\": {\n+      \"version\": \"2.0.3\",\n+      \"resolved\": \"https://registry.npmjs.org/inherits/-/inherits-2.0.3.tgz\",\n+      \"integrity\": \"sha1-Yzwsg+PaQqUC9SRmAiSA9CCCYd4=\"\n+    },\n+    \"ipaddr.js\": {\n+      \"version\": \"1.8.0\",\n+      \"resolved\": \"https://registry.npmjs.org/ipaddr.js/-/ipaddr.js-1.8.0.tgz\",\n+      \"integrity\": \"sha1-6qM9bd16zo9/b+DJygRA5wZzix4=\"\n+    },\n+    \"kareem\": {\n+      \"version\": \"2.3.0\",\n+      \"resolved\": \"https://registry.npmjs.org/kareem/-/kareem-2.3.0.tgz\",\n+      \"integrity\": \"sha512-6hHxsp9e6zQU8nXsP+02HGWXwTkOEw6IROhF2ZA28cYbUk4eJ6QbtZvdqZOdD9YPKghG3apk5eOCvs+tLl3lRg==\"\n+    },\n+    \"lodash\": {\n+      \"version\": \"4.17.11\",\n+      \"resolved\": \"https://registry.npmjs.org/lodash/-/lodash-4.17.11.tgz\",\n+      \"integrity\": \"sha512-cQKh8igo5QUhZ7lg38DYWAxMvjSAKG0A8wGSVimP07SIUEK2UO+arSRKbRZWtelMtN5V0Hkwh5ryOto/SshYIg==\"\n+    },\n+    \"lodash.get\": {\n+      \"version\": \"4.4.2\",\n+      \"resolved\": \"https://registry.npmjs.org/lodash.get/-/lodash.get-4.4.2.tgz\",\n+      \"integrity\": \"sha1-LRd/ZS+jHpObRDjVNBSZ36OCXpk=\"\n+    },\n+    \"media-typer\": {\n+      \"version\": \"0.3.0\",\n+      \"resolved\": \"https://registry.npmjs.org/media-typer/-/media-typer-0.3.0.tgz\",\n+      \"integrity\": \"sha1-hxDXrwqmJvj/+hzgAWhUUmMlV0g=\"\n+    },\n     \"memory-pager\": {\n       \"version\": \"1.1.0\",\n       \"resolved\": \"https://registry.npmjs.org/memory-pager/-/memory-pager-1.1.0.tgz\",\n       \"integrity\": \"sha512-Mf9OHV/Y7h6YWDxTzX/b4ZZ4oh9NSXblQL8dtPCOomOtZciEHxePR78+uHFLLlsk01A6jVHhHsQZZ/WcIPpnzg==\",\n       \"optional\": true\n     },\n+    \"merge-descriptors\": {\n+      \"version\": \"1.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/merge-descriptors/-/merge-descriptors-1.0.1.tgz\",\n+      \"integrity\": \"sha1-sAqqVW3YtEVoFQ7J0blT8/kMu2E=\"\n+    },\n+    \"methods\": {\n+      \"version\": \"1.1.2\",\n+      \"resolved\": \"https://registry.npmjs.org/methods/-/methods-1.1.2.tgz\",\n+      \"integrity\": \"sha1-VSmk1nZUE07cxSZmVoNbD4Ua/O4=\"\n+    },\n+    \"mime\": {\n+      \"version\": \"1.4.1\",\n+      \"resolved\": \"https://registry.npmjs.org/mime/-/mime-1.4.1.tgz\",\n+      \"integrity\": \"sha512-KI1+qOZu5DcW6wayYHSzR/tXKCDC5Om4s1z2QJjDULzLcmf3DvzS7oluY4HCTrc+9FiKmWUgeNLg7W3uIQvxtQ==\"\n+    },\n+    \"mime-db\": {\n+      \"version\": \"1.36.0\",\n+      \"resolved\": \"https://registry.npmjs.org/mime-db/-/mime-db-1.36.0.tgz\",\n+      \"integrity\": \"sha512-L+xvyD9MkoYMXb1jAmzI/lWYAxAMCPvIBSWur0PZ5nOf5euahRLVqH//FKW9mWp2lkqUgYiXPgkzfMUFi4zVDw==\"\n+    },\n+    \"mime-types\": {\n+      \"version\": \"2.1.20\",\n+      \"resolved\": \"https://registry.npmjs.org/mime-types/-/mime-types-2.1.20.tgz\",\n+      \"integrity\": \"sha512-HrkrPaP9vGuWbLK1B1FfgAkbqNjIuy4eHlIYnFi7kamZyLLrGlo2mpcx0bBmNpKqBtYtAfGbodDddIgddSJC2A==\",\n+      \"requires\": {\n+        \"mime-db\": \"~1.36.0\"\n+      }\n+    },\n     \"mongodb\": {\n       \"version\": \"3.1.8\",\n       \"resolved\": \"https://registry.npmjs.org/mongodb/-/mongodb-3.1.8.tgz\",\n@@ -35,6 +320,145 @@\n         \"saslprep\": \"^1.0.0\"\n       }\n     },\n+    \"mongoose\": {\n+      \"version\": \"5.3.3\",\n+      \"resolved\": \"https://registry.npmjs.org/mongoose/-/mongoose-5.3.3.tgz\",\n+      \"integrity\": \"sha512-GmfhOQ9OfZRVvf8Geq+XnIDjM6RtbJ2mNc5Ztf3lYSjlpwrVPXWBqIOCviGQVTSddwVEO0E88KTf3y+3fEU/aQ==\",\n+      \"requires\": {\n+        \"async\": \"2.6.1\",\n+        \"bson\": \"~1.0.5\",\n+        \"kareem\": \"2.3.0\",\n+        \"lodash.get\": \"4.4.2\",\n+        \"mongodb\": \"3.1.6\",\n+        \"mongodb-core\": \"3.1.5\",\n+        \"mongoose-legacy-pluralize\": \"1.0.2\",\n+        \"mpath\": \"0.5.1\",\n+        \"mquery\": \"3.2.0\",\n+        \"ms\": \"2.0.0\",\n+        \"regexp-clone\": \"0.0.1\",\n+        \"safe-buffer\": \"5.1.2\",\n+        \"sliced\": \"1.0.1\"\n+      },\n+      \"dependencies\": {\n+        \"bson\": {\n+          \"version\": \"1.0.9\",\n+          \"resolved\": \"https://registry.npmjs.org/bson/-/bson-1.0.9.tgz\",\n+          \"integrity\": \"sha512-IQX9/h7WdMBIW/q/++tGd+emQr0XMdeZ6icnT/74Xk9fnabWn+gZgpE+9V+gujL3hhJOoNrnDVY7tWdzc7NUTg==\"\n+        },\n+        \"mongodb\": {\n+          \"version\": \"3.1.6\",\n+          \"resolved\": \"https://registry.npmjs.org/mongodb/-/mongodb-3.1.6.tgz\",\n+          \"integrity\": \"sha512-E5QJuXQoMlT7KyCYqNNMfAkhfQD79AT4F8Xd+6x37OX+8BL17GyXyWvfm6wuyx4wnzCCPoCSLeMeUN2S7dU9yw==\",\n+          \"requires\": {\n+            \"mongodb-core\": \"3.1.5\",\n+            \"safe-buffer\": \"^5.1.2\"\n+          }\n+        },\n+        \"mongodb-core\": {\n+          \"version\": \"3.1.5\",\n+          \"resolved\": \"https://registry.npmjs.org/mongodb-core/-/mongodb-core-3.1.5.tgz\",\n+          \"integrity\": \"sha512-emT/tM4ZBinqd6RZok+EzDdtN4LjYJIckv71qQVOEFmvXgT5cperZegVmTgox/1cx4XQu6LJ5ZuIwipP/eKdQg==\",\n+          \"requires\": {\n+            \"bson\": \"^1.1.0\",\n+            \"require_optional\": \"^1.0.1\",\n+            \"safe-buffer\": \"^5.1.2\",\n+            \"saslprep\": \"^1.0.0\"\n+          },\n+          \"dependencies\": {\n+            \"bson\": {\n+              \"version\": \"1.1.0\",\n+              \"resolved\": \"https://registry.npmjs.org/bson/-/bson-1.1.0.tgz\",\n+              \"integrity\": \"sha512-9Aeai9TacfNtWXOYarkFJRW2CWo+dRon+fuLZYJmvLV3+MiUp0bEI6IAZfXEIg7/Pl/7IWlLaDnhzTsD81etQA==\"\n+            }\n+          }\n+        }\n+      }\n+    },\n+    \"mongoose-legacy-pluralize\": {\n+      \"version\": \"1.0.2\",\n+      \"resolved\": \"https://registry.npmjs.org/mongoose-legacy-pluralize/-/mongoose-legacy-pluralize-1.0.2.tgz\",\n+      \"integrity\": \"sha512-Yo/7qQU4/EyIS8YDFSeenIvXxZN+ld7YdV9LqFVQJzTLye8unujAWPZ4NWKfFA+RNjh+wvTWKY9Z3E5XM6ZZiQ==\"\n+    },\n+    \"mpath\": {\n+      \"version\": \"0.5.1\",\n+      \"resolved\": \"https://registry.npmjs.org/mpath/-/mpath-0.5.1.tgz\",\n+      \"integrity\": \"sha512-H8OVQ+QEz82sch4wbODFOz+3YQ61FYz/z3eJ5pIdbMEaUzDqA268Wd+Vt4Paw9TJfvDgVKaayC0gBzMIw2jhsg==\"\n+    },\n+    \"mquery\": {\n+      \"version\": \"3.2.0\",\n+      \"resolved\": \"https://registry.npmjs.org/mquery/-/mquery-3.2.0.tgz\",\n+      \"integrity\": \"sha512-qPJcdK/yqcbQiKoemAt62Y0BAc0fTEKo1IThodBD+O5meQRJT/2HSe5QpBNwaa4CjskoGrYWsEyjkqgiE0qjhg==\",\n+      \"requires\": {\n+        \"bluebird\": \"3.5.1\",\n+        \"debug\": \"3.1.0\",\n+        \"regexp-clone\": \"0.0.1\",\n+        \"safe-buffer\": \"5.1.2\",\n+        \"sliced\": \"1.0.1\"\n+      }\n+    },\n+    \"ms\": {\n+      \"version\": \"2.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/ms/-/ms-2.0.0.tgz\",\n+      \"integrity\": \"sha1-VgiurfwAvmwpAd9fmGF4jeDVl8g=\"\n+    },\n+    \"negotiator\": {\n+      \"version\": \"0.6.1\",\n+      \"resolved\": \"https://registry.npmjs.org/negotiator/-/negotiator-0.6.1.tgz\",\n+      \"integrity\": \"sha1-KzJxhOiZIQEXeyhWP7XnECrNDKk=\"\n+    },\n+    \"on-finished\": {\n+      \"version\": \"2.3.0\",\n+      \"resolved\": \"https://registry.npmjs.org/on-finished/-/on-finished-2.3.0.tgz\",\n+      \"integrity\": \"sha1-IPEzZIGwg811M3mSoWlxqi2QaUc=\",\n+      \"requires\": {\n+        \"ee-first\": \"1.1.1\"\n+      }\n+    },\n+    \"parseurl\": {\n+      \"version\": \"1.3.2\",\n+      \"resolved\": \"https://registry.npmjs.org/parseurl/-/parseurl-1.3.2.tgz\",\n+      \"integrity\": \"sha1-/CidTtiZMRlGDBViUyYs3I3mW/M=\"\n+    },\n+    \"path-to-regexp\": {\n+      \"version\": \"0.1.7\",\n+      \"resolved\": \"https://registry.npmjs.org/path-to-regexp/-/path-to-regexp-0.1.7.tgz\",\n+      \"integrity\": \"sha1-32BBeABfUi8V60SQ5yR6G/qmf4w=\"\n+    },\n+    \"proxy-addr\": {\n+      \"version\": \"2.0.4\",\n+      \"resolved\": \"https://registry.npmjs.org/proxy-addr/-/proxy-addr-2.0.4.tgz\",\n+      \"integrity\": \"sha512-5erio2h9jp5CHGwcybmxmVqHmnCBZeewlfJ0pex+UW7Qny7OOZXTtH56TGNyBizkgiOwhJtMKrVzDTeKcySZwA==\",\n+      \"requires\": {\n+        \"forwarded\": \"~0.1.2\",\n+        \"ipaddr.js\": \"1.8.0\"\n+      }\n+    },\n+    \"qs\": {\n+      \"version\": \"6.5.2\",\n+      \"resolved\": \"https://registry.npmjs.org/qs/-/qs-6.5.2.tgz\",\n+      \"integrity\": \"sha512-N5ZAX4/LxJmF+7wN74pUD6qAh9/wnvdQcjq9TZjevvXzSUo7bfmw91saqMjzGS2xq91/odN2dW/WOl7qQHNDGA==\"\n+    },\n+    \"range-parser\": {\n+      \"version\": \"1.2.0\",\n+      \"resolved\": \"https://registry.npmjs.org/range-parser/-/range-parser-1.2.0.tgz\",\n+      \"integrity\": \"sha1-9JvmtIeJTdxA3MlKMi9hEJLgDV4=\"\n+    },\n+    \"raw-body\": {\n+      \"version\": \"2.3.3\",\n+      \"resolved\": \"https://registry.npmjs.org/raw-body/-/raw-body-2.3.3.tgz\",\n+      \"integrity\": \"sha512-9esiElv1BrZoI3rCDuOuKCBRbuApGGaDPQfjSflGxdy4oyzqghxu6klEkkVIvBje+FF0BX9coEv8KqW6X/7njw==\",\n+      \"requires\": {\n+        \"bytes\": \"3.0.0\",\n+        \"http-errors\": \"1.6.3\",\n+        \"iconv-lite\": \"0.4.23\",\n+        \"unpipe\": \"1.0.0\"\n+      }\n+    },\n+    \"regexp-clone\": {\n+      \"version\": \"0.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/regexp-clone/-/regexp-clone-0.0.1.tgz\",\n+      \"integrity\": \"sha1-p8LgmJH9vzj7sQ03b7cwA+aKxYk=\"\n+    },\n     \"require_optional\": {\n       \"version\": \"1.0.1\",\n       \"resolved\": \"https://registry.npmjs.org/require_optional/-/require_optional-1.0.1.tgz\",\n@@ -54,6 +478,11 @@\n       \"resolved\": \"https://registry.npmjs.org/safe-buffer/-/safe-buffer-5.1.2.tgz\",\n       \"integrity\": \"sha512-Gd2UZBJDkXlY7GbJxfsE8/nvKkUEU1G38c1siN6QP6a9PT9MmHB8GnpscSmMJSoF8LOIrt8ud/wPtojys4G6+g==\"\n     },\n+    \"safer-buffer\": {\n+      \"version\": \"2.1.2\",\n+      \"resolved\": \"https://registry.npmjs.org/safer-buffer/-/safer-buffer-2.1.2.tgz\",\n+      \"integrity\": \"sha512-YZo3K82SD7Riyi0E1EQPojLz7kpepnSQI9IyPbHHg1XXXevb5dJI7tpyN2ADxGcQbHG7vcyRHk0cbwqcQriUtg==\"\n+    },\n     \"saslprep\": {\n       \"version\": \"1.0.2\",\n       \"resolved\": \"https://registry.npmjs.org/saslprep/-/saslprep-1.0.2.tgz\",\n@@ -68,6 +497,62 @@\n       \"resolved\": \"https://registry.npmjs.org/semver/-/semver-5.6.0.tgz\",\n       \"integrity\": \"sha512-RS9R6R35NYgQn++fkDWaOmqGoj4Ek9gGs+DPxNUZKuwE183xjJroKvyo1IzVFeXvUrvmALy6FWD5xrdJT25gMg==\"\n     },\n+    \"send\": {\n+      \"version\": \"0.16.2\",\n+      \"resolved\": \"https://registry.npmjs.org/send/-/send-0.16.2.tgz\",\n+      \"integrity\": \"sha512-E64YFPUssFHEFBvpbbjr44NCLtI1AohxQ8ZSiJjQLskAdKuriYEP6VyGEsRDH8ScozGpkaX1BGvhanqCwkcEZw==\",\n+      \"requires\": {\n+        \"debug\": \"2.6.9\",\n+        \"depd\": \"~1.1.2\",\n+        \"destroy\": \"~1.0.4\",\n+        \"encodeurl\": \"~1.0.2\",\n+        \"escape-html\": \"~1.0.3\",\n+        \"etag\": \"~1.8.1\",\n+        \"fresh\": \"0.5.2\",\n+        \"http-errors\": \"~1.6.2\",\n+        \"mime\": \"1.4.1\",\n+        \"ms\": \"2.0.0\",\n+        \"on-finished\": \"~2.3.0\",\n+        \"range-parser\": \"~1.2.0\",\n+        \"statuses\": \"~1.4.0\"\n+      },\n+      \"dependencies\": {\n+        \"debug\": {\n+          \"version\": \"2.6.9\",\n+          \"resolved\": \"https://registry.npmjs.org/debug/-/debug-2.6.9.tgz\",\n+          \"integrity\": \"sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==\",\n+          \"requires\": {\n+            \"ms\": \"2.0.0\"\n+          }\n+        },\n+        \"statuses\": {\n+          \"version\": \"1.4.0\",\n+          \"resolved\": \"https://registry.npmjs.org/statuses/-/statuses-1.4.0.tgz\",\n+          \"integrity\": \"sha512-zhSCtt8v2NDrRlPQpCNtw/heZLtfUDqxBM1udqikb/Hbk52LK4nQSwr10u77iopCW5LsyHpuXS0GnEc48mLeew==\"\n+        }\n+      }\n+    },\n+    \"serve-static\": {\n+      \"version\": \"1.13.2\",\n+      \"resolved\": \"https://registry.npmjs.org/serve-static/-/serve-static-1.13.2.tgz\",\n+      \"integrity\": \"sha512-p/tdJrO4U387R9oMjb1oj7qSMaMfmOyd4j9hOFoxZe2baQszgHcSWjuya/CiT5kgZZKRudHNOA0pYXOl8rQ5nw==\",\n+      \"requires\": {\n+        \"encodeurl\": \"~1.0.2\",\n+        \"escape-html\": \"~1.0.3\",\n+        \"parseurl\": \"~1.3.2\",\n+        \"send\": \"0.16.2\"\n+      }\n+    },\n+    \"setprototypeof\": {\n+      \"version\": \"1.1.0\",\n+      \"resolved\": \"https://registry.npmjs.org/setprototypeof/-/setprototypeof-1.1.0.tgz\",\n+      \"integrity\": \"sha512-BvE/TwpZX4FXExxOxZyRGQQv651MSwmWKZGqvmPcRIjDqWub67kTKuIMx43cZZrS/cBBzwBcNDWoFxt2XEFIpQ==\"\n+    },\n+    \"sliced\": {\n+      \"version\": \"1.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/sliced/-/sliced-1.0.1.tgz\",\n+      \"integrity\": \"sha1-CzpmK10Ewxd7GSa+qCsD+Dei70E=\"\n+    },\n     \"sparse-bitfield\": {\n       \"version\": \"3.0.3\",\n       \"resolved\": \"https://registry.npmjs.org/sparse-bitfield/-/sparse-bitfield-3.0.3.tgz\",\n@@ -76,6 +561,35 @@\n       \"requires\": {\n         \"memory-pager\": \"^1.0.2\"\n       }\n+    },\n+    \"statuses\": {\n+      \"version\": \"1.5.0\",\n+      \"resolved\": \"https://registry.npmjs.org/statuses/-/statuses-1.5.0.tgz\",\n+      \"integrity\": \"sha1-Fhx9rBd2Wf2YEfQ3cfqZOBR4Yow=\"\n+    },\n+    \"type-is\": {\n+      \"version\": \"1.6.16\",\n+      \"resolved\": \"https://registry.npmjs.org/type-is/-/type-is-1.6.16.tgz\",\n+      \"integrity\": \"sha512-HRkVv/5qY2G6I8iab9cI7v1bOIdhm94dVjQCPFElW9W+3GeDOSHmy2EBYe4VTApuzolPcmgFTN3ftVJRKR2J9Q==\",\n+      \"requires\": {\n+        \"media-typer\": \"0.3.0\",\n+        \"mime-types\": \"~2.1.18\"\n+      }\n+    },\n+    \"unpipe\": {\n+      \"version\": \"1.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/unpipe/-/unpipe-1.0.0.tgz\",\n+      \"integrity\": \"sha1-sr9O6FFKrmFltIF4KdIbLvSZBOw=\"\n+    },\n+    \"utils-merge\": {\n+      \"version\": \"1.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/utils-merge/-/utils-merge-1.0.1.tgz\",\n+      \"integrity\": \"sha1-n5VxD1CiZ5R7LMwSR0HBAoQn5xM=\"\n+    },\n+    \"vary\": {\n+      \"version\": \"1.1.2\",\n+      \"resolved\": \"https://registry.npmjs.org/vary/-/vary-1.1.2.tgz\",\n+      \"integrity\": \"sha1-IpnwLG3tMNSllhsLn3RSShj2NPw=\"\n     }\n   }\n }"
            },
            {
              "filename": "package.json",
              "patch": "@@ -9,6 +9,9 @@\n   \"author\": \"\",\n   \"license\": \"ISC\",\n   \"dependencies\": {\n-    \"mongodb\": \"^3.1.8\"\n+    \"body-parser\": \"^1.18.3\",\n+    \"express\": \"^4.16.4\",\n+    \"mongodb\": \"^3.1.8\",\n+    \"mongoose\": \"^5.3.3\"\n   }\n }"
            },
            {
              "filename": "server/db/mongoose.js",
              "patch": "@@ -0,0 +1,8 @@\n+const mongoose = require('mongoose');\n+\n+mongoose.Promise = global.Promise;\n+mongoose.connect('mongodb://localhost:27017/TodoApp', {useNewUrlParser: true});\n+\n+module.exports = {\n+    mongoose\n+};\n\\ No newline at end of file"
            },
            {
              "filename": "server/models/todo.js",
              "patch": "@@ -0,0 +1,31 @@\n+var mongoose = require('mongoose');\n+\n+var Todo = mongoose.model('Todo', {\n+    text: {\n+        type: String,\n+        required: true,\n+        minlength: 1,\n+        trim: true\n+    },\n+    completed: {\n+        type: Boolean,\n+        default: false\n+    },\n+    completedAt: {\n+        type: Number,\n+        default: null\n+    }\n+});\n+\n+// var newTodo = new Todo({\n+//     text: \"  Edit video  \",\n+//     completed: false\n+// });\n+\n+// newTodo.save().then((result) => {\n+//     console.log('Saved Todo', result);\n+// }, (e) => {\n+//     console.log('Unable to save.', e);\n+// });\n+\n+module.exports = {Todo};\n\\ No newline at end of file"
            },
            {
              "filename": "server/models/user.js",
              "patch": "@@ -0,0 +1,27 @@\n+var mongoose = require('mongoose');\n+\n+var User = mongoose.model('User', {\n+    user: {\n+        type: String,\n+        required: true\n+    },\n+    email: {\n+        type: String,\n+        required: true,\n+        minlength: 1,\n+        trim: true\n+    }\n+});\n+\n+// var newUser = new User({\n+//     user: \"lola\",\n+//     email: \"lola@gmail.com\"\n+// });\n+\n+// newUser.save().then((res) => {\n+//     console.log('saved', res);\n+// }, (e) => {\n+//     console.log('error occured', e);\n+// });\n+\n+module.exports = {User};\n\\ No newline at end of file"
            },
            {
              "filename": "server/server.js",
              "patch": "@@ -0,0 +1,25 @@\n+var express = require('express');\n+var bodyParser = require('body-parser');\n+\n+var {mongoose} = require('./db/mongoose.js');\n+var {Todo} = require('./models/Todo.js');\n+var {User} = require('./models/User.js');\n+\n+var app = express();\n+\n+app.use(bodyParser.json());\n+\n+app.post('/todos', (req, res) => {\n+    var todo = new Todo({\n+        text: req.body.text\n+    });\n+    todo.save().then((doc) => {\n+        res.send(doc);\n+    }, (e) => {\n+        res.status(400).send(e);\n+    });\n+});\n+\n+app.listen(3000, () => {\n+    console.log('started on port 3000');\n+});\n\\ No newline at end of file"
            }
          ]
        },
        {
          "sha": "d44f98b4e168554a80fe7630b333b1010d77e42a",
          "message": "Add update script",
          "author": "Leon",
          "files": [
            {
              "filename": "playground/mongodb-delete.js",
              "patch": "@@ -1,4 +1,4 @@\n-const {MongoClient, ObjectID} = require('mongodb');\n+const {MongoClient, ObjectId} = require('mongodb');\n \n MongoClient.connect('mongodb://localhost:27017/TodoApp', (err, client) => {\n     if (err) {\n@@ -18,10 +18,10 @@ MongoClient.connect('mongodb://localhost:27017/TodoApp', (err, client) => {\n     // });\n \n     db.collection('Users').findOneAndDelete({\n-        name: \"Leon\"\n+        _id: new ObjectId(\"5bc1bd6a595e2e6ca02af4f5\")\n     }).then((result) => {\n         console.log(result);\n     });\n     \n-    client.close();\n+    //client.close();\n });\n\\ No newline at end of file"
            },
            {
              "filename": "playground/mongodb-update.js",
              "patch": "@@ -0,0 +1,26 @@\n+const {MongoClient, ObjectID} = require('mongodb');\n+\n+MongoClient.connect('mongodb://localhost:27017/TodoApp', (err, client) => {\n+    if (err) {\n+        return console.log('Unable to connect to db');\n+    }\n+\n+    console.log('Connected to MongoDB server.');\n+\n+    const db = client.db('TodoApp');\n+\n+    db.collection('Users').findOneAndUpdate({\n+        _id: ObjectID(\"5bc1bd5b595e2e6ca02af4e4\")\n+    }, { $set: {\n+        name: \"Leon\"\n+        }, $inc: {\n+            age: 1\n+        }\n+    }, {\n+        returnOriginal: false\n+    }).then((result) => {\n+        console.log(result);\n+    });\n+    \n+    client.close();\n+});\n\\ No newline at end of file"
            }
          ]
        },
        {
          "sha": "7feb2aee728bd214a485227aaf1939cf270593ee",
          "message": "Add delete and find",
          "author": "Leon",
          "files": [
            {
              "filename": "playground/mongodb-delete.js",
              "patch": "@@ -0,0 +1,27 @@\n+const {MongoClient, ObjectID} = require('mongodb');\n+\n+MongoClient.connect('mongodb://localhost:27017/TodoApp', (err, client) => {\n+    if (err) {\n+        return console.log('Unable to connect to db');\n+    }\n+\n+    console.log('Connected to MongoDB server.');\n+\n+    const db = client.db('TodoApp');\n+\n+    // db.collection('Users').deleteMany({text: \"Eat lunch\"}).then((result) => {\n+    //     console.log(result);\n+    // });\n+\n+    // db.collection('Todos').deleteOne({text: \"Eat lunch\"}).then((result) => {\n+    //     console.log(result);\n+    // });\n+\n+    db.collection('Users').findOneAndDelete({\n+        name: \"Leon\"\n+    }).then((result) => {\n+        console.log(result);\n+    });\n+    \n+    client.close();\n+});\n\\ No newline at end of file"
            },
            {
              "filename": "playground/mongodb-find.js",
              "patch": "@@ -14,7 +14,7 @@ MongoClient.connect('mongodb://localhost:27017/TodoApp', (err, client) => {\n         console.log(JSON.stringify(docs, undefined,2));\n     }, (err) => {\n         console.log('Unable to fetch todos', err);\n-    })\n+    });\n     \n //      client.close();\n });\n\\ No newline at end of file"
            }
          ]
        },
        {
          "sha": "52845f8c0634838f0655a03c26874abbd6ae6d6e",
          "message": "Init commit",
          "author": "Leon",
          "files": [
            {
              "filename": ".gitignore",
              "patch": "@@ -0,0 +1 @@\n+node_modules/\n\\ No newline at end of file"
            },
            {
              "filename": "package-lock.json",
              "patch": "@@ -0,0 +1,81 @@\n+{\n+  \"name\": \"todo-api\",\n+  \"version\": \"1.0.0\",\n+  \"lockfileVersion\": 1,\n+  \"requires\": true,\n+  \"dependencies\": {\n+    \"bson\": {\n+      \"version\": \"1.1.0\",\n+      \"resolved\": \"https://registry.npmjs.org/bson/-/bson-1.1.0.tgz\",\n+      \"integrity\": \"sha512-9Aeai9TacfNtWXOYarkFJRW2CWo+dRon+fuLZYJmvLV3+MiUp0bEI6IAZfXEIg7/Pl/7IWlLaDnhzTsD81etQA==\"\n+    },\n+    \"memory-pager\": {\n+      \"version\": \"1.1.0\",\n+      \"resolved\": \"https://registry.npmjs.org/memory-pager/-/memory-pager-1.1.0.tgz\",\n+      \"integrity\": \"sha512-Mf9OHV/Y7h6YWDxTzX/b4ZZ4oh9NSXblQL8dtPCOomOtZciEHxePR78+uHFLLlsk01A6jVHhHsQZZ/WcIPpnzg==\",\n+      \"optional\": true\n+    },\n+    \"mongodb\": {\n+      \"version\": \"3.1.8\",\n+      \"resolved\": \"https://registry.npmjs.org/mongodb/-/mongodb-3.1.8.tgz\",\n+      \"integrity\": \"sha512-yNKwYxQ6m00NV6+pMoWoheFTHSQVv1KkSrfOhRDYMILGWDYtUtQRqHrFqU75rmPIY8hMozVft8zdC4KYMWaM3Q==\",\n+      \"requires\": {\n+        \"mongodb-core\": \"3.1.7\",\n+        \"safe-buffer\": \"^5.1.2\"\n+      }\n+    },\n+    \"mongodb-core\": {\n+      \"version\": \"3.1.7\",\n+      \"resolved\": \"https://registry.npmjs.org/mongodb-core/-/mongodb-core-3.1.7.tgz\",\n+      \"integrity\": \"sha512-YffpSrLmgFNmrvkGx+yX00KyBNk64C0BalfEn6vHHkXtcMUGXw8nxrMmhq5eXPLLlYeBpD/CsgNxE2Chf0o4zQ==\",\n+      \"requires\": {\n+        \"bson\": \"^1.1.0\",\n+        \"require_optional\": \"^1.0.1\",\n+        \"safe-buffer\": \"^5.1.2\",\n+        \"saslprep\": \"^1.0.0\"\n+      }\n+    },\n+    \"require_optional\": {\n+      \"version\": \"1.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/require_optional/-/require_optional-1.0.1.tgz\",\n+      \"integrity\": \"sha512-qhM/y57enGWHAe3v/NcwML6a3/vfESLe/sGM2dII+gEO0BpKRUkWZow/tyloNqJyN6kXSl3RyyM8Ll5D/sJP8g==\",\n+      \"requires\": {\n+        \"resolve-from\": \"^2.0.0\",\n+        \"semver\": \"^5.1.0\"\n+      }\n+    },\n+    \"resolve-from\": {\n+      \"version\": \"2.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/resolve-from/-/resolve-from-2.0.0.tgz\",\n+      \"integrity\": \"sha1-lICrIOlP+h2egKgEx+oUdhGWa1c=\"\n+    },\n+    \"safe-buffer\": {\n+      \"version\": \"5.1.2\",\n+      \"resolved\": \"https://registry.npmjs.org/safe-buffer/-/safe-buffer-5.1.2.tgz\",\n+      \"integrity\": \"sha512-Gd2UZBJDkXlY7GbJxfsE8/nvKkUEU1G38c1siN6QP6a9PT9MmHB8GnpscSmMJSoF8LOIrt8ud/wPtojys4G6+g==\"\n+    },\n+    \"saslprep\": {\n+      \"version\": \"1.0.2\",\n+      \"resolved\": \"https://registry.npmjs.org/saslprep/-/saslprep-1.0.2.tgz\",\n+      \"integrity\": \"sha512-4cDsYuAjXssUSjxHKRe4DTZC0agDwsCqcMqtJAQPzC74nJ7LfAJflAtC1Zed5hMzEQKj82d3tuzqdGNRsLJ4Gw==\",\n+      \"optional\": true,\n+      \"requires\": {\n+        \"sparse-bitfield\": \"^3.0.3\"\n+      }\n+    },\n+    \"semver\": {\n+      \"version\": \"5.6.0\",\n+      \"resolved\": \"https://registry.npmjs.org/semver/-/semver-5.6.0.tgz\",\n+      \"integrity\": \"sha512-RS9R6R35NYgQn++fkDWaOmqGoj4Ek9gGs+DPxNUZKuwE183xjJroKvyo1IzVFeXvUrvmALy6FWD5xrdJT25gMg==\"\n+    },\n+    \"sparse-bitfield\": {\n+      \"version\": \"3.0.3\",\n+      \"resolved\": \"https://registry.npmjs.org/sparse-bitfield/-/sparse-bitfield-3.0.3.tgz\",\n+      \"integrity\": \"sha1-/0rm5oZWBWuks+eSqzM004JzyhE=\",\n+      \"optional\": true,\n+      \"requires\": {\n+        \"memory-pager\": \"^1.0.2\"\n+      }\n+    }\n+  }\n+}"
            },
            {
              "filename": "package.json",
              "patch": "@@ -0,0 +1,14 @@\n+{\n+  \"name\": \"todo-api\",\n+  \"version\": \"1.0.0\",\n+  \"description\": \"\",\n+  \"main\": \"index.js\",\n+  \"scripts\": {\n+    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n+  },\n+  \"author\": \"\",\n+  \"license\": \"ISC\",\n+  \"dependencies\": {\n+    \"mongodb\": \"^3.1.8\"\n+  }\n+}"
            },
            {
              "filename": "playground/mongodb-connect.js",
              "patch": "@@ -0,0 +1,38 @@\n+//const MongoClient = require('mongodb').MongoClient;\n+const {MongoClient, ObjectID} = require('mongodb');\n+\n+// var obj = new ObjectID();\n+// console.log(obj);\n+\n+MongoClient.connect('mongodb://localhost:27017/TodoApp', (err, client) => {\n+    if (err) {\n+        return console.log('Unable to connect to db');\n+    }\n+\n+    console.log('Connected to MongoDB server.');\n+\n+    const db = client.db('TodoApp');\n+\n+    // db.collection('Todos').insertOne({\n+    //     text: 'Something else to do',\n+    //     completed: false\n+    // }, (err, res) => {\n+    //     if (err) {\n+    //         return console.log('Unable to insert Todo', err);\n+    //     }\n+\n+    //     console.log(JSON.stringify(res.ops, undefined, 2));\n+    // });\n+    // db.collection('Users').insertOne({\n+    //     name: 'Leon',\n+    //     age: 28,\n+    //     location: 'Croatia'\n+    // }, (err, res) => {\n+    //     if (err) {\n+    //         return console.log('you failed!');\n+    //     }\n+    //     console.log(JSON.stringify(res.ops, undefined, 2));\n+    // });\n+    \n+    client.close();\n+});\n\\ No newline at end of file"
            },
            {
              "filename": "playground/mongodb-find.js",
              "patch": "@@ -0,0 +1,20 @@\n+const {MongoClient, ObjectID} = require('mongodb');\n+\n+MongoClient.connect('mongodb://localhost:27017/TodoApp', (err, client) => {\n+    if (err) {\n+        return console.log('Unable to connect to db');\n+    }\n+\n+    console.log('Connected to MongoDB server.');\n+\n+    const db = client.db('TodoApp');\n+\n+    db.collection('Users').find({name: 'Leon'}).toArray().then((docs) => {\n+        console.log('Users');\n+        console.log(JSON.stringify(docs, undefined,2));\n+    }, (err) => {\n+        console.log('Unable to fetch todos', err);\n+    })\n+    \n+//      client.close();\n+});\n\\ No newline at end of file"
            }
          ]
        }
      ]
    },
    {
      "name": "node-course-web-server",
      "description": null,
      "language": "JavaScript",
      "commits": [
        {
          "sha": "673db2508ab1d33473696b1a47258b0af9d865e3",
          "message": "Add project page",
          "author": "Leon",
          "files": [
            {
              "filename": "server.js",
              "patch": "@@ -55,6 +55,13 @@ app.get('/bad', (req,res) => {\n     });\n });\n \n+app.get('/projects', (req,res) => {\n+    res.render('projects.hbs', {\n+        pageTitle: 'Projects',\n+        message: 'Here are my projects'\n+    });\n+});\n+\n app.listen(port, () => {\n     console.log(`Server is up on port ${port}`);\n });\n\\ No newline at end of file"
            },
            {
              "filename": "views/partials/header.hbs",
              "patch": "@@ -2,4 +2,5 @@\n     <h1>{{pageTitle}}</h1>\n     <p><a href=\"/\">Home</a></p>\n     <p><a href=\"/about\">About</a></p>\n+    <p><a href=\"/projects\">Projects</a></p>\n </header>\n\\ No newline at end of file"
            },
            {
              "filename": "views/projects.hbs",
              "patch": "@@ -0,0 +1,12 @@\n+<!DOCTYPE html>\n+<html>\n+    <head>\n+        <meta charset=\"utf-8\">\n+        <title>{{pageTitle}}</title>\n+    </head>\n+    <body>\n+        {{> header}}\n+        <p>{{screamIt message}}</p>\n+        {{> footer}}\n+    </body>\n+</html>\n\\ No newline at end of file"
            }
          ]
        },
        {
          "sha": "f6bc6e910fb8e7c99d2d450bd63740f37cfcd23f",
          "message": "Setup start script and heroku port",
          "author": "Leon",
          "files": [
            {
              "filename": "package.json",
              "patch": "@@ -4,7 +4,8 @@\n   \"description\": \"\",\n   \"main\": \"index.js\",\n   \"scripts\": {\n-    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n+    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\n+    \"start\": \"node server.js\"\n   },\n   \"author\": \"\",\n   \"license\": \"ISC\","
            },
            {
              "filename": "server.js",
              "patch": "@@ -2,6 +2,8 @@ const express = require('express');\n const hbs = require('hbs');\n const fs = require('fs');\n \n+const port = process.env.PORT || 3000;\n+\n var app = express();\n \n hbs.registerPartials(__dirname+'/views/partials');\n@@ -53,4 +55,6 @@ app.get('/bad', (req,res) => {\n     });\n });\n \n-app.listen(3000);\n\\ No newline at end of file\n+app.listen(port, () => {\n+    console.log(`Server is up on port ${port}`);\n+});\n\\ No newline at end of file"
            }
          ]
        },
        {
          "sha": "efbfd2ae4a5f45cbeb7046876db5a1a52394cb73",
          "message": "Initial commit",
          "author": "Leon",
          "files": [
            {
              "filename": ".gitignore",
              "patch": "@@ -0,0 +1,2 @@\n+node_modules/\n+server.log\n\\ No newline at end of file"
            },
            {
              "filename": "package-lock.json",
              "patch": "@@ -0,0 +1,575 @@\n+{\n+  \"name\": \"web-server\",\n+  \"version\": \"1.0.0\",\n+  \"lockfileVersion\": 1,\n+  \"requires\": true,\n+  \"dependencies\": {\n+    \"accepts\": {\n+      \"version\": \"1.3.5\",\n+      \"resolved\": \"https://registry.npmjs.org/accepts/-/accepts-1.3.5.tgz\",\n+      \"integrity\": \"sha1-63d99gEXI6OxTopywIBcjoZ0a9I=\",\n+      \"requires\": {\n+        \"mime-types\": \"~2.1.18\",\n+        \"negotiator\": \"0.6.1\"\n+      }\n+    },\n+    \"align-text\": {\n+      \"version\": \"0.1.4\",\n+      \"resolved\": \"https://registry.npmjs.org/align-text/-/align-text-0.1.4.tgz\",\n+      \"integrity\": \"sha1-DNkKVhCT810KmSVsIrcGlDP60Rc=\",\n+      \"requires\": {\n+        \"kind-of\": \"^3.0.2\",\n+        \"longest\": \"^1.0.1\",\n+        \"repeat-string\": \"^1.5.2\"\n+      }\n+    },\n+    \"amdefine\": {\n+      \"version\": \"1.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/amdefine/-/amdefine-1.0.1.tgz\",\n+      \"integrity\": \"sha1-SlKCrBZHKek2Gbz9OtFR+BfOkfU=\"\n+    },\n+    \"array-flatten\": {\n+      \"version\": \"1.1.1\",\n+      \"resolved\": \"https://registry.npmjs.org/array-flatten/-/array-flatten-1.1.1.tgz\",\n+      \"integrity\": \"sha1-ml9pkFGx5wczKPKgCJaLZOopVdI=\"\n+    },\n+    \"async\": {\n+      \"version\": \"1.5.2\",\n+      \"resolved\": \"http://registry.npmjs.org/async/-/async-1.5.2.tgz\",\n+      \"integrity\": \"sha1-7GphrlZIDAw8skHJVhjiCJL5Zyo=\"\n+    },\n+    \"body-parser\": {\n+      \"version\": \"1.18.2\",\n+      \"resolved\": \"https://registry.npmjs.org/body-parser/-/body-parser-1.18.2.tgz\",\n+      \"integrity\": \"sha1-h2eKGdhLR9hZuDGZvVm84iKxBFQ=\",\n+      \"requires\": {\n+        \"bytes\": \"3.0.0\",\n+        \"content-type\": \"~1.0.4\",\n+        \"debug\": \"2.6.9\",\n+        \"depd\": \"~1.1.1\",\n+        \"http-errors\": \"~1.6.2\",\n+        \"iconv-lite\": \"0.4.19\",\n+        \"on-finished\": \"~2.3.0\",\n+        \"qs\": \"6.5.1\",\n+        \"raw-body\": \"2.3.2\",\n+        \"type-is\": \"~1.6.15\"\n+      }\n+    },\n+    \"bytes\": {\n+      \"version\": \"3.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/bytes/-/bytes-3.0.0.tgz\",\n+      \"integrity\": \"sha1-0ygVQE1olpn4Wk6k+odV3ROpYEg=\"\n+    },\n+    \"camelcase\": {\n+      \"version\": \"1.2.1\",\n+      \"resolved\": \"https://registry.npmjs.org/camelcase/-/camelcase-1.2.1.tgz\",\n+      \"integrity\": \"sha1-m7UwTS4LVmmLLHWLCKPqqdqlijk=\",\n+      \"optional\": true\n+    },\n+    \"center-align\": {\n+      \"version\": \"0.1.3\",\n+      \"resolved\": \"https://registry.npmjs.org/center-align/-/center-align-0.1.3.tgz\",\n+      \"integrity\": \"sha1-qg0yYptu6XIgBBHL1EYckHvCt60=\",\n+      \"optional\": true,\n+      \"requires\": {\n+        \"align-text\": \"^0.1.3\",\n+        \"lazy-cache\": \"^1.0.3\"\n+      }\n+    },\n+    \"cliui\": {\n+      \"version\": \"2.1.0\",\n+      \"resolved\": \"https://registry.npmjs.org/cliui/-/cliui-2.1.0.tgz\",\n+      \"integrity\": \"sha1-S0dXYP+AJkx2LDoXGQMukcf+oNE=\",\n+      \"optional\": true,\n+      \"requires\": {\n+        \"center-align\": \"^0.1.1\",\n+        \"right-align\": \"^0.1.1\",\n+        \"wordwrap\": \"0.0.2\"\n+      },\n+      \"dependencies\": {\n+        \"wordwrap\": {\n+          \"version\": \"0.0.2\",\n+          \"resolved\": \"https://registry.npmjs.org/wordwrap/-/wordwrap-0.0.2.tgz\",\n+          \"integrity\": \"sha1-t5Zpu0LstAn4PVg8rVLKF+qhZD8=\",\n+          \"optional\": true\n+        }\n+      }\n+    },\n+    \"content-disposition\": {\n+      \"version\": \"0.5.2\",\n+      \"resolved\": \"https://registry.npmjs.org/content-disposition/-/content-disposition-0.5.2.tgz\",\n+      \"integrity\": \"sha1-DPaLud318r55YcOoUXjLhdunjLQ=\"\n+    },\n+    \"content-type\": {\n+      \"version\": \"1.0.4\",\n+      \"resolved\": \"https://registry.npmjs.org/content-type/-/content-type-1.0.4.tgz\",\n+      \"integrity\": \"sha512-hIP3EEPs8tB9AT1L+NUqtwOAps4mk2Zob89MWXMHjHWg9milF/j4osnnQLXBCBFBk/tvIG/tUc9mOUJiPBhPXA==\"\n+    },\n+    \"cookie\": {\n+      \"version\": \"0.3.1\",\n+      \"resolved\": \"https://registry.npmjs.org/cookie/-/cookie-0.3.1.tgz\",\n+      \"integrity\": \"sha1-5+Ch+e9DtMi6klxcWpboBtFoc7s=\"\n+    },\n+    \"cookie-signature\": {\n+      \"version\": \"1.0.6\",\n+      \"resolved\": \"https://registry.npmjs.org/cookie-signature/-/cookie-signature-1.0.6.tgz\",\n+      \"integrity\": \"sha1-4wOogrNCzD7oylE6eZmXNNqzriw=\"\n+    },\n+    \"debug\": {\n+      \"version\": \"2.6.9\",\n+      \"resolved\": \"https://registry.npmjs.org/debug/-/debug-2.6.9.tgz\",\n+      \"integrity\": \"sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==\",\n+      \"requires\": {\n+        \"ms\": \"2.0.0\"\n+      }\n+    },\n+    \"decamelize\": {\n+      \"version\": \"1.2.0\",\n+      \"resolved\": \"https://registry.npmjs.org/decamelize/-/decamelize-1.2.0.tgz\",\n+      \"integrity\": \"sha1-9lNNFRSCabIDUue+4m9QH5oZEpA=\",\n+      \"optional\": true\n+    },\n+    \"depd\": {\n+      \"version\": \"1.1.2\",\n+      \"resolved\": \"https://registry.npmjs.org/depd/-/depd-1.1.2.tgz\",\n+      \"integrity\": \"sha1-m81S4UwJd2PnSbJ0xDRu0uVgtak=\"\n+    },\n+    \"destroy\": {\n+      \"version\": \"1.0.4\",\n+      \"resolved\": \"https://registry.npmjs.org/destroy/-/destroy-1.0.4.tgz\",\n+      \"integrity\": \"sha1-l4hXRCxEdJ5CBmE+N5RiBYJqvYA=\"\n+    },\n+    \"ee-first\": {\n+      \"version\": \"1.1.1\",\n+      \"resolved\": \"https://registry.npmjs.org/ee-first/-/ee-first-1.1.1.tgz\",\n+      \"integrity\": \"sha1-WQxhFWsK4vTwJVcyoViyZrxWsh0=\"\n+    },\n+    \"encodeurl\": {\n+      \"version\": \"1.0.2\",\n+      \"resolved\": \"https://registry.npmjs.org/encodeurl/-/encodeurl-1.0.2.tgz\",\n+      \"integrity\": \"sha1-rT/0yG7C0CkyL1oCw6mmBslbP1k=\"\n+    },\n+    \"escape-html\": {\n+      \"version\": \"1.0.3\",\n+      \"resolved\": \"https://registry.npmjs.org/escape-html/-/escape-html-1.0.3.tgz\",\n+      \"integrity\": \"sha1-Aljq5NPQwJdN4cFpGI7wBR0dGYg=\"\n+    },\n+    \"etag\": {\n+      \"version\": \"1.8.1\",\n+      \"resolved\": \"https://registry.npmjs.org/etag/-/etag-1.8.1.tgz\",\n+      \"integrity\": \"sha1-Qa4u62XvpiJorr/qg6x9eSmbCIc=\"\n+    },\n+    \"express\": {\n+      \"version\": \"4.16.3\",\n+      \"resolved\": \"http://registry.npmjs.org/express/-/express-4.16.3.tgz\",\n+      \"integrity\": \"sha1-avilAjUNsyRuzEvs9rWjTSL37VM=\",\n+      \"requires\": {\n+        \"accepts\": \"~1.3.5\",\n+        \"array-flatten\": \"1.1.1\",\n+        \"body-parser\": \"1.18.2\",\n+        \"content-disposition\": \"0.5.2\",\n+        \"content-type\": \"~1.0.4\",\n+        \"cookie\": \"0.3.1\",\n+        \"cookie-signature\": \"1.0.6\",\n+        \"debug\": \"2.6.9\",\n+        \"depd\": \"~1.1.2\",\n+        \"encodeurl\": \"~1.0.2\",\n+        \"escape-html\": \"~1.0.3\",\n+        \"etag\": \"~1.8.1\",\n+        \"finalhandler\": \"1.1.1\",\n+        \"fresh\": \"0.5.2\",\n+        \"merge-descriptors\": \"1.0.1\",\n+        \"methods\": \"~1.1.2\",\n+        \"on-finished\": \"~2.3.0\",\n+        \"parseurl\": \"~1.3.2\",\n+        \"path-to-regexp\": \"0.1.7\",\n+        \"proxy-addr\": \"~2.0.3\",\n+        \"qs\": \"6.5.1\",\n+        \"range-parser\": \"~1.2.0\",\n+        \"safe-buffer\": \"5.1.1\",\n+        \"send\": \"0.16.2\",\n+        \"serve-static\": \"1.13.2\",\n+        \"setprototypeof\": \"1.1.0\",\n+        \"statuses\": \"~1.4.0\",\n+        \"type-is\": \"~1.6.16\",\n+        \"utils-merge\": \"1.0.1\",\n+        \"vary\": \"~1.1.2\"\n+      }\n+    },\n+    \"finalhandler\": {\n+      \"version\": \"1.1.1\",\n+      \"resolved\": \"http://registry.npmjs.org/finalhandler/-/finalhandler-1.1.1.tgz\",\n+      \"integrity\": \"sha512-Y1GUDo39ez4aHAw7MysnUD5JzYX+WaIj8I57kO3aEPT1fFRL4sr7mjei97FgnwhAyyzRYmQZaTHb2+9uZ1dPtg==\",\n+      \"requires\": {\n+        \"debug\": \"2.6.9\",\n+        \"encodeurl\": \"~1.0.2\",\n+        \"escape-html\": \"~1.0.3\",\n+        \"on-finished\": \"~2.3.0\",\n+        \"parseurl\": \"~1.3.2\",\n+        \"statuses\": \"~1.4.0\",\n+        \"unpipe\": \"~1.0.0\"\n+      }\n+    },\n+    \"foreachasync\": {\n+      \"version\": \"3.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/foreachasync/-/foreachasync-3.0.0.tgz\",\n+      \"integrity\": \"sha1-VQKYfchxS+M5IJfzLgBxyd7gfPY=\"\n+    },\n+    \"forwarded\": {\n+      \"version\": \"0.1.2\",\n+      \"resolved\": \"https://registry.npmjs.org/forwarded/-/forwarded-0.1.2.tgz\",\n+      \"integrity\": \"sha1-mMI9qxF1ZXuMBXPozszZGw/xjIQ=\"\n+    },\n+    \"fresh\": {\n+      \"version\": \"0.5.2\",\n+      \"resolved\": \"https://registry.npmjs.org/fresh/-/fresh-0.5.2.tgz\",\n+      \"integrity\": \"sha1-PYyt2Q2XZWn6g1qx+OSyOhBWBac=\"\n+    },\n+    \"handlebars\": {\n+      \"version\": \"4.0.5\",\n+      \"resolved\": \"http://registry.npmjs.org/handlebars/-/handlebars-4.0.5.tgz\",\n+      \"integrity\": \"sha1-ksbta7FkEQxQ1NjQ+93HCAbG+Oc=\",\n+      \"requires\": {\n+        \"async\": \"^1.4.0\",\n+        \"optimist\": \"^0.6.1\",\n+        \"source-map\": \"^0.4.4\",\n+        \"uglify-js\": \"^2.6\"\n+      }\n+    },\n+    \"hbs\": {\n+      \"version\": \"4.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/hbs/-/hbs-4.0.1.tgz\",\n+      \"integrity\": \"sha1-S/2YZQ3IydrESzyprfnAmOi8M7Y=\",\n+      \"requires\": {\n+        \"handlebars\": \"4.0.5\",\n+        \"walk\": \"2.3.9\"\n+      }\n+    },\n+    \"http-errors\": {\n+      \"version\": \"1.6.3\",\n+      \"resolved\": \"http://registry.npmjs.org/http-errors/-/http-errors-1.6.3.tgz\",\n+      \"integrity\": \"sha1-i1VoC7S+KDoLW/TqLjhYC+HZMg0=\",\n+      \"requires\": {\n+        \"depd\": \"~1.1.2\",\n+        \"inherits\": \"2.0.3\",\n+        \"setprototypeof\": \"1.1.0\",\n+        \"statuses\": \">= 1.4.0 < 2\"\n+      }\n+    },\n+    \"iconv-lite\": {\n+      \"version\": \"0.4.19\",\n+      \"resolved\": \"https://registry.npmjs.org/iconv-lite/-/iconv-lite-0.4.19.tgz\",\n+      \"integrity\": \"sha512-oTZqweIP51xaGPI4uPa56/Pri/480R+mo7SeU+YETByQNhDG55ycFyNLIgta9vXhILrxXDmF7ZGhqZIcuN0gJQ==\"\n+    },\n+    \"inherits\": {\n+      \"version\": \"2.0.3\",\n+      \"resolved\": \"https://registry.npmjs.org/inherits/-/inherits-2.0.3.tgz\",\n+      \"integrity\": \"sha1-Yzwsg+PaQqUC9SRmAiSA9CCCYd4=\"\n+    },\n+    \"ipaddr.js\": {\n+      \"version\": \"1.8.0\",\n+      \"resolved\": \"https://registry.npmjs.org/ipaddr.js/-/ipaddr.js-1.8.0.tgz\",\n+      \"integrity\": \"sha1-6qM9bd16zo9/b+DJygRA5wZzix4=\"\n+    },\n+    \"is-buffer\": {\n+      \"version\": \"1.1.6\",\n+      \"resolved\": \"https://registry.npmjs.org/is-buffer/-/is-buffer-1.1.6.tgz\",\n+      \"integrity\": \"sha512-NcdALwpXkTm5Zvvbk7owOUSvVvBKDgKP5/ewfXEznmQFfs4ZRmanOeKBTjRVjka3QFoN6XJ+9F3USqfHqTaU5w==\"\n+    },\n+    \"kind-of\": {\n+      \"version\": \"3.2.2\",\n+      \"resolved\": \"https://registry.npmjs.org/kind-of/-/kind-of-3.2.2.tgz\",\n+      \"integrity\": \"sha1-MeohpzS6ubuw8yRm2JOupR5KPGQ=\",\n+      \"requires\": {\n+        \"is-buffer\": \"^1.1.5\"\n+      }\n+    },\n+    \"lazy-cache\": {\n+      \"version\": \"1.0.4\",\n+      \"resolved\": \"https://registry.npmjs.org/lazy-cache/-/lazy-cache-1.0.4.tgz\",\n+      \"integrity\": \"sha1-odePw6UEdMuAhF07O24dpJpEbo4=\",\n+      \"optional\": true\n+    },\n+    \"longest\": {\n+      \"version\": \"1.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/longest/-/longest-1.0.1.tgz\",\n+      \"integrity\": \"sha1-MKCy2jj3N3DoKUoNIuZiXtd9AJc=\"\n+    },\n+    \"media-typer\": {\n+      \"version\": \"0.3.0\",\n+      \"resolved\": \"https://registry.npmjs.org/media-typer/-/media-typer-0.3.0.tgz\",\n+      \"integrity\": \"sha1-hxDXrwqmJvj/+hzgAWhUUmMlV0g=\"\n+    },\n+    \"merge-descriptors\": {\n+      \"version\": \"1.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/merge-descriptors/-/merge-descriptors-1.0.1.tgz\",\n+      \"integrity\": \"sha1-sAqqVW3YtEVoFQ7J0blT8/kMu2E=\"\n+    },\n+    \"methods\": {\n+      \"version\": \"1.1.2\",\n+      \"resolved\": \"https://registry.npmjs.org/methods/-/methods-1.1.2.tgz\",\n+      \"integrity\": \"sha1-VSmk1nZUE07cxSZmVoNbD4Ua/O4=\"\n+    },\n+    \"mime\": {\n+      \"version\": \"1.4.1\",\n+      \"resolved\": \"https://registry.npmjs.org/mime/-/mime-1.4.1.tgz\",\n+      \"integrity\": \"sha512-KI1+qOZu5DcW6wayYHSzR/tXKCDC5Om4s1z2QJjDULzLcmf3DvzS7oluY4HCTrc+9FiKmWUgeNLg7W3uIQvxtQ==\"\n+    },\n+    \"mime-db\": {\n+      \"version\": \"1.36.0\",\n+      \"resolved\": \"https://registry.npmjs.org/mime-db/-/mime-db-1.36.0.tgz\",\n+      \"integrity\": \"sha512-L+xvyD9MkoYMXb1jAmzI/lWYAxAMCPvIBSWur0PZ5nOf5euahRLVqH//FKW9mWp2lkqUgYiXPgkzfMUFi4zVDw==\"\n+    },\n+    \"mime-types\": {\n+      \"version\": \"2.1.20\",\n+      \"resolved\": \"https://registry.npmjs.org/mime-types/-/mime-types-2.1.20.tgz\",\n+      \"integrity\": \"sha512-HrkrPaP9vGuWbLK1B1FfgAkbqNjIuy4eHlIYnFi7kamZyLLrGlo2mpcx0bBmNpKqBtYtAfGbodDddIgddSJC2A==\",\n+      \"requires\": {\n+        \"mime-db\": \"~1.36.0\"\n+      }\n+    },\n+    \"minimist\": {\n+      \"version\": \"0.0.10\",\n+      \"resolved\": \"http://registry.npmjs.org/minimist/-/minimist-0.0.10.tgz\",\n+      \"integrity\": \"sha1-3j+YVD2/lggr5IrRoMfNqDYwHc8=\"\n+    },\n+    \"ms\": {\n+      \"version\": \"2.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/ms/-/ms-2.0.0.tgz\",\n+      \"integrity\": \"sha1-VgiurfwAvmwpAd9fmGF4jeDVl8g=\"\n+    },\n+    \"negotiator\": {\n+      \"version\": \"0.6.1\",\n+      \"resolved\": \"https://registry.npmjs.org/negotiator/-/negotiator-0.6.1.tgz\",\n+      \"integrity\": \"sha1-KzJxhOiZIQEXeyhWP7XnECrNDKk=\"\n+    },\n+    \"on-finished\": {\n+      \"version\": \"2.3.0\",\n+      \"resolved\": \"https://registry.npmjs.org/on-finished/-/on-finished-2.3.0.tgz\",\n+      \"integrity\": \"sha1-IPEzZIGwg811M3mSoWlxqi2QaUc=\",\n+      \"requires\": {\n+        \"ee-first\": \"1.1.1\"\n+      }\n+    },\n+    \"optimist\": {\n+      \"version\": \"0.6.1\",\n+      \"resolved\": \"https://registry.npmjs.org/optimist/-/optimist-0.6.1.tgz\",\n+      \"integrity\": \"sha1-2j6nRob6IaGaERwybpDrFaAZZoY=\",\n+      \"requires\": {\n+        \"minimist\": \"~0.0.1\",\n+        \"wordwrap\": \"~0.0.2\"\n+      }\n+    },\n+    \"parseurl\": {\n+      \"version\": \"1.3.2\",\n+      \"resolved\": \"https://registry.npmjs.org/parseurl/-/parseurl-1.3.2.tgz\",\n+      \"integrity\": \"sha1-/CidTtiZMRlGDBViUyYs3I3mW/M=\"\n+    },\n+    \"path-to-regexp\": {\n+      \"version\": \"0.1.7\",\n+      \"resolved\": \"https://registry.npmjs.org/path-to-regexp/-/path-to-regexp-0.1.7.tgz\",\n+      \"integrity\": \"sha1-32BBeABfUi8V60SQ5yR6G/qmf4w=\"\n+    },\n+    \"proxy-addr\": {\n+      \"version\": \"2.0.4\",\n+      \"resolved\": \"https://registry.npmjs.org/proxy-addr/-/proxy-addr-2.0.4.tgz\",\n+      \"integrity\": \"sha512-5erio2h9jp5CHGwcybmxmVqHmnCBZeewlfJ0pex+UW7Qny7OOZXTtH56TGNyBizkgiOwhJtMKrVzDTeKcySZwA==\",\n+      \"requires\": {\n+        \"forwarded\": \"~0.1.2\",\n+        \"ipaddr.js\": \"1.8.0\"\n+      }\n+    },\n+    \"qs\": {\n+      \"version\": \"6.5.1\",\n+      \"resolved\": \"https://registry.npmjs.org/qs/-/qs-6.5.1.tgz\",\n+      \"integrity\": \"sha512-eRzhrN1WSINYCDCbrz796z37LOe3m5tmW7RQf6oBntukAG1nmovJvhnwHHRMAfeoItc1m2Hk02WER2aQ/iqs+A==\"\n+    },\n+    \"range-parser\": {\n+      \"version\": \"1.2.0\",\n+      \"resolved\": \"https://registry.npmjs.org/range-parser/-/range-parser-1.2.0.tgz\",\n+      \"integrity\": \"sha1-9JvmtIeJTdxA3MlKMi9hEJLgDV4=\"\n+    },\n+    \"raw-body\": {\n+      \"version\": \"2.3.2\",\n+      \"resolved\": \"https://registry.npmjs.org/raw-body/-/raw-body-2.3.2.tgz\",\n+      \"integrity\": \"sha1-vNYMd9Prk83gBQKVw/N5OJvIj4k=\",\n+      \"requires\": {\n+        \"bytes\": \"3.0.0\",\n+        \"http-errors\": \"1.6.2\",\n+        \"iconv-lite\": \"0.4.19\",\n+        \"unpipe\": \"1.0.0\"\n+      },\n+      \"dependencies\": {\n+        \"depd\": {\n+          \"version\": \"1.1.1\",\n+          \"resolved\": \"https://registry.npmjs.org/depd/-/depd-1.1.1.tgz\",\n+          \"integrity\": \"sha1-V4O04cRZ8G+lyif5kfPQbnoxA1k=\"\n+        },\n+        \"http-errors\": {\n+          \"version\": \"1.6.2\",\n+          \"resolved\": \"https://registry.npmjs.org/http-errors/-/http-errors-1.6.2.tgz\",\n+          \"integrity\": \"sha1-CgAsyFcHGSp+eUbO7cERVfYOxzY=\",\n+          \"requires\": {\n+            \"depd\": \"1.1.1\",\n+            \"inherits\": \"2.0.3\",\n+            \"setprototypeof\": \"1.0.3\",\n+            \"statuses\": \">= 1.3.1 < 2\"\n+          }\n+        },\n+        \"setprototypeof\": {\n+          \"version\": \"1.0.3\",\n+          \"resolved\": \"https://registry.npmjs.org/setprototypeof/-/setprototypeof-1.0.3.tgz\",\n+          \"integrity\": \"sha1-ZlZ+NwQ+608E2RvWWMDL77VbjgQ=\"\n+        }\n+      }\n+    },\n+    \"repeat-string\": {\n+      \"version\": \"1.6.1\",\n+      \"resolved\": \"https://registry.npmjs.org/repeat-string/-/repeat-string-1.6.1.tgz\",\n+      \"integrity\": \"sha1-jcrkcOHIirwtYA//Sndihtp15jc=\"\n+    },\n+    \"right-align\": {\n+      \"version\": \"0.1.3\",\n+      \"resolved\": \"https://registry.npmjs.org/right-align/-/right-align-0.1.3.tgz\",\n+      \"integrity\": \"sha1-YTObci/mo1FWiSENJOFMlhSGE+8=\",\n+      \"optional\": true,\n+      \"requires\": {\n+        \"align-text\": \"^0.1.1\"\n+      }\n+    },\n+    \"safe-buffer\": {\n+      \"version\": \"5.1.1\",\n+      \"resolved\": \"https://registry.npmjs.org/safe-buffer/-/safe-buffer-5.1.1.tgz\",\n+      \"integrity\": \"sha512-kKvNJn6Mm93gAczWVJg7wH+wGYWNrDHdWvpUmHyEsgCtIwwo3bqPtV4tR5tuPaUhTOo/kvhVwd8XwwOllGYkbg==\"\n+    },\n+    \"send\": {\n+      \"version\": \"0.16.2\",\n+      \"resolved\": \"https://registry.npmjs.org/send/-/send-0.16.2.tgz\",\n+      \"integrity\": \"sha512-E64YFPUssFHEFBvpbbjr44NCLtI1AohxQ8ZSiJjQLskAdKuriYEP6VyGEsRDH8ScozGpkaX1BGvhanqCwkcEZw==\",\n+      \"requires\": {\n+        \"debug\": \"2.6.9\",\n+        \"depd\": \"~1.1.2\",\n+        \"destroy\": \"~1.0.4\",\n+        \"encodeurl\": \"~1.0.2\",\n+        \"escape-html\": \"~1.0.3\",\n+        \"etag\": \"~1.8.1\",\n+        \"fresh\": \"0.5.2\",\n+        \"http-errors\": \"~1.6.2\",\n+        \"mime\": \"1.4.1\",\n+        \"ms\": \"2.0.0\",\n+        \"on-finished\": \"~2.3.0\",\n+        \"range-parser\": \"~1.2.0\",\n+        \"statuses\": \"~1.4.0\"\n+      }\n+    },\n+    \"serve-static\": {\n+      \"version\": \"1.13.2\",\n+      \"resolved\": \"https://registry.npmjs.org/serve-static/-/serve-static-1.13.2.tgz\",\n+      \"integrity\": \"sha512-p/tdJrO4U387R9oMjb1oj7qSMaMfmOyd4j9hOFoxZe2baQszgHcSWjuya/CiT5kgZZKRudHNOA0pYXOl8rQ5nw==\",\n+      \"requires\": {\n+        \"encodeurl\": \"~1.0.2\",\n+        \"escape-html\": \"~1.0.3\",\n+        \"parseurl\": \"~1.3.2\",\n+        \"send\": \"0.16.2\"\n+      }\n+    },\n+    \"setprototypeof\": {\n+      \"version\": \"1.1.0\",\n+      \"resolved\": \"https://registry.npmjs.org/setprototypeof/-/setprototypeof-1.1.0.tgz\",\n+      \"integrity\": \"sha512-BvE/TwpZX4FXExxOxZyRGQQv651MSwmWKZGqvmPcRIjDqWub67kTKuIMx43cZZrS/cBBzwBcNDWoFxt2XEFIpQ==\"\n+    },\n+    \"source-map\": {\n+      \"version\": \"0.4.4\",\n+      \"resolved\": \"https://registry.npmjs.org/source-map/-/source-map-0.4.4.tgz\",\n+      \"integrity\": \"sha1-66T12pwNyZneaAMti092FzZSA2s=\",\n+      \"requires\": {\n+        \"amdefine\": \">=0.0.4\"\n+      }\n+    },\n+    \"statuses\": {\n+      \"version\": \"1.4.0\",\n+      \"resolved\": \"https://registry.npmjs.org/statuses/-/statuses-1.4.0.tgz\",\n+      \"integrity\": \"sha512-zhSCtt8v2NDrRlPQpCNtw/heZLtfUDqxBM1udqikb/Hbk52LK4nQSwr10u77iopCW5LsyHpuXS0GnEc48mLeew==\"\n+    },\n+    \"type-is\": {\n+      \"version\": \"1.6.16\",\n+      \"resolved\": \"https://registry.npmjs.org/type-is/-/type-is-1.6.16.tgz\",\n+      \"integrity\": \"sha512-HRkVv/5qY2G6I8iab9cI7v1bOIdhm94dVjQCPFElW9W+3GeDOSHmy2EBYe4VTApuzolPcmgFTN3ftVJRKR2J9Q==\",\n+      \"requires\": {\n+        \"media-typer\": \"0.3.0\",\n+        \"mime-types\": \"~2.1.18\"\n+      }\n+    },\n+    \"uglify-js\": {\n+      \"version\": \"2.8.29\",\n+      \"resolved\": \"https://registry.npmjs.org/uglify-js/-/uglify-js-2.8.29.tgz\",\n+      \"integrity\": \"sha1-KcVzMUgFe7Th913zW3qcty5qWd0=\",\n+      \"optional\": true,\n+      \"requires\": {\n+        \"source-map\": \"~0.5.1\",\n+        \"uglify-to-browserify\": \"~1.0.0\",\n+        \"yargs\": \"~3.10.0\"\n+      },\n+      \"dependencies\": {\n+        \"source-map\": {\n+          \"version\": \"0.5.7\",\n+          \"resolved\": \"https://registry.npmjs.org/source-map/-/source-map-0.5.7.tgz\",\n+          \"integrity\": \"sha1-igOdLRAh0i0eoUyA2OpGi6LvP8w=\",\n+          \"optional\": true\n+        }\n+      }\n+    },\n+    \"uglify-to-browserify\": {\n+      \"version\": \"1.0.2\",\n+      \"resolved\": \"https://registry.npmjs.org/uglify-to-browserify/-/uglify-to-browserify-1.0.2.tgz\",\n+      \"integrity\": \"sha1-bgkk1r2mta/jSeOabWMoUKD4grc=\",\n+      \"optional\": true\n+    },\n+    \"unpipe\": {\n+      \"version\": \"1.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/unpipe/-/unpipe-1.0.0.tgz\",\n+      \"integrity\": \"sha1-sr9O6FFKrmFltIF4KdIbLvSZBOw=\"\n+    },\n+    \"utils-merge\": {\n+      \"version\": \"1.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/utils-merge/-/utils-merge-1.0.1.tgz\",\n+      \"integrity\": \"sha1-n5VxD1CiZ5R7LMwSR0HBAoQn5xM=\"\n+    },\n+    \"vary\": {\n+      \"version\": \"1.1.2\",\n+      \"resolved\": \"https://registry.npmjs.org/vary/-/vary-1.1.2.tgz\",\n+      \"integrity\": \"sha1-IpnwLG3tMNSllhsLn3RSShj2NPw=\"\n+    },\n+    \"walk\": {\n+      \"version\": \"2.3.9\",\n+      \"resolved\": \"https://registry.npmjs.org/walk/-/walk-2.3.9.tgz\",\n+      \"integrity\": \"sha1-MbTbZnjyrgHDnqn7hyWpAx5Vins=\",\n+      \"requires\": {\n+        \"foreachasync\": \"^3.0.0\"\n+      }\n+    },\n+    \"window-size\": {\n+      \"version\": \"0.1.0\",\n+      \"resolved\": \"https://registry.npmjs.org/window-size/-/window-size-0.1.0.tgz\",\n+      \"integrity\": \"sha1-VDjNLqk7IC76Ohn+iIeu58lPnJ0=\",\n+      \"optional\": true\n+    },\n+    \"wordwrap\": {\n+      \"version\": \"0.0.3\",\n+      \"resolved\": \"https://registry.npmjs.org/wordwrap/-/wordwrap-0.0.3.tgz\",\n+      \"integrity\": \"sha1-o9XabNXAvAAI03I0u68b7WMFkQc=\"\n+    },\n+    \"yargs\": {\n+      \"version\": \"3.10.0\",\n+      \"resolved\": \"http://registry.npmjs.org/yargs/-/yargs-3.10.0.tgz\",\n+      \"integrity\": \"sha1-9+572FfdfB0tOMDnTvvWgdFDH9E=\",\n+      \"optional\": true,\n+      \"requires\": {\n+        \"camelcase\": \"^1.0.2\",\n+        \"cliui\": \"^2.1.0\",\n+        \"decamelize\": \"^1.0.0\",\n+        \"window-size\": \"0.1.0\"\n+      }\n+    }\n+  }\n+}"
            },
            {
              "filename": "package.json",
              "patch": "@@ -0,0 +1,15 @@\n+{\n+  \"name\": \"web-server\",\n+  \"version\": \"1.0.0\",\n+  \"description\": \"\",\n+  \"main\": \"index.js\",\n+  \"scripts\": {\n+    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n+  },\n+  \"author\": \"\",\n+  \"license\": \"ISC\",\n+  \"dependencies\": {\n+    \"express\": \"^4.16.3\",\n+    \"hbs\": \"^4.0.1\"\n+  }\n+}"
            },
            {
              "filename": "public/help.html",
              "patch": "@@ -0,0 +1,11 @@\n+<!DOCTYPE html>\n+<html>\n+    <head>\n+        <meta charset=\"utf-8\">\n+        <title>Help page</title>\n+    </head>\n+    <body>\n+        <h1>Help page</h1>\n+        <p>some text here</p>\n+    </body>\n+</html>\n\\ No newline at end of file"
            },
            {
              "filename": "server.js",
              "patch": "@@ -0,0 +1,56 @@\n+const express = require('express');\n+const hbs = require('hbs');\n+const fs = require('fs');\n+\n+var app = express();\n+\n+hbs.registerPartials(__dirname+'/views/partials');\n+app.set('view engine', 'hbs');\n+\n+app.use((req, res, next) => {\n+    var now = new Date().toString();\n+    var log = `${now}: ${req.method} ${req.url}`;\n+\n+    console.log(log);\n+    fs.appendFile('server.log', log + '/n', (err) => {\n+        if (err) {\n+            console.log('WILD ERROR APPEARED!');\n+        };\n+    });\n+    next();\n+});\n+\n+// app.use((req, res, next) => {\n+//     res.render('maintainance.hbs');\n+// });\n+\n+app.use(express.static(__dirname+'/public'));\n+\n+hbs.registerHelper('getCurrentYear', () => {\n+    return new Date().getFullYear();\n+});\n+\n+hbs.registerHelper('screamIt', (text) => {\n+    return text.toUpperCase();\n+});\n+\n+app.get('/', (req, res) => {\n+    res.render('home.hbs', {\n+        pageTitle: 'Home page',\n+        message: 'Welcome to home page.'\n+    });\n+});\n+\n+app.get('/about', (req,res) => {\n+    res.render('about.hbs', {\n+        pageTitle: 'About page'\n+    });\n+});\n+\n+app.get('/bad', (req,res) => {\n+    res.send({\n+        errorMessage: 'Unable to handle request.'\n+    });\n+});\n+\n+app.listen(3000);\n\\ No newline at end of file"
            },
            {
              "filename": "views/about.hbs",
              "patch": "@@ -0,0 +1,12 @@\n+<!DOCTYPE html>\n+<html>\n+    <head>\n+        <meta charset=\"utf-8\">\n+        <title>{{pageTitle}}</title>\n+    </head>\n+    <body>\n+        {{> header}}\n+        <p>some text here</p>\n+        {{> footer}}\n+    </body>\n+</html>\n\\ No newline at end of file"
            },
            {
              "filename": "views/home.hbs",
              "patch": "@@ -0,0 +1,12 @@\n+<!DOCTYPE html>\n+<html>\n+    <head>\n+        <meta charset=\"utf-8\">\n+        <title>{{pageTitle}}</title>\n+    </head>\n+    <body>\n+        {{> header}}\n+        <p>{{screamIt message}}</p>\n+        {{> footer}}\n+    </body>\n+</html>\n\\ No newline at end of file"
            },
            {
              "filename": "views/maintainance.hbs",
              "patch": "@@ -0,0 +1,10 @@\n+<!DOCTYPE html>\n+<html>\n+    <head>\n+        <meta charset=\"utf-8\">\n+        <title>Maintainance</title>\n+    </head>\n+    <body>\n+        <p>I'll be back!</p>\n+    </body>\n+</html>\n\\ No newline at end of file"
            },
            {
              "filename": "views/partials/footer.hbs",
              "patch": "@@ -0,0 +1,3 @@\n+        <footer>\n+            <p>Created by the man - Copyright {{getCurrentYear}}</p>\n+        </footer>\n\\ No newline at end of file"
            },
            {
              "filename": "views/partials/header.hbs",
              "patch": "@@ -0,0 +1,5 @@\n+<header>\n+    <h1>{{pageTitle}}</h1>\n+    <p><a href=\"/\">Home</a></p>\n+    <p><a href=\"/about\">About</a></p>\n+</header>\n\\ No newline at end of file"
            }
          ]
        }
      ]
    }
  ]
}