# OpenScout å¼€å‘è€…é›·è¾¾å›¾è¯„åˆ†ç®—æ³•è§„èŒƒ (v1.0)

## 1. ç®—æ³•è®¾è®¡æ€è·¯
æœ¬æ¨¡åž‹æ—¨åœ¨å°†åŽŸå§‹çš„ GitHub æŒ–æŽ˜æ•°æ®è½¬æ¢ä¸º 0-100 çš„æ ‡å‡†åˆ†ï¼Œç”¨äºŽå‰ç«¯é›·è¾¾å›¾å±•ç¤ºã€‚è€ƒè™‘åˆ°å¼€æºæ•°æ®çš„é•¿å°¾æ•ˆåº”ï¼Œæˆ‘ä»¬é‡‡ç”¨ **"å¯¹æ•°å¹³æ»‘ + Z-Score æ ‡å‡†åŒ– + æ¦‚çŽ‡åˆ†å¸ƒæ˜ å°„"** çš„ä¸‰å±‚å¤„ç†é€»è¾‘ã€‚

## 2. è¯¦ç»†è®¡ç®—æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šç»´åº¦åŽŸå§‹å€¼èšåˆ (Raw Score Calculation)
æ ¹æ® `FIVE_DIMENSIONS_MODEL.md` å®šä¹‰çš„æƒé‡ï¼Œè®¡ç®—äº”ä¸ªç»´åº¦çš„åŽŸå§‹åŠ æƒå’Œã€‚

è®¾ $R$ ä¸ºæŸç»´åº¦çš„åŽŸå§‹å¾—åˆ†ï¼š

#### ðŸŒŸ å½±å“åŠ› (Influence)
$$R_{inf} = (Stars \times 0.6) + ((Forks + Issues) \times 0.4)$$
*(æ³¨: OpenRankæš‚æœªåŠ å…¥è®¡ç®—ï¼Œå¦‚åŠ å…¥å¯ä½œä¸ºä¹˜æ•°å› å­)*

#### ðŸ› ï¸ è´¡çŒ®åº¦ (Contribution)
$$R_{con} = (Merged\_External\_PRs \times 0.7) + (Created\_Issues \times 0.3)$$

#### ðŸ›¡ï¸ ç»´æŠ¤åŠ› (Maintainership)
$$R_{main} = Merged\_Others\_PRs \times 1.0$$

#### ðŸ’¬ æ´»è·ƒåº¦ (Engagement)
$$R_{eng} = (Issue\_Comments \times 0.6) + (Review\_Comments \times 0.4)$$

#### ðŸŒˆ å¤šæ ·æ€§ (Diversity)
$$R_{div} = (Languages \times 0.6) + (Topics \times 0.4)$$

#### ðŸ’» ä»£ç èƒ½åŠ› (Code Capability)
$$R_{code} = \text{Core Contribution Value}$$
*   **Core Contribution Value**: $\sum \ln(Repo\_Stars + 1)$ (ä»…ç»Ÿè®¡è¢«åˆå¹¶çš„å¤–éƒ¨ PR)
*   *PR Merge Rate (å¯é€‰å‚è€ƒ)*: $Merged / (Merged + Closed\_Unmerged)$

---

### ç¬¬äºŒæ­¥ï¼šæ•°æ®å¹³æ»‘ä¸Žæ­£æ€åŒ– (Normalization)
ç”±äºŽ GitHub æ•°æ®å­˜åœ¨æžå€¼ï¼ˆä¾‹å¦‚æŸäºº Star æ•°ä¸º 5000ï¼Œå¤§å¤šæ•°äººä¸º 10ï¼‰ï¼Œç›´æŽ¥å½’ä¸€åŒ–ä¼šå¯¼è‡´å¤§å¤šæ•°äººå¾—åˆ†è¶‹è¿‘äºŽ 0ã€‚

#### 1. å¯¹æ•°è½¬æ¢ (Log Transformation)
å¯¹åŽŸå§‹å€¼è¿›è¡Œå¯¹æ•°å¤„ç†ï¼Œå‡å¼±æžå€¼å½±å“ï¼Œä½¿å…¶æ›´æŽ¥è¿‘æ­£æ€åˆ†å¸ƒã€‚éœ€åŠ  1 é¿å… $\ln(0)$ é”™è¯¯ã€‚
$$L_{dim} = \ln(R_{dim} + 1)$$

#### 2. Z-Score æ ‡å‡†åŒ– (Standardization)
è®¡ç®—æ ·æœ¬é›†ï¼ˆ100äººï¼‰çš„å‡å€¼ï¼ˆ$\mu$ï¼‰å’Œæ ‡å‡†å·®ï¼ˆ$\sigma$ï¼‰ï¼Œè®¡ç®—æ¯ä¸ªäººçš„æ ‡å‡†åˆ†æ•°ã€‚
$$Z_{dim} = \frac{L_{dim} - \mu_{L}}{\sigma_{L}}$$
* $\mu_{L}$: è¯¥ç»´åº¦ä¸‹æ‰€æœ‰å€™é€‰äºº $L$ å€¼çš„å¹³å‡æ•°ã€‚
* $\sigma_{L}$: è¯¥ç»´åº¦ä¸‹æ‰€æœ‰å€™é€‰äºº $L$ å€¼çš„æ ‡å‡†å·®ã€‚

---

### ç¬¬ä¸‰æ­¥ï¼šç™¾åˆ†åˆ¶æ˜ å°„ (Score Mapping)
åˆ©ç”¨æ ‡å‡†æ­£æ€åˆ†å¸ƒçš„**ç´¯ç§¯åˆ†å¸ƒå‡½æ•° (CDF)** å°† Z-Score æ˜ å°„åˆ° 0-100 åŒºé—´ã€‚è¿™ä»£è¡¨äº†è¯¥å€™é€‰äººåœ¨å½“å‰ 100 äººæ ·æœ¬æ± ä¸­çš„**ç™¾åˆ†ä½æŽ’å**ã€‚

$$Score_{final} = \Phi(Z_{dim}) \times 100$$

* $\Phi(z)$: æ ‡å‡†æ­£æ€åˆ†å¸ƒçš„ç´¯ç§¯åˆ†å¸ƒå‡½æ•° (Cumulative Distribution Function)ã€‚
* **ç›´è§‚ç†è§£**:
    * å¦‚æžœ $Z=0$ (å¹³å‡æ°´å¹³)ï¼Œ$Score = 50$ åˆ†ã€‚
    * å¦‚æžœ $Z=2$ (çº¦å‰ 2.3% çš„é¡¶å°–æ°´å¹³)ï¼Œ$Score \approx 97.7$ åˆ†ã€‚
    * å¦‚æžœ $Z=-2$ (åŽ 2.3%)ï¼Œ $Score \approx 2.3$ åˆ†ã€‚

---

## 3. æžå€¼ä¸Žè¾¹ç•Œå¤„ç† (Edge Cases)

ä¸ºäº†ä¼˜åŒ– Demo å±•ç¤ºæ•ˆæžœï¼Œé˜²æ­¢åˆ†æ•°è¿‡äºŽé›†ä¸­æˆ–å‡ºçŽ°å¼‚å¸¸ï¼Œå»ºè®®å¢žåŠ ä»¥ä¸‹é€»è¾‘ï¼š

1.  **æœ€ä½Žåˆ†ä¿åº• (Min Score)**:
    å¦‚æžœåŽŸå§‹æ•°æ® $R > 0$ï¼Œä½†è®¡ç®—å‡ºçš„ $Score < 40$ï¼Œå¼ºåˆ¶ä¿®æ­£ä¸º 40-50 ä¹‹é—´çš„åˆ†æ•°ï¼ˆä¾‹å¦‚çº¿æ€§æ˜ å°„ï¼‰ã€‚
    *ç†ç”±ï¼šå¯¹äºŽ Demo è€Œè¨€ï¼Œç»™å¼€å‘è€…æ‰“å‡ åˆ†å¤ªéš¾çœ‹ï¼Œå»ºè®® 40 åˆ†èµ·æ­¥ï¼Œä½“çŽ°â€œæœ‰æ•°æ®å³æœ‰ä»·å€¼â€ã€‚*

2.  **é›¶å€¼å¤„ç†**:
    å¦‚æžœåŽŸå§‹æ•°æ® $R = 0$ï¼ˆä¾‹å¦‚å®Œå…¨æ²¡æœ‰ç»´æŠ¤è¿‡é¡¹ç›®ï¼‰ï¼Œç›´æŽ¥èµ‹å€¼ $Score = 0$ æˆ– $Score = 10$ï¼ˆå±•ç¤ºä¸ºä¸€ä¸ªæžå°çš„ç‚¹ï¼‰ï¼Œä¸å‚ä¸Ž Z-Score è®¡ç®—ï¼Œé¿å…æ‹‰ä½Žæ•´ä½“å‡å€¼ã€‚

3.  **è¶…çº§å·¨æ˜Ÿå¤„ç† (Outliers)**:
    å¦‚æžœæŸäººçš„æ•°æ®è¿‡äºŽç¦»è°±ï¼ˆä¾‹å¦‚ Star æ•°æ˜¯ç¬¬äºŒåçš„ 10 å€ï¼‰ï¼Œåœ¨è®¡ç®—å‡å€¼å’Œæ ‡å‡†å·®æ—¶ï¼Œå»ºè®®å‰”é™¤è¯¥æœ€å¤§å€¼ï¼Œæˆ–è€…è®¾ç½®å°é¡¶é˜ˆå€¼ï¼ˆWinsorizationï¼‰ï¼Œé˜²æ­¢ä»–ä¸€ä¸ªäººæŠŠå‰©ä¸‹ 99 ä¸ªäººéƒ½åŽ‹æˆä¸åŠæ ¼ã€‚

---

## 4. Python ä»£ç å®žçŽ°ç¤ºä¾‹ (ä¼ªä»£ç )

```python
import numpy as np
from scipy.stats import norm

def calculate_radar_score(raw_values):
    """
    raw_values: ä¸€ä¸ªåˆ—è¡¨ï¼ŒåŒ…å«100ä¸ªå€™é€‰äººåœ¨æŸä¸€ç»´åº¦ï¼ˆå¦‚å½±å“åŠ›ï¼‰çš„åŽŸå§‹å€¼ R
    """
    # 1. å¯¹æ•°è½¬æ¢
    log_values = np.log1p(raw_values)  # log(x+1)

    # 2. è®¡ç®—ç»Ÿè®¡é‡ (å¯é€‰æ‹©å‰”é™¤æœ€é«˜åˆ†æ¥è®¡ç®—å‡å€¼ï¼Œé¿å…åŽ‹åˆ¶)
    mu = np.mean(log_values)
    sigma = np.std(log_values)

    # é˜²æ­¢æ ‡å‡†å·®ä¸º0ï¼ˆæ‰€æœ‰äººæ•°æ®éƒ½ä¸€æ ·ï¼‰
    if sigma == 0:
        return [50 for _ in raw_values]

    scores = []
    for val in log_values:
        # 3. Z-Score
        z_score = (val - mu) / sigma
        
        # 4. CDF æ˜ å°„åˆ° 0-100
        # norm.cdf è¿”å›ž 0-1 çš„æ¦‚çŽ‡å€¼
        final_score = norm.cdf(z_score) * 100
        
        # ä¿ç•™ä¸€ä½å°æ•°
        scores.append(round(final_score, 1))
        
    return scores