{
  "username": "camilamaia",
  "agent_b_context": "\n=== PR #428 in brazilian-utils/javascript (Stars: 1605) ===\n\n=== PR #839 in scanapi/scanapi (Stars: 1456) ===\n\n=== PR #723 in scanapi/scanapi (Stars: 1456) ===\nFile: scanapi/cli.py\nPatch:\n@@ -2,7 +2,7 @@\n \n import click\n import yaml\n-from pkg_resources import get_distribution\n+from importlib.metadata import version\n from rich.logging import RichHandler\n \n from scanapi.exit_code import ExitCode\n@@ -11,11 +11,9 @@\n \n CONTEXT_SETTINGS = dict(help_option_names=[\"-h\", \"--help\"])\n \n-dist = get_distribution(\"scanapi\")\n-\n \n @click.group()\n-@click.version_option(version=dist.version)\n+@click.version_option(version=version(\"scanapi\"))\n def main():\n     \"\"\"Automated Testing and Documentation for your REST API.\"\"\"\n \n\nFile: scanapi/reporter.py\nPatch:\n@@ -3,7 +3,7 @@\n import pathlib\n import webbrowser\n \n-from pkg_resources import get_distribution\n+from importlib.metadata import version, PackageNotFoundError\n \n from scanapi.console import write_report_path\n from scanapi.session import session\n@@ -65,10 +65,15 @@ def _build_context(results):\n             [dict]: values required to render template.\n \n         \"\"\"\n+        try:\n+            scanapi_version = version(\"scanapi\")\n+        except PackageNotFoundError:\n+            scanapi_version = \"unknown\"\n+\n         return {\n             \"now\": datetime.datetime.now().replace(microsecond=0),\n             \"project_name\": settings.get(\"project_name\", \"\"),\n             \"results\": results,\n             \"session\": session,\n-            \"scanapi_version\": get_distribution(\"scanapi\").version,\n+            \"scanapi_version\": scanapi_version,\n         }\n\nFile: tests/unit/test_reporter.py\nPatch:\n@@ -11,6 +11,14 @@\n ]\n \n \n+@fixture\n+def mock_version(mocker):\n+    return mocker.patch(\n+        \"scanapi.reporter.version\",\n+        side_effect=lambda pkg: \"2.0.0\" if pkg == \"scanapi\" else \"unknown\",\n+    )\n+\n+\n @mark.describe(\"reporter\")\n @mark.describe(\"__init__\")\n class TestInit:\n@@ -67,16 +75,6 @@ def mocked__logger(self, mocker):\n     def mocked__webbrowser(self, mocker):\n         return mocker.patch(\"scanapi.reporter.webbrowser\")\n \n-    @fixture\n-    def mock_get_distribution(self, mocker):\n-        class MockDistro:\n-            @property\n-            def version(self):\n-                return \"2.0.0\"\n-\n-        mock_distr = mocker.patch(\"scanapi.reporter.get_distribution\")\n-        mock_distr.return_value = MockDistro()\n-\n     @fixture\n     def context(self, mocked__session):\n         return {\n@@ -96,11 +94,10 @@ def mocked__open(self, mocker):\n     @mark.it(\"should write to default output\")\n     def test_should_write_to_default_output(\n         self,\n-        mocker,\n      \n... (truncated)\n\n"
}